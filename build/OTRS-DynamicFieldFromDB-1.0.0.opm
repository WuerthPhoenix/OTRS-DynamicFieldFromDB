<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>OTRS-DynamicFieldFromDB</Name>
    <Version>1.0.0</Version>
    <Vendor>Wuerth Phoenix S.R.L.</Vendor>
    <URL>http://www.wuerthphoenix.com/</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 2, June 1991</License>
    <ChangeLog Version="1.0.0" Date="2012-11-28 12:30:21">First public release.</ChangeLog>
    <Description Lang="en">Adds a new DynamicField Type that permits to load the possible values at runtime from an external DB.</Description>
    <Framework>3.1.x</Framework>
    <IntroInstall Lang="en" Title="Thank you!" Type="post">Thank you for choosing the WP DynamicField From DB.</IntroInstall>
    <BuildDate>2012-11-28 11:36:35</BuildDate>
    <BuildHost>gicsrv.gruppo.autostrade.it</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/DynamicFieldDropdownFromDB.xml" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+CjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIxLjAiIGluaXQ9IkNoYW5nZXMiPgoKPENvbmZpZ0l0ZW0gTmFtZT0iRnJvbnRlbmQ6Ok1vZHVsZSMjI0FkbWluRHluYW1pY0ZpZWxkRHJvcGRvd25Gcm9tREIiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+IAo8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+IAo8R3JvdXA+RHluYW1pY0ZpZWxkczwvR3JvdXA+CjxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+CjxTZXR0aW5nPiAKPEZyb250ZW5kTW9kdWxlUmVnPiAKPEdyb3VwPmFkbWluPC9Hcm91cD4KPERlc2NyaXB0aW9uPkFkbWluPC9EZXNjcmlwdGlvbj4KPFRpdGxlIFRyYW5zbGF0YWJsZT0iMSI+RHluYW1pYyBGaWVsZHMgRHJvcC1kb3duIEZyb20gREIgQmFja2VuZCBHVUk8L1RpdGxlPgo8TG9hZGVyPgo8Q1NTPkNvcmUuQWdlbnQuQWRtaW4uRHluYW1pY0ZpZWxkLmNzczwvQ1NTPgo8SmF2YVNjcmlwdD5Db3JlLkFnZW50LkFkbWluLkR5bmFtaWNGaWVsZC5qczwvSmF2YVNjcmlwdD4gCjxKYXZhU2NyaXB0PkNvcmUuQWdlbnQuQWRtaW4uRHluYW1pY0ZpZWxkRHJvcGRvd24uanM8L0phdmFTY3JpcHQ+IAo8L0xvYWRlcj4gCjwvRnJvbnRlbmRNb2R1bGVSZWc+CjwvU2V0dGluZz4KPC9Db25maWdJdGVtPgoKPENvbmZpZ0l0ZW0gTmFtZT0iRnJvbnRlbmQ6Ok1vZHVsZSMjI0FkbWluRHluYW1pY0ZpZWxkVGV4dEFyZWFGcm9tREIiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+IAo8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+IAo8R3JvdXA+RHluYW1pY0ZpZWxkczwvR3JvdXA+CjxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+CjxTZXR0aW5nPiAKPEZyb250ZW5kTW9kdWxlUmVnPiAKPEdyb3VwPmFkbWluPC9Hcm91cD4KPERlc2NyaXB0aW9uPkFkbWluPC9EZXNjcmlwdGlvbj4KPFRpdGxlIFRyYW5zbGF0YWJsZT0iMSI+RHluYW1pYyBGaWVsZHMgRHJvcC1kb3duIEZyb20gREIgQmFja2VuZCBHVUk8L1RpdGxlPgo8TG9hZGVyPgo8Q1NTPkNvcmUuQWdlbnQuQWRtaW4uRHluYW1pY0ZpZWxkLmNzczwvQ1NTPgo8SmF2YVNjcmlwdD5Db3JlLkFnZW50LkFkbWluLkR5bmFtaWNGaWVsZC5qczwvSmF2YVNjcmlwdD4gCjxKYXZhU2NyaXB0PkNvcmUuQWdlbnQuQWRtaW4uRHluYW1pY0ZpZWxkVGV4dGFyZWEuanM8L0phdmFTY3JpcHQ+IAo8L0xvYWRlcj4gCjwvRnJvbnRlbmRNb2R1bGVSZWc+CjwvU2V0dGluZz4KPC9Db25maWdJdGVtPgoKCjxDb25maWdJdGVtIE5hbWU9IkR5bmFtaWNGaWVsZHM6OkJhY2tlbmQjIyNEcm9wZG93bkZyb21EQiIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RHluYW1pY0ZpZWxkIGJhY2tlbmQgcmVnaXN0cmF0aW9uLjwvRGVzY3JpcHRpb24+CjxHcm91cD5EeW5hbWljRmllbGRzPC9Hcm91cD4KPFN1Ykdyb3VwPkR5bmFtaWNGaWVsZHM6OkJhY2tlbmQ6OlJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+IAo8U2V0dGluZz4gCjxIYXNoPgo8SXRlbSBLZXk9IkRpc3BsYXlOYW1lIiBUcmFuc2xhdGFibGU9IjEiPkRyb3Bkb3duRnJvbURCPC9JdGVtPgo8SXRlbSBLZXk9Ik1vZHVsZSI+S2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZDo6RHJvcGRvd25Gcm9tREI8L0l0ZW0+IAo8SXRlbSBLZXk9IkNvbmZpZ0RpYWxvZyI+QWRtaW5EeW5hbWljRmllbGREcm9wZG93bkZyb21EQjwvSXRlbT4gCjwvSGFzaD4gCjwvU2V0dGluZz4KPC9Db25maWdJdGVtPgoKPENvbmZpZ0l0ZW0gTmFtZT0iRHluYW1pY0ZpZWxkczo6QmFja2VuZCMjI1RleHRBcmVhRnJvbURCIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPgo8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5EeW5hbWljRmllbGQgYmFja2VuZCByZWdpc3RyYXRpb24uPC9EZXNjcmlwdGlvbj4KPEdyb3VwPkR5bmFtaWNGaWVsZHM8L0dyb3VwPgo8U3ViR3JvdXA+RHluYW1pY0ZpZWxkczo6QmFja2VuZDo6UmVnaXN0cmF0aW9uPC9TdWJHcm91cD4gCjxTZXR0aW5nPiAKPEhhc2g+CjxJdGVtIEtleT0iRGlzcGxheU5hbWUiIFRyYW5zbGF0YWJsZT0iMSI+VGV4dEFyZWFGcm9tREI8L0l0ZW0+CjxJdGVtIEtleT0iTW9kdWxlIj5LZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOjpUZXh0QXJlYUZyb21EQjwvSXRlbT4gCjxJdGVtIEtleT0iQ29uZmlnRGlhbG9nIj5BZG1pbkR5bmFtaWNGaWVsZFRleHRBcmVhRnJvbURCPC9JdGVtPiAKPC9IYXNoPiAKPC9TZXR0aW5nPgo8L0NvbmZpZ0l0ZW0+CgoKPC9vdHJzX2NvbmZpZz4K</File>
        <File Location="Kernel/Output/HTML/Standard/AdminDynamicFieldDropdownFromDB.dtl" Permission="644" Encode="Base64">IyAtLQojIEFkbWluRHluYW1pY0ZpZWxkRHJvcGRvd24uZHRsIC0gcHJvdmlkZXMgSFRNTCBmb3JtIGZvciBBZG1pbkR5bmFtaWNGaWVsZHNEcm9wZG93bgojIENvcHlyaWdodCAoQykgMjAwMS0yMDExIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8KIyAtLQojICRJZDogQWRtaW5EeW5hbWljRmllbGREcm9wZG93bi5kdGwsdiAxLjE2IDIwMTEvMTIvMDUgMDg6NDg6NDEgbWcgRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCjxkaXYgY2xhc3M9Ik1haW5Cb3ggQVJJQVJvbGVNYWluIExheW91dEZpeGVkU2lkZWJhciBTaWRlYmFyRmlyc3QiPgogICAgPGgxPiRUZXh0eyJEeW5hbWljIEZpZWxkcyJ9IC0gJFRleHR7IiREYXRheyJPYmplY3RUeXBlTmFtZSJ9In06ICRUZXh0eyIkRGF0YXsiTW9kZSJ9In0gJFRleHR7IiREYXRheyJGaWVsZFR5cGVOYW1lIn0ifSAkVGV4dHsiRmllbGQifTwvaDE+CgogICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgIDxkaXYgY2xhc3M9IlNpZGViYXJDb2x1bW4iPgogICAgICAgIDxkaXYgY2xhc3M9IldpZGdldFNpbXBsZSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDI+JFRleHR7IkFjdGlvbnMifTwvaDI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0iQWN0aW9uTGlzdCI+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPUFkbWluRHluYW1pY0ZpZWxkIiBjbGFzcz0iQ2FsbEZvckFjdGlvbiI+PHNwYW4+JFRleHR7IkdvIGJhY2sgdG8gb3ZlcnZpZXcifTwvc3Bhbj48L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0iQ29udGVudENvbHVtbiI+CiAgICAgICAgPGZvcm0gYWN0aW9uPSIkRW52eyJDR0lIYW5kbGUifSIgbWV0aG9kPSJwb3N0IiBjbGFzcz0iVmFsaWRhdGUgUHJldmVudE11bHRpcGxlU3VibWl0cyI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkFjdGlvbiIgdmFsdWU9IkFkbWluRHluYW1pY0ZpZWxkRHJvcGRvd25Gcm9tREIiIC8+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlN1YmFjdGlvbiIgdmFsdWU9IiRRRGF0YXsiTW9kZSJ9QWN0aW9uIiAvPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJPYmplY3RUeXBlIiB2YWx1ZT0iJFFEYXRheyJPYmplY3RUeXBlIn0iIC8+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkZpZWxkVHlwZSIgdmFsdWU9IiRRRGF0YXsiRmllbGRUeXBlIn0iIC8+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IklEIiB2YWx1ZT0iJFFEYXRheyJJRCJ9IiAvPgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgPGgyPiRUZXh0eyJHZW5lcmFsIn08L2gyPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJMYXlvdXRHcmlkIENvbHVtbnNXaXRoU3BhY2luZyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IlNpemUxb2YyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzcz0iVGFibGVMaWtlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Ik1hbmRhdG9yeSIgZm9yPSJOYW1lIj48c3BhbiBjbGFzcz0iTWFya2VyIj4qPC9zcGFuPiAkVGV4dHsiTmFtZSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9Ik5hbWUiIGNsYXNzPSJXNTBwYyAkUURhdGF7Ik5hbWVTZXJ2ZXJFcnJvciJ9ICRRRGF0YXsiU2hvd1dhcm5pbmcifSAgVmFsaWRhdGVfQWxwaGFudW1lcmljIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjIwMCIgdmFsdWU9IiRRRGF0YXsiTmFtZSJ9IiBuYW1lPSJOYW1lIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Ik5hbWVFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLCBhbmQgdGhlIHZhbHVlIHNob3VsZCBiZSBhbHBoYWJldGljIGFuZCBudW1lcmljIGNoYXJhY3RlcnMgb25seS4ifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iTmFtZVNlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IiREYXRheyJOYW1lU2VydmVyRXJyb3JNZXNzYWdlIn0ifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPiRUZXh0eyJNdXN0IGJlIHVuaXF1ZSBhbmQgb25seSBhY2NlcHQgYWxwaGFiZXRpYyBhbmQgbnVtZXJpYyBjaGFyYWN0ZXJzLiJ9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iV2FybmluZyBIaWRkZW4iPiRUZXh0eyJDaGFuZ2luZyB0aGlzIHZhbHVlIHdpbGwgcmVxdWlyZSBtYW51YWwgY2hhbmdlcyBpbiB0aGUgc3lzdGVtLiJ9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJNYW5kYXRvcnkiIGZvcj0iTGFiZWwiPjxzcGFuIGNsYXNzPSJNYXJrZXIiPio8L3NwYW4+ICRUZXh0eyJMYWJlbCJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9IkxhYmVsIiBjbGFzcz0iVzUwcGMgJFFEYXRheyJMYWJlbFNlcnZlckVycm9yIn0gVmFsaWRhdGVfUmVxdWlyZWQiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iMjAwIiB2YWx1ZT0iJFFEYXRheyJMYWJlbCJ9IiBuYW1lPSJMYWJlbCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJMYWJlbEVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn08L3A+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkxhYmVsU2VydmVyRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiJERhdGF7IkxhYmVsU2VydmVyRXJyb3JNZXNzYWdlIn0ifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPiRUZXh0eyJUaGlzIGlzIHRoZSBuYW1lIHRvIGJlIHNob3duIG9uIHRoZSBzY3JlZW5zIHdoZXJlIHRoZSBmaWVsZCBpcyBhY3RpdmUuIn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Ik1hbmRhdG9yeSIgZm9yPSJGaWVsZE9yZGVyIj48c3BhbiBjbGFzcz0iTWFya2VyIj4qPC9zcGFuPiAkVGV4dHsiRmllbGQgb3JkZXIifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJERhdGF7IkR5bmFtaWNGaWVsZE9yZGVyU3J0ZyJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkZpZWxkT3JkZXJFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIG51bWVyaWMuIn08L3A+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkZpZWxkT3JkZXJTZXJ2ZXJFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyIkRGF0YXsiRmllbGRPcmRlclNlcnZlckVycm9yTWVzc2FnZSJ9In08L3A+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4kVGV4dHsiVGhpcyBpcyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhpcyBmaWVsZCB3aWxsIGJlIHNob3duIG9uIHRoZSBzY3JlZW5zIHdoZXJlIGlzIGFjdGl2ZS4ifTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iU2l6ZTFvZjIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzPSJUYWJsZUxpa2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IlZhbGlkSUQiPiRUZXh0eyJWYWxpZGl0eSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRGF0YXsiVmFsaWRpdHlTdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IlNwYWNpbmdUb3AiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IkZpZWxkVHlwZU5hbWUiPiRUZXh0eyJGaWVsZCB0eXBlIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iRmllbGRUeXBlTmFtZSIgcmVhZG9ubHk9InJlYWRvbmx5IiBjbGFzcz0iVzUwcGMiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iMjAwIiB2YWx1ZT0iJFFEYXRheyJGaWVsZFR5cGVOYW1lIn0iIG5hbWU9IkZpZWxkVHlwZU5hbWUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJTcGFjaW5nVG9wIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJPYmplY3RUeXBlTmFtZSI+JFRleHR7Ik9iamVjdCB0eXBlIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iT2JqZWN0VHlwZU5hbWUiIHJlYWRvbmx5PSJyZWFkb25seSIgY2xhc3M9Ilc1MHBjIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjIwMCIgdmFsdWU9IiRRRGF0YXsiT2JqZWN0VHlwZU5hbWUifSIgbmFtZT0iT2JqZWN0VHlwZU5hbWUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9maWVsZHNldD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IldpZGdldFNpbXBsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoMj4kVGV4dHsiJERhdGF7IkZpZWxkVHlwZU5hbWUifSJ9ICRUZXh0eyJGaWVsZCBTZXR0aW5ncyJ9PC9oMj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzPSJUYWJsZUxpa2UiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJTcGFjaW5nVG9wIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iRGVmYXVsdFZhbHVlIj4kVGV4dHsiRGVmYXVsdCB2YWx1ZSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICREYXRheyJEZWZhdWx0VmFsdWVTdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4kVGV4dHsiVGhpcyBpcyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhpcyBmaWVsZC4ifTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IlNwYWNpbmdUb3AiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJEZWZhdWx0VmFsdWUiPiRUZXh0eyJBZGQgZW1wdHkgdmFsdWUifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRGF0YXsiUG9zc2libGVOb25lU3RyZyJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+JFRleHR7IkFjdGl2YXRlIHRoaXMgb3B0aW9uIHRvIGNyZWF0ZSBhbiBlbXB0eSBzZWxlY3RhYmxlIHZhbHVlLiJ9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iVHJhbnNsYXRhYmxlVmFsdWVzIj4kVGV4dHsiVHJhbnNsYXRhYmxlIHZhbHVlcyJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICREYXRheyJUcmFuc2xhdGFibGVWYWx1ZXNTdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4kVGV4dHsiSWYgeW91IGFjdGl2YXRlIHRoaXMgb3B0aW9uIHRoZSB2YWx1ZXMgd2lsbCBiZSB0cmFuc2xhdGVkIHRvIHRoZSB1c2VyIGRlZmluZWQgbGFuZ3VhZ2UuIn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+PHN0cm9uZz4kVGV4dHsiTm90ZSJ9OiA8L3N0cm9uZz4kVGV4dHsiWW91IG5lZWQgdG8gYWRkIHRoZSB0cmFuc2xhdGlvbnMgbWFudWFsbHkgaW50byB0aGUgbGFuZ3VhZ2UgdHJhbnNsYXRpb24gZmlsZXMuIn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IkxpbmsiPiRUZXh0eyJTaG93IGxpbmsifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9IkxpbmsiIGNsYXNzPSJXNTBwYyIgdHlwZT0idGV4dCIgbWF4bGVuZ3RoPSI1MDAiIHZhbHVlPSIkUURhdGF7IkxpbmsifSIgbmFtZT0iTGluayIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJIZXJlIHlvdSBjYW4gc3BlY2lmeSBhbiBvcHRpb25hbCBIVFRQIGxpbmsgZm9yIHRoZSBmaWVsZCB2YWx1ZSBpbiBPdmVydmlld3MgYW5kIFpvb20gc2NyZWVucy4ifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxici8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7IllvdSBjYW4gc3BlY2lmeSB0aGUgS2V5IGluc3RlYWQgb2YgdGhlIFZhbHVlIHB1dHRpbmcgdGhlICclS0VZJScgcGxhY2Vob2xkZXIuIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJFeGFtcGxlIn06IGh0dHA6Ly9zb21lLmV4YW1wbGUuY29tL2hhbmRsZT9xdWVyeT08c3Bhbj4kPC9zcGFuPkxRRGF0YXsiRmllbGQxIn0/a2V5aWQ9JUtFWSUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IkRCSXN0cmluZyI+JFRleHR7IkRCSSBjb25uZWN0IHN0cmluZyJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iREJJc3RyaW5nIiBjbGFzcz0iVzUwcGMiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iNTAwIiB2YWx1ZT0iJFFEYXRheyJEQklzdHJpbmcifSIgbmFtZT0iREJJc3RyaW5nIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7IlNwZWNpZnkgdGhlIERCSSBjb25uZWN0IHN0cmluZyJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiRXhhbXBsZSJ9OiBEQkk6bXlzcWw6ZGF0YWJhc2VuYW1lO2hvc3Q9ZGIuZXhhbXBsZS5jb20KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iREJJdXNlciI+JFRleHR7IkRCIHVzZXJuYW1lIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJEQkl1c2VyIiBjbGFzcz0iVzUwcGMiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iNTAwIiB2YWx1ZT0iJFFEYXRheyJEQkl1c2VyIn0iIG5hbWU9IkRCSXVzZXIiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiU3BlY2lmeSB0aGUgREIgdXNlcm5hbWUifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iREJJcGFzcyI+JFRleHR7IkRCIHBhc3N3b3JkIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJEQklwYXNzIiBjbGFzcz0iVzUwcGMiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iNTAwIiB2YWx1ZT0iJFFEYXRheyJEQklwYXNzIn0iIG5hbWU9IkRCSXBhc3MiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiU3BlY2lmeSB0aGUgREIgcGFzc3dvcmQifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJCTxsYWJlbCBmb3I9IlF1ZXJ5Ij4kVGV4dHsiUXVlcnkifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9IlF1ZXJ5IiBjbGFzcz0iVzUwcGMiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iNTAwIiB2YWx1ZT0iJFFEYXRheyJRdWVyeSJ9IiBuYW1lPSJRdWVyeSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJIZXJlIHlvdSBjYW4gc3BlY2lmeSB0aGUgcXVlcnkgdG8gZXhlY3V0ZSBmb3IgdGhlIGl0ZW1zIGluIHRoZSBEeW5hbWljRmllbGQuIFB1dCBhID8gUGxhY2Vob2xkZXIgZm9yIGVhY2ggUGFyYW1ldGVyLiJ9CgkJCQk8YnIvPgoJCQkJJFRleHR7IktlZXAgaW4gbWluZCB0aGF0IG9ubHkgdGhlIGZpcnN0IGNvbHVtbiBpcyBzdG9yZWQgKGFuZCBub3QgdmlzdWFsaXplZCBpbiB0aGUgb3V0cHV0KSBhcyBrZXksIHNvIHNwZWNpZnlpbmcgYW4gdW5pcXVlIGlkZW50aWZpZXIgaXMgbWFuZGF0b3J5LiJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiRXhhbXBsZSB3aXRoIHBhcmFtZXRlcnMifTogU0VMRUNUIG5hbWUgRlJPTSB0YWJsZSBXSEVSRSBpZCA9ID8KCQkJCTxici8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7IkV4YW1wbGUgd2l0aG91dCBwYXJhbWV0ZXJzIn06IFNFTEVDVCBuYW1lIEZST00gdGFibGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCQkJPGxhYmVsIGZvcj0iVmlzdWFsUXVlcnkiPiRUZXh0eyJWaXN1YWxpemF0aW9uIFF1ZXJ5In06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJWaXN1YWxRdWVyeSIgY2xhc3M9Ilc1MHBjIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjUwMCIgdmFsdWU9IiRRRGF0YXsiVmlzdWFsUXVlcnkifSIgbmFtZT0iVmlzdWFsUXVlcnkiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiSGVyZSB5b3UgbXVzdCBzcGVjaWZ5IHRoZSBxdWVyeSB0byBleGVjdXRlIGZvciByZXRyaWV2aW5nIGJhY2sgdGhlIHN0cmluZyB2aXN1YWxpemVkIG9uY2Ugc3RvcmVkIHRoZSBrZXkuIFRoaXMgcXVlcnkgKm11c3QqIGhhdmUgKm9ubHkgb25lKiBQYXJhbWV0ZXIgdGhhdCBpcyBzdXNidGl0dXRlZCB3aXRoIHRoZSBzdG9yZWQga2V5LiJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiRXhhbXBsZSB3aXRoIHBhcmFtZXRlcnMifTogU0VMRUNUIG5hbWUgRlJPTSB0YWJsZSBXSEVSRSBpZCA9ID8KCQkJCTxici8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7Ik5PVEU6IFRoaXMgZmVhdHVyZSBpcyBvbmx5IGF2YWlsYWJsZSB3aXRoIHRoZSBPVFJTVGlja2V0TWFza0V4dGVuc2lvbiBhZGQtb24gb24gd2hpY2ggaXQgZGVwZW5kcyBvbi4ifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQk8bGFiZWwgZm9yPSJQYXJhbWV0ZXJzIj4kVGV4dHsiUGFyYW1ldGVycyJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iUGFyYW1ldGVycyIgY2xhc3M9Ilc1MHBjIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjUwMCIgdmFsdWU9IiRRRGF0YXsiUGFyYW1ldGVycyJ9IiBuYW1lPSJQYXJhbWV0ZXJzIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7IkhlcmUgeW91IG11c3Qgc3BlY2lmeSB0aGUgUGFyYW1ldGVycy4gT1JERVIgSVMgUkVMRVZBTlQhIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPgogCQkJCSRUZXh0eyJJTVBPUlRBTlQ6IGRvbid0IHB1dCBhbnkgc3BhY2VzIGJlZm9yZS9hZnRlciBwYXJhbWV0ZXJzISJ9CgkJCQk8YnIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJFeGFtcGxlIn06IEN1c3RvbWVyLEZyb20KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJCTxsYWJlbCBmb3I9IlNlcGFyYXRvciI+JFRleHR7IlNlcGFyYXRvciJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iU2VwYXJhdG9yIiBjbGFzcz0iVzUwcGMiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iNTAwIiB2YWx1ZT0iJFFEYXRheyJTZXBhcmF0b3IifSIgbmFtZT0iU2VwYXJhdG9yIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7IldoZW4gbXVsdGlwbGUgY29sdW1ucyBhcmUgc2VsZWN0ZWQgaW4gdGhlIHF1ZXJ5LCB0aGUgYXJlIGNvbmNhdGVuZXRlZCBpbiBhIHNpbmdsZSByb3cuIFNwZWNpZnkgdGhlIHNlcGFyYXRvciBoZXJlLiJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJFeGFtcGxlIn06ICwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CjwhLS0gZHRsOmJsb2NrOlRpY2tldE1hc2tFeHRlbnNpb25EaXNhYmxlZCAtLT4KPCEtLWR0bDpqc19vbl9kb2N1bWVudF9jb21wbGV0ZS0tPgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+Ly88IVtDREFUQVsKICAgICAgICAgICAgICAgICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CgkJCSAgJCgiI1NlcGFyYXRvciIpLmF0dHIoImRpc2FibGVkIiwgImRpc2FibGVkIik7CgkJCSAgJCgiI1NlcGFyYXRvciIpLmF0dHIoInZhbHVlIiwgIihub3QgYXZhaWxhYmxlKSIpOwoJCQkgICQoIiNTZXBhcmF0b3IiKS5jc3Moe2NvbG9yOicjOTk5OTk5J30pOwoJCQkgICQoIiNQYXJhbWV0ZXJzIikuYXR0cigiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsKCQkJICAkKCIjUGFyYW1ldGVycyIpLmF0dHIoInZhbHVlIiwgIihub3QgYXZhaWxhYmxlKSIpOwoJCQkgICQoIiNQYXJhbWV0ZXJzIikuY3NzKHtjb2xvcjonIzk5OTk5OSd9KTsKICAgICAgICAgICAgICAgICAgICAgICA8L3NjcmlwdD4KLy9dXT48L3NjcmlwdD4KPCEtLWR0bDpqc19vbl9kb2N1bWVudF9jb21wbGV0ZS0tPgo8IS0tIGR0bDpibG9jazpUaWNrZXRNYXNrRXh0ZW5zaW9uRGlzYWJsZWQgLS0+CgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJCTxsYWJlbCBmb3I9IkNhY2hlVFRMIj4kVGV4dHsiQ2FjaGUgVGltZSBUbyBMaXZlIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJDYWNoZVRUTCIgY2xhc3M9Ilc1MHBjIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjUwMCIgdmFsdWU9IiRRRGF0YXsiQ2FjaGVUVEwifSIgbmFtZT0iQ2FjaGVUVEwiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiU3BlY2lmeSB0aGUgY2FjaGUgdmFsaWRpdHkgaW4gc2Vjb25kcy4gQ29uc2lkZXIgdGhhdCBvbmx5IHF1ZXJpZXMgd2l0aCBpZGVudGljYWwgcGFyYW1ldGVycyBhcmUgY2FjaGVkLiJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJFeGFtcGxlIn06IDM2MAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogCiAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3M9IlRhYmxlTGlrZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCBTcGFjaW5nVG9wIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9IlByaW1hcnkiIHZhbHVlPSIkVGV4dHsiU2F2ZSJ9Ij4kVGV4dHsiU2F2ZSJ9PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgJFRleHR7Im9yIn0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPUFkbWluRHluYW1pY0ZpZWxkIj4kVGV4dHsiQ2FuY2VsIn08L2E+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KICAgICAgICAgICAgPC9maWVsZHNldD4KICAgICAgICA8L2Zvcm0+CiAgICA8L2Rpdj4KPC9kaXY+CjwhLS1kdGw6anNfb25fZG9jdW1lbnRfY29tcGxldGUtLT4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPi8vPCFbQ0RBVEFbCiQoJy5TaG93V2FybmluZycpLmJpbmQoJ2NoYW5nZSBrZXl1cCcsIGZ1bmN0aW9uIChFdmVudCkgewogICAgJCgncC5XYXJuaW5nJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpOwp9KTsKCi8vYmluZCBjbGljayBmdW5jdGlvbiB0byBhZGQgYnV0dG9uCiQoJyNBZGRWYWx1ZScpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgQ29yZS5BZ2VudC5BZG1pbi5EeW5hbWljRmllbGREcm9wZG93bi5BZGRWYWx1ZSgKICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2ZpZWxkc2V0JykuZmluZCgnLlZhbHVlSW5zZXJ0JykKICAgICk7CiAgICByZXR1cm4gZmFsc2U7Cn0pOwoKLy9iaW5kIGNsaWNrIGZ1bmN0aW9uIHRvIHJlbW92ZSBidXR0b24KJCgnLlZhbHVlUmVtb3ZlJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICBDb3JlLkFnZW50LkFkbWluLkR5bmFtaWNGaWVsZERyb3Bkb3duLlJlbW92ZVZhbHVlKCQodGhpcykuYXR0cignaWQnKSk7CiAgICByZXR1cm4gZmFsc2U7Cn0pOwoKJCgnLkRlZmF1bHRWYWx1ZUtleUl0ZW0sLkRlZmF1bHRWYWx1ZUl0ZW0nKS5iaW5kKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHsKICAgIENvcmUuQWdlbnQuQWRtaW4uRHluYW1pY0ZpZWxkRHJvcGRvd24uUmVjcmVhdGVEZWZhdWx0VmFsdWVMaXN0KCk7Cn0pOwoKQ29yZS5BZ2VudC5BZG1pbi5EeW5hbWljRmllbGQuVmFsaWRhdGlvbkluaXQoKTsKLy9dXT48L3NjcmlwdD4KPCEtLWR0bDpqc19vbl9kb2N1bWVudF9jb21wbGV0ZS0tPgo=</File>
        <File Location="Kernel/Output/HTML/Standard/AdminDynamicFieldTextAreaFromDB.dtl" Permission="644" Encode="Base64">IyAtLQojIEFkbWluRHluYW1pY0ZpZWxkRHJvcGRvd24uZHRsIC0gcHJvdmlkZXMgSFRNTCBmb3JtIGZvciBBZG1pbkR5bmFtaWNGaWVsZHNEcm9wZG93bgojIENvcHlyaWdodCAoQykgMjAwMS0yMDExIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8KIyAtLQojICRJZDogQWRtaW5EeW5hbWljRmllbGREcm9wZG93bi5kdGwsdiAxLjE2IDIwMTEvMTIvMDUgMDg6NDg6NDEgbWcgRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCjxkaXYgY2xhc3M9Ik1haW5Cb3ggQVJJQVJvbGVNYWluIExheW91dEZpeGVkU2lkZWJhciBTaWRlYmFyRmlyc3QiPgogICAgPGgxPiRUZXh0eyJEeW5hbWljIEZpZWxkcyJ9IC0gJFRleHR7IiREYXRheyJPYmplY3RUeXBlTmFtZSJ9In06ICRUZXh0eyIkRGF0YXsiTW9kZSJ9In0gJFRleHR7IiREYXRheyJGaWVsZFR5cGVOYW1lIn0ifSAkVGV4dHsiRmllbGQifTwvaDE+CgogICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgIDxkaXYgY2xhc3M9IlNpZGViYXJDb2x1bW4iPgogICAgICAgIDxkaXYgY2xhc3M9IldpZGdldFNpbXBsZSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDI+JFRleHR7IkFjdGlvbnMifTwvaDI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0iQWN0aW9uTGlzdCI+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPUFkbWluRHluYW1pY0ZpZWxkIiBjbGFzcz0iQ2FsbEZvckFjdGlvbiI+PHNwYW4+JFRleHR7IkdvIGJhY2sgdG8gb3ZlcnZpZXcifTwvc3Bhbj48L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0iQ29udGVudENvbHVtbiI+CiAgICAgICAgPGZvcm0gYWN0aW9uPSIkRW52eyJDR0lIYW5kbGUifSIgbWV0aG9kPSJwb3N0IiBjbGFzcz0iVmFsaWRhdGUgUHJldmVudE11bHRpcGxlU3VibWl0cyI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkFjdGlvbiIgdmFsdWU9IkFkbWluRHluYW1pY0ZpZWxkVGV4dEFyZWFGcm9tREIiIC8+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlN1YmFjdGlvbiIgdmFsdWU9IiRRRGF0YXsiTW9kZSJ9QWN0aW9uIiAvPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJPYmplY3RUeXBlIiB2YWx1ZT0iJFFEYXRheyJPYmplY3RUeXBlIn0iIC8+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkZpZWxkVHlwZSIgdmFsdWU9IiRRRGF0YXsiRmllbGRUeXBlIn0iIC8+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IklEIiB2YWx1ZT0iJFFEYXRheyJJRCJ9IiAvPgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgPGgyPiRUZXh0eyJHZW5lcmFsIn08L2gyPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJMYXlvdXRHcmlkIENvbHVtbnNXaXRoU3BhY2luZyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IlNpemUxb2YyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzcz0iVGFibGVMaWtlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Ik1hbmRhdG9yeSIgZm9yPSJOYW1lIj48c3BhbiBjbGFzcz0iTWFya2VyIj4qPC9zcGFuPiAkVGV4dHsiTmFtZSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9Ik5hbWUiIGNsYXNzPSJXNTBwYyAkUURhdGF7Ik5hbWVTZXJ2ZXJFcnJvciJ9ICRRRGF0YXsiU2hvd1dhcm5pbmcifSAgVmFsaWRhdGVfQWxwaGFudW1lcmljIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjIwMCIgdmFsdWU9IiRRRGF0YXsiTmFtZSJ9IiBuYW1lPSJOYW1lIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Ik5hbWVFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLCBhbmQgdGhlIHZhbHVlIHNob3VsZCBiZSBhbHBoYWJldGljIGFuZCBudW1lcmljIGNoYXJhY3RlcnMgb25seS4ifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iTmFtZVNlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IiREYXRheyJOYW1lU2VydmVyRXJyb3JNZXNzYWdlIn0ifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPiRUZXh0eyJNdXN0IGJlIHVuaXF1ZSBhbmQgb25seSBhY2NlcHQgYWxwaGFiZXRpYyBhbmQgbnVtZXJpYyBjaGFyYWN0ZXJzLiJ9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iV2FybmluZyBIaWRkZW4iPiRUZXh0eyJDaGFuZ2luZyB0aGlzIHZhbHVlIHdpbGwgcmVxdWlyZSBtYW51YWwgY2hhbmdlcyBpbiB0aGUgc3lzdGVtLiJ9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJNYW5kYXRvcnkiIGZvcj0iTGFiZWwiPjxzcGFuIGNsYXNzPSJNYXJrZXIiPio8L3NwYW4+ICRUZXh0eyJMYWJlbCJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9IkxhYmVsIiBjbGFzcz0iVzUwcGMgJFFEYXRheyJMYWJlbFNlcnZlckVycm9yIn0gVmFsaWRhdGVfUmVxdWlyZWQiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iMjAwIiB2YWx1ZT0iJFFEYXRheyJMYWJlbCJ9IiBuYW1lPSJMYWJlbCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJMYWJlbEVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn08L3A+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkxhYmVsU2VydmVyRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiJERhdGF7IkxhYmVsU2VydmVyRXJyb3JNZXNzYWdlIn0ifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPiRUZXh0eyJUaGlzIGlzIHRoZSBuYW1lIHRvIGJlIHNob3duIG9uIHRoZSBzY3JlZW5zIHdoZXJlIHRoZSBmaWVsZCBpcyBhY3RpdmUuIn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Ik1hbmRhdG9yeSIgZm9yPSJGaWVsZE9yZGVyIj48c3BhbiBjbGFzcz0iTWFya2VyIj4qPC9zcGFuPiAkVGV4dHsiRmllbGQgb3JkZXIifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJERhdGF7IkR5bmFtaWNGaWVsZE9yZGVyU3J0ZyJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkZpZWxkT3JkZXJFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIG51bWVyaWMuIn08L3A+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkZpZWxkT3JkZXJTZXJ2ZXJFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyIkRGF0YXsiRmllbGRPcmRlclNlcnZlckVycm9yTWVzc2FnZSJ9In08L3A+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4kVGV4dHsiVGhpcyBpcyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhpcyBmaWVsZCB3aWxsIGJlIHNob3duIG9uIHRoZSBzY3JlZW5zIHdoZXJlIGlzIGFjdGl2ZS4ifTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iU2l6ZTFvZjIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzPSJUYWJsZUxpa2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IlZhbGlkSUQiPiRUZXh0eyJWYWxpZGl0eSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRGF0YXsiVmFsaWRpdHlTdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IlNwYWNpbmdUb3AiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IkZpZWxkVHlwZU5hbWUiPiRUZXh0eyJGaWVsZCB0eXBlIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iRmllbGRUeXBlTmFtZSIgcmVhZG9ubHk9InJlYWRvbmx5IiBjbGFzcz0iVzUwcGMiIHR5cGU9InRleHQiIG1heGxlbmd0aD0iMjAwIiB2YWx1ZT0iJFFEYXRheyJGaWVsZFR5cGVOYW1lIn0iIG5hbWU9IkZpZWxkVHlwZU5hbWUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJTcGFjaW5nVG9wIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJPYmplY3RUeXBlTmFtZSI+JFRleHR7Ik9iamVjdCB0eXBlIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iT2JqZWN0VHlwZU5hbWUiIHJlYWRvbmx5PSJyZWFkb25seSIgY2xhc3M9Ilc1MHBjIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjIwMCIgdmFsdWU9IiRRRGF0YXsiT2JqZWN0VHlwZU5hbWUifSIgbmFtZT0iT2JqZWN0VHlwZU5hbWUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9maWVsZHNldD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IldpZGdldFNpbXBsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoMj4kVGV4dHsiJERhdGF7IkZpZWxkVHlwZU5hbWUifSJ9ICRUZXh0eyJGaWVsZCBTZXR0aW5ncyJ9PC9oMj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzPSJUYWJsZUxpa2UiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJTcGFjaW5nVG9wIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iRGVmYXVsdFZhbHVlIj4kVGV4dHsiRGVmYXVsdCB2YWx1ZSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICREYXRheyJEZWZhdWx0VmFsdWVTdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4kVGV4dHsiVGhpcyBpcyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhpcyBmaWVsZC4ifTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IlNwYWNpbmdUb3AiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJEZWZhdWx0VmFsdWUiPiRUZXh0eyJBZGQgZW1wdHkgdmFsdWUifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRGF0YXsiUG9zc2libGVOb25lU3RyZyJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+JFRleHR7IkFjdGl2YXRlIHRoaXMgb3B0aW9uIHRvIGNyZWF0ZSBhbiBlbXB0eSBzZWxlY3RhYmxlIHZhbHVlLiJ9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iVHJhbnNsYXRhYmxlVmFsdWVzIj4kVGV4dHsiVHJhbnNsYXRhYmxlIHZhbHVlcyJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICREYXRheyJUcmFuc2xhdGFibGVWYWx1ZXNTdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4kVGV4dHsiSWYgeW91IGFjdGl2YXRlIHRoaXMgb3B0aW9uIHRoZSB2YWx1ZXMgd2lsbCBiZSB0cmFuc2xhdGVkIHRvIHRoZSB1c2VyIGRlZmluZWQgbGFuZ3VhZ2UuIn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+PHN0cm9uZz4kVGV4dHsiTm90ZSJ9OiA8L3N0cm9uZz4kVGV4dHsiWW91IG5lZWQgdG8gYWRkIHRoZSB0cmFuc2xhdGlvbnMgbWFudWFsbHkgaW50byB0aGUgbGFuZ3VhZ2UgdHJhbnNsYXRpb24gZmlsZXMuIn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iREJJc3RyaW5nIj4kVGV4dHsiREJJIGNvbm5lY3Qgc3RyaW5nIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJEQklzdHJpbmciIGNsYXNzPSJXNTBwYyIgdHlwZT0idGV4dCIgbWF4bGVuZ3RoPSI1MDAiIHZhbHVlPSIkUURhdGF7IkRCSXN0cmluZyJ9IiBuYW1lPSJEQklzdHJpbmciLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiU3BlY2lmeSB0aGUgREJJIGNvbm5lY3Qgc3RyaW5nIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJFeGFtcGxlIn06IERCSTpteXNxbDpkYXRhYmFzZW5hbWU7aG9zdD1kYi5leGFtcGxlLmNvbQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJEQkl1c2VyIj4kVGV4dHsiREIgdXNlcm5hbWUifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9IkRCSXVzZXIiIGNsYXNzPSJXNTBwYyIgdHlwZT0idGV4dCIgbWF4bGVuZ3RoPSI1MDAiIHZhbHVlPSIkUURhdGF7IkRCSXVzZXIifSIgbmFtZT0iREJJdXNlciIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJTcGVjaWZ5IHRoZSBEQiB1c2VybmFtZSJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJEQklwYXNzIj4kVGV4dHsiREIgcGFzc3dvcmQifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9IkRCSXBhc3MiIGNsYXNzPSJXNTBwYyIgdHlwZT0idGV4dCIgbWF4bGVuZ3RoPSI1MDAiIHZhbHVlPSIkUURhdGF7IkRCSXBhc3MifSIgbmFtZT0iREJJcGFzcyIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJTcGVjaWZ5IHRoZSBEQiBwYXNzd29yZCJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCQkJPGxhYmVsIGZvcj0iUXVlcnkiPiRUZXh0eyJRdWVyeSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iUXVlcnkiIGNsYXNzPSJXNTBwYyIgdHlwZT0idGV4dCIgbWF4bGVuZ3RoPSI1MDAiIHZhbHVlPSIkUURhdGF7IlF1ZXJ5In0iIG5hbWU9IlF1ZXJ5Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7IkhlcmUgeW91IGNhbiBzcGVjaWZ5IHRoZSBxdWVyeSB0byBleGVjdXRlIGZvciB0aGUgaXRlbXMgaW4gdGhlIER5bmFtaWNGaWVsZC4gUHV0IGEgPyBQbGFjZWhvbGRlciBmb3IgZWFjaCBQYXJhbWV0ZXIuIn0KCQkJCTxici8+CgkJCQkkVGV4dHsiRWFjaCBjb2x1bW4gd2lsbCB0aGVuIHZpc3VhbGl6ZWQgbGlrZSAnQ09MVU1OTkFNRTogVkFMVUUnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJFeGFtcGxlIHdpdGggcGFyYW1ldGVycyJ9OiBTRUxFQ1QgbmFtZSBGUk9NIHRhYmxlIFdIRVJFIGlkID0gPwoJCQkJPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiRXhhbXBsZSB3aXRob3V0IHBhcmFtZXRlcnMifTogU0VMRUNUIG5hbWUgRlJPTSB0YWJsZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoJCQk8bGFiZWwgZm9yPSJQYXJhbWV0ZXJzIj4kVGV4dHsiUGFyYW1ldGVycyJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iUXVlcnkiIGNsYXNzPSJXNTBwYyIgdHlwZT0idGV4dCIgbWF4bGVuZ3RoPSI1MDAiIHZhbHVlPSIkUURhdGF7IlBhcmFtZXRlcnMifSIgbmFtZT0iUGFyYW1ldGVycyIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJIZXJlIHlvdSBtdXN0IHNwZWNpZnkgdGhlIFBhcmFtZXRlcnMuIE9SREVSIElTIFJFTEVWQU5UISJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz4KIAkJCQkkVGV4dHsiSU1QT1JUQU5UOiBkb24ndCBwdXQgYW55IHNwYWNlcyBiZWZvcmUvYWZ0ZXIgcGFyYW1ldGVycyEifQoJCQkJPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiRXhhbXBsZSJ9OiBDdXN0b21lcixGcm9tCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CgkJCTxsYWJlbCBmb3I9IkNhY2hlVFRMIj4kVGV4dHsiQ2FjaGUgVGltZSBUbyBMaXZlIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJDYWNoZVRUTCIgY2xhc3M9Ilc1MHBjIiB0eXBlPSJ0ZXh0IiBtYXhsZW5ndGg9IjUwMCIgdmFsdWU9IiRRRGF0YXsiQ2FjaGVUVEwifSIgbmFtZT0iQ2FjaGVUVEwiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiU3BlY2lmeSB0aGUgY2FjaGUgdmFsaWRpdHkgaW4gc2Vjb25kcy4gQ29uc2lkZXIgdGhhdCBvbmx5IHF1ZXJpZXMgd2l0aCBpZGVudGljYWwgcGFyYW1ldGVycyBhcmUgY2FjaGVkLiJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJFeGFtcGxlIn06IDM2MAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KIAogICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3M9IlRhYmxlTGlrZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCBTcGFjaW5nVG9wIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9IlByaW1hcnkiIHZhbHVlPSIkVGV4dHsiU2F2ZSJ9Ij4kVGV4dHsiU2F2ZSJ9PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgJFRleHR7Im9yIn0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPUFkbWluRHluYW1pY0ZpZWxkIj4kVGV4dHsiQ2FuY2VsIn08L2E+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KICAgICAgICAgICAgPC9maWVsZHNldD4KICAgICAgICA8L2Zvcm0+CiAgICA8L2Rpdj4KPC9kaXY+CjwhLS1kdGw6anNfb25fZG9jdW1lbnRfY29tcGxldGUtLT4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPi8vPCFbQ0RBVEFbCiQoJy5TaG93V2FybmluZycpLmJpbmQoJ2NoYW5nZSBrZXl1cCcsIGZ1bmN0aW9uIChFdmVudCkgewogICAgJCgncC5XYXJuaW5nJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpOwp9KTsKCi8vYmluZCBjbGljayBmdW5jdGlvbiB0byBhZGQgYnV0dG9uCiQoJyNBZGRWYWx1ZScpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgQ29yZS5BZ2VudC5BZG1pbi5EeW5hbWljRmllbGREcm9wZG93bi5BZGRWYWx1ZSgKICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2ZpZWxkc2V0JykuZmluZCgnLlZhbHVlSW5zZXJ0JykKICAgICk7CiAgICByZXR1cm4gZmFsc2U7Cn0pOwoKLy9iaW5kIGNsaWNrIGZ1bmN0aW9uIHRvIHJlbW92ZSBidXR0b24KJCgnLlZhbHVlUmVtb3ZlJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICBDb3JlLkFnZW50LkFkbWluLkR5bmFtaWNGaWVsZERyb3Bkb3duLlJlbW92ZVZhbHVlKCQodGhpcykuYXR0cignaWQnKSk7CiAgICByZXR1cm4gZmFsc2U7Cn0pOwoKJCgnLkRlZmF1bHRWYWx1ZUtleUl0ZW0sLkRlZmF1bHRWYWx1ZUl0ZW0nKS5iaW5kKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHsKICAgIENvcmUuQWdlbnQuQWRtaW4uRHluYW1pY0ZpZWxkRHJvcGRvd24uUmVjcmVhdGVEZWZhdWx0VmFsdWVMaXN0KCk7Cn0pOwoKQ29yZS5BZ2VudC5BZG1pbi5EeW5hbWljRmllbGQuVmFsaWRhdGlvbkluaXQoKTsKLy9dXT48L3NjcmlwdD4KPCEtLWR0bDpqc19vbl9kb2N1bWVudF9jb21wbGV0ZS0tPgo=</File>
        <File Location="Custom/Kernel/Modules/AdminDynamicFieldDropdownFromDB.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9Nb2R1bGVzL0FkbWluRHluYW1pY0ZpZWxkRHJvcGRvd24ucG0gLSBwcm92aWRlcyBhIGR5bmFtaWMgZmllbGRzIHRleHQgY29uZmlnIHZpZXcgZm9yIGFkbWlucwojIENvcHlyaWdodCAoQykgMjAwMS0yMDEyIFd1ZXJ0aFBob2VuaXggU1JMLCBodHRwOi8vd3d3Lnd1ZXJ0aHBob2VuaXguaXQvCiMgLS0KIyAkSWQ6IEFkbWluRHluYW1pY0ZpZWxkRHJvcGRvd25Gcm9tREIucG0sdiAxLjAwIDIwMTIvMDQvMTggMTk6Mzg6MDEgY3IgRXhwICQKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZG1pbkR5bmFtaWNGaWVsZERyb3Bkb3duRnJvbURCOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIEtlcm5lbDo6U3lzdGVtOjpWYXJpYWJsZUNoZWNrIHF3KDphbGwpOwp1c2UgS2VybmVsOjpTeXN0ZW06OlZhbGlkOwp1c2UgS2VybmVsOjpTeXN0ZW06OkNoZWNrSXRlbTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ7Cgp1c2UgdmFycyBxdygkVkVSU0lPTik7CiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjE1ICQpIFsxXTsKCnN1YiBuZXcgewogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkU2VsZiA9IHslUGFyYW19OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgIGZvciAocXcoUGFyYW1PYmplY3QgTGF5b3V0T2JqZWN0IExvZ09iamVjdCBDb25maWdPYmplY3QpKSB7CiAgICAgICAgaWYgKCAhJFNlbGYtPnskX30gKSB7CiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvciggTWVzc2FnZSA9PiAiR290IG5vICRfISIgKTsKICAgICAgICB9CiAgICB9CgogICAgIyBjcmVhdGUgYWRkaXRpb25hbCBvYmplY3RzCiAgICAkU2VsZi0+e1ZhbGlkT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpWYWxpZC0+bmV3KCAleyRTZWxmfSApOwoKICAgICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQtPm5ldyggJXskU2VsZn0gKTsKCiAgICAjIGdldCBjb25maWd1cmVkIG9iamVjdCB0eXBlcwogICAgJFNlbGYtPntPYmplY3RUeXBlQ29uZmlnfSA9ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCdEeW5hbWljRmllbGRzOjpPYmplY3RUeXBlJyk7CgogICAgIyBnZXQgdGhlIGZpZWxkcyBjb25maWcKICAgICRTZWxmLT57RmllbGRUeXBlQ29uZmlnfSA9ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCdEeW5hbWljRmllbGRzOjpCYWNrZW5kJykgfHwge307CgogICAgIyBzZXQgcG9zc2libGUgdmFsdWVzIGhhbmRsaW5nIHN0cmluZ3MKICAgICRTZWxmLT57RW1wdHlTdHJpbmd9ICAgICA9ICdfRHluYW1pY0ZpZWxkc19FbXB0eVN0cmluZ19Eb250X1VzZV9JdF9TdHJpbmdfUGxlYXNlJzsKICAgICRTZWxmLT57RHVwbGljYXRlU3RyaW5nfSA9ICdfRHluYW1pY0ZpZWxkc19EdXBsaWNhdGVkU3RyaW5nX0RvbnRfVXNlX0l0X1N0cmluZ19QbGVhc2UnOwogICAgJFNlbGYtPntEZWxldGVkU3RyaW5nfSAgID0gJ19EeW5hbWljRmllbGRzX0RlbGV0ZWRTdHJpbmdfRG9udF9Vc2VfSXRfU3RyaW5nX1BsZWFzZSc7CgogICAgcmV0dXJuICRTZWxmOwp9CgpzdWIgUnVuIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0FkZCcgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT5fQWRkKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgKTsKICAgIH0KICAgIGVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdBZGRBY3Rpb24nICkgewoKICAgICAgICAjIGNoYWxsZW5nZSB0b2tlbiBjaGVjayBmb3Igd3JpdGUgYWN0aW9uCiAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5DaGFsbGVuZ2VUb2tlbkNoZWNrKCk7CgogICAgICAgIHJldHVybiAkU2VsZi0+X0FkZEFjdGlvbigKICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICk7CiAgICB9CiAgICBpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQ2hhbmdlJyApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPl9DaGFuZ2UoCiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICApOwogICAgfQogICAgZWxzaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0NoYW5nZUFjdGlvbicgKSB7CgogICAgICAgICMgY2hhbGxlbmdlIHRva2VuIGNoZWNrIGZvciB3cml0ZSBhY3Rpb24KICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkNoYWxsZW5nZVRva2VuQ2hlY2soKTsKCiAgICAgICAgcmV0dXJuICRTZWxmLT5fQ2hhbmdlQWN0aW9uKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgKTsKICAgIH0KICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgIE1lc3NhZ2UgPT4gIlVuZGVmaW5lZCBzdWJhY3Rpb24uIiwKICAgICk7Cn0KCnN1YiBfQWRkIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJUdldFBhcmFtOwogICAgZm9yIG15ICROZWVkZWQgKHF3KE9iamVjdFR5cGUgRmllbGRUeXBlIEZpZWxkT3JkZXIpKSB7CiAgICAgICAgJEdldFBhcmFteyROZWVkZWR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkTmVlZGVkICk7CiAgICAgICAgaWYgKCAhJE5lZWRlZCApIHsKICAgICAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgICAgICBNZXNzYWdlID0+ICJOZWVkICROZWVkZWQiLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICAjIGdldCB0aGUgb2JqZWN0IHR5cGUgYW5kIGZpZWxkIHR5cGUgZGlzcGxheSBuYW1lCiAgICBteSAkT2JqZWN0VHlwZU5hbWUgPSAkU2VsZi0+e09iamVjdFR5cGVDb25maWd9LT57ICRHZXRQYXJhbXtPYmplY3RUeXBlfSB9LT57RGlzcGxheU5hbWV9IHx8ICcnOwogICAgbXkgJEZpZWxkVHlwZU5hbWUgID0gJFNlbGYtPntGaWVsZFR5cGVDb25maWd9LT57ICRHZXRQYXJhbXtGaWVsZFR5cGV9IH0tPntEaXNwbGF5TmFtZX0gICB8fCAnJzsKCiAgICByZXR1cm4gJFNlbGYtPl9TaG93U2NyZWVuKAogICAgICAgICVQYXJhbSwKICAgICAgICAlR2V0UGFyYW0sCiAgICAgICAgTW9kZSAgICAgICAgICAgPT4gJ0FkZCcsCiAgICAgICAgT2JqZWN0VHlwZU5hbWUgPT4gJE9iamVjdFR5cGVOYW1lLAogICAgICAgIEZpZWxkVHlwZU5hbWUgID0+ICRGaWVsZFR5cGVOYW1lLAogICAgKTsKfQoKc3ViIF9BZGRBY3Rpb24gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAlRXJyb3JzOwogICAgbXkgJUdldFBhcmFtOwoKICAgIGZvciBteSAkTmVlZGVkIChxdyhOYW1lIExhYmVsIEZpZWxkT3JkZXIpKSB7CiAgICAgICAgJEdldFBhcmFteyROZWVkZWR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkTmVlZGVkICk7CiAgICAgICAgaWYgKCAhJEdldFBhcmFteyROZWVkZWR9ICkgewogICAgICAgICAgICAkRXJyb3JzeyAkTmVlZGVkIC4gJ1NlcnZlckVycm9yJyB9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7ICROZWVkZWQgLiAnU2VydmVyRXJyb3JNZXNzYWdlJyB9ID0gJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJzsKICAgICAgICB9CiAgICB9CgogICAgaWYgKCAkR2V0UGFyYW17TmFtZX0gKSB7CgogICAgICAgICMgY2hlY2sgaWYgbmFtZSBpcyBhbHBoYW51bWVyaWMKICAgICAgICBpZiAoICRHZXRQYXJhbXtOYW1lfSAhfiBte1xBICggPzogW2EtekEtWl0gfCBcZCApKyBcen14bXMgKSB7CgogICAgICAgICAgICAjIGFkZCBzZXJ2ZXIgZXJyb3IgZXJyb3IgY2xhc3MKICAgICAgICAgICAgJEVycm9yc3tOYW1lU2VydmVyRXJyb3J9ID0gJ1NlcnZlckVycm9yJzsKICAgICAgICAgICAgJEVycm9yc3tOYW1lU2VydmVyRXJyb3JNZXNzYWdlfSA9CiAgICAgICAgICAgICAgICAnVGhlIGZpZWxkIGRvZXMgbm90IGNvbnRhaW4gb25seSBBU0NJSSBsZXR0ZXJzIGFuZCBudW1iZXJzLic7CiAgICAgICAgfQoKICAgICAgICAjIGNoZWNrIGlmIG5hbWUgaXMgZHVwbGljYXRlZAogICAgICAgIG15ICVEeW5hbWljRmllbGRzTGlzdCA9ICV7CiAgICAgICAgICAgICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fS0+RHluYW1pY0ZpZWxkTGlzdCgKICAgICAgICAgICAgICAgIFZhbGlkICAgICAgPT4gMCwKICAgICAgICAgICAgICAgIFJlc3VsdFR5cGUgPT4gJ0hBU0gnLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICB9OwoKICAgICAgICAlRHluYW1pY0ZpZWxkc0xpc3QgPSByZXZlcnNlICVEeW5hbWljRmllbGRzTGlzdDsKCiAgICAgICAgaWYgKCAkRHluYW1pY0ZpZWxkc0xpc3R7ICRHZXRQYXJhbXtOYW1lfSB9ICkgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yfSAgICAgICAgPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3Jze05hbWVTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0gJ1RoZXJlIGlzIGFub3RoZXIgZmllbGQgd2l0aCB0aGUgc2FtZSBuYW1lLic7CiAgICAgICAgfQogICAgfQoKICAgIGlmICggJEdldFBhcmFte0ZpZWxkT3JkZXJ9ICkgewoKICAgICAgICAjIGNoZWNrIGlmIGZpZWxkIG9yZGVyIGlzIG51bWVyaWMgYW5kIHBvc2l0aXZlCiAgICAgICAgaWYgKCAkR2V0UGFyYW17RmllbGRPcmRlcn0gIX4gbXtcQSAoID86IFxkICkrIFx6fXhtcyApIHsKCiAgICAgICAgICAgICMgYWRkIHNlcnZlciBlcnJvciBlcnJvciBjbGFzcwogICAgICAgICAgICAkRXJyb3Jze0ZpZWxkT3JkZXJTZXJ2ZXJFcnJvcn0gICAgICAgID0gJ1NlcnZlckVycm9yJzsKICAgICAgICAgICAgJEVycm9yc3tGaWVsZE9yZGVyU2VydmVyRXJyb3JNZXNzYWdlfSA9ICdUaGUgZmllbGQgbXVzdCBiZSBudW1lcmljLic7CiAgICAgICAgfQogICAgfQoKICAgIGZvciBteSAkQ29uZmlnUGFyYW0gKAogICAgICAgIHF3KAogICAgICAgIE9iamVjdFR5cGUgT2JqZWN0VHlwZU5hbWUgRmllbGRUeXBlIEZpZWxkVHlwZU5hbWUgRGVmYXVsdFZhbHVlIFBvc3NpYmxlTm9uZQogICAgICAgIFRyYW5zbGF0YWJsZVZhbHVlcyBWYWxpZElEIExpbmsgUXVlcnkgVmlzdWFsUXVlcnkgUGFyYW1ldGVycyBEQklzdHJpbmcgREJJdXNlciBEQklwYXNzIFNlcGFyYXRvciBDYWNoZVRUTAogICAgICAgICkKICAgICAgICApCiAgICB7CiAgICAgICAgJEdldFBhcmFteyRDb25maWdQYXJhbX0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICRDb25maWdQYXJhbSApOwogICAgfQoKICAgICMgdW5jb3JyZWN0YWJsZSBlcnJvcnMKICAgIGlmICggISRHZXRQYXJhbXtWYWxpZElEfSApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCBWYWxpZElEIiwKICAgICAgICApOwogICAgfQoKICAgIG15ICRQb3NzaWJsZVZhbHVlcyA9ICRTZWxmLT5fR2V0UG9zc2libGVWYWx1ZXMoKTsKCiAgICAjIHJldHVybiB0byBhZGQgc2NyZWVuIGlmIGVycm9ycwogICAgaWYgKCVFcnJvcnMpIHsKICAgICAgICByZXR1cm4gJFNlbGYtPl9TaG93U2NyZWVuKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICVFcnJvcnMsCiAgICAgICAgICAgICVHZXRQYXJhbSwKICAgICAgICAgICAgUG9zc2libGVWYWx1ZXMgPT4gJFBvc3NpYmxlVmFsdWVzLAogICAgICAgICAgICBNb2RlICAgICAgICAgICA9PiAnQWRkJywKICAgICAgICApOwogICAgfQoKICAgICMgc2V0IHNwZWNpZmljIGNvbmZpZwogICAgbXkgJEZpZWxkQ29uZmlnID0gewojICAgICAgICBQb3NzaWJsZVZhbHVlcyAgICAgPT4gJFBvc3NpYmxlVmFsdWVzLAogICAgICAgIERlZmF1bHRWYWx1ZSAgICAgICA9PiAkR2V0UGFyYW17RGVmYXVsdFZhbHVlfSwKICAgICAgICBQb3NzaWJsZU5vbmUgICAgICAgPT4gJEdldFBhcmFte1Bvc3NpYmxlTm9uZX0sCiAgICAgICAgVHJhbnNsYXRhYmxlVmFsdWVzID0+ICRHZXRQYXJhbXtUcmFuc2xhdGFibGVWYWx1ZXN9LAogICAgICAgIExpbmsgICAgICAgICAgICAgICA9PiAkR2V0UGFyYW17TGlua30sCglRdWVyeQkJICAgPT4gJEdldFBhcmFte1F1ZXJ5fSwKCVZpc3VhbFF1ZXJ5CSAgID0+ICRHZXRQYXJhbXtWaXN1YWxRdWVyeX0sCglQYXJhbWV0ZXJzCSAgID0+ICRHZXRQYXJhbXtQYXJhbWV0ZXJzfSwKCURCSXN0cmluZwkgICA9PiAkR2V0UGFyYW17REJJc3RyaW5nfSwKCURCSXVzZXIJCSAgID0+ICRHZXRQYXJhbXtEQkl1c2VyfSwKCURCSXBhc3MJCSAgID0+ICRHZXRQYXJhbXtEQklwYXNzfSwKCVNlcGFyYXRvcgkgICA9PiAkR2V0UGFyYW17U2VwYXJhdG9yfSwKCUNhY2hlVFRMCSAgID0+ICRHZXRQYXJhbXtDYWNoZVRUTH0sCiAgICB9OwoKICAgICMgY3JlYXRlIGEgbmV3IGZpZWxkCiAgICBteSAkRmllbGRJRCA9ICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fS0+RHluYW1pY0ZpZWxkQWRkKAogICAgICAgIE5hbWUgICAgICAgPT4gJEdldFBhcmFte05hbWV9LAogICAgICAgIExhYmVsICAgICAgPT4gJEdldFBhcmFte0xhYmVsfSwKICAgICAgICBGaWVsZE9yZGVyID0+ICRHZXRQYXJhbXtGaWVsZE9yZGVyfSwKICAgICAgICBGaWVsZFR5cGUgID0+ICRHZXRQYXJhbXtGaWVsZFR5cGV9LAogICAgICAgIE9iamVjdFR5cGUgPT4gJEdldFBhcmFte09iamVjdFR5cGV9LAogICAgICAgIENvbmZpZyAgICAgPT4gJEZpZWxkQ29uZmlnLAogICAgICAgIFZhbGlkSUQgICAgPT4gJEdldFBhcmFte1ZhbGlkSUR9LAogICAgICAgIFVzZXJJRCAgICAgPT4gJFNlbGYtPntVc2VySUR9LAogICAgKTsKCiAgICBpZiAoICEkRmllbGRJRCApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAiQ291bGQgbm90IGNyZWF0ZSB0aGUgbmV3IGZpZWxkIiwKICAgICAgICApOwogICAgfQoKICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KAogICAgICAgIE9QID0+ICJBY3Rpb249QWRtaW5EeW5hbWljRmllbGQiLAogICAgKTsKfQoKc3ViIF9DaGFuZ2UgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAlR2V0UGFyYW07CiAgICBmb3IgbXkgJE5lZWRlZCAocXcoT2JqZWN0VHlwZSBGaWVsZFR5cGUpKSB7CiAgICAgICAgJEdldFBhcmFteyROZWVkZWR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkTmVlZGVkICk7CiAgICAgICAgaWYgKCAhJE5lZWRlZCApIHsKICAgICAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgICAgICBNZXNzYWdlID0+ICJOZWVkICROZWVkZWQiLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICAjIGdldCB0aGUgb2JqZWN0IHR5cGUgYW5kIGZpZWxkIHR5cGUgZGlzcGxheSBuYW1lCiAgICBteSAkT2JqZWN0VHlwZU5hbWUgPSAkU2VsZi0+e09iamVjdFR5cGVDb25maWd9LT57ICRHZXRQYXJhbXtPYmplY3RUeXBlfSB9LT57RGlzcGxheU5hbWV9IHx8ICcnOwogICAgbXkgJEZpZWxkVHlwZU5hbWUgID0gJFNlbGYtPntGaWVsZFR5cGVDb25maWd9LT57ICRHZXRQYXJhbXtGaWVsZFR5cGV9IH0tPntEaXNwbGF5TmFtZX0gICB8fCAnJzsKCiAgICBteSAkRmllbGRJRCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJ0lEJyApOwoKICAgIGlmICggISRGaWVsZElEICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJOZWVkIElEIiwKICAgICAgICApOwogICAgfQoKICAgICMgZ2V0IGR5bmFtaWMgZmllbGQgZGF0YQogICAgbXkgJER5bmFtaWNGaWVsZERhdGEgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZEdldCgKICAgICAgICBJRCA9PiAkRmllbGRJRCwKICAgICk7CgogICAgIyBjaGVjayBmb3IgdmFsaWQgZHluYW1pYyBmaWVsZCBjb25maWd1cmF0aW9uCiAgICBpZiAoICFJc0hhc2hSZWZXaXRoRGF0YSgkRHluYW1pY0ZpZWxkRGF0YSkgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIkNvdWxkIG5vdCBnZXQgZGF0YSBmb3IgZHluYW1pYyBmaWVsZCAkRmllbGRJRCIsCiAgICAgICAgKTsKICAgIH0KCiAgICBteSAlQ29uZmlnID0gKCk7CgogICAgIyBleHRyYWN0IGNvbmZpZ3VyYXRpb24KICAgIGlmICggSXNIYXNoUmVmV2l0aERhdGEoICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfSApICkgewoKIyAgICAgICAgIyBzZXQgUG9zc2libGVWYWx1ZXMKIyAgICAgICAgJENvbmZpZ3tQb3NzaWJsZVZhbHVlc30gPSB7fTsKIyAgICAgICAgaWYgKCBJc0hhc2hSZWZXaXRoRGF0YSggJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57UG9zc2libGVWYWx1ZXN9ICkgKSB7CiMgICAgICAgICAgICAkQ29uZmlne1Bvc3NpYmxlVmFsdWVzfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e1Bvc3NpYmxlVmFsdWVzfTsKIyAgICAgICAgfQoKICAgICAgICAjIHNldCBEZWZhdWx0VmFsdWUKICAgICAgICAkQ29uZmlne0RlZmF1bHRWYWx1ZX0gPSAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntEZWZhdWx0VmFsdWV9OwoKICAgICAgICAjIHNldCBQb3NzaWJsZU5vbmUKICAgICAgICAkQ29uZmlne1Bvc3NpYmxlTm9uZX0gPSAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntQb3NzaWJsZU5vbmV9OwoKICAgICAgICAjIHNldCBUcmFuc2xhdGFsYmVWYWx1ZXMKICAgICAgICAkQ29uZmlne1RyYW5zbGF0YWJsZVZhbHVlc30gPSAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntUcmFuc2xhdGFibGVWYWx1ZXN9OwoKICAgICAgICAjIHNldCBMaW5rCiAgICAgICAgJENvbmZpZ3tMaW5rfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e0xpbmt9OwoJJENvbmZpZ3tRdWVyeX0gPSAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntRdWVyeX0gfHwgJ2luc2VydCBxdWVyeSBoZXJlJzsKCSRDb25maWd7VmlzdWFsUXVlcnl9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57VmlzdWFsUXVlcnl9IHx8ICdpbnNlcnQgcXVlcnkgaGVyZSc7CgkkQ29uZmlne1BhcmFtZXRlcnN9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57UGFyYW1ldGVyc307CgkkQ29uZmlne0RCSXN0cmluZ30gPSAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntEQklzdHJpbmd9OwoJJENvbmZpZ3tEQkl1c2VyfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e0RCSXVzZXJ9OwoJJENvbmZpZ3tEQklwYXNzfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e0RCSXBhc3N9OwoJJENvbmZpZ3tTZXBhcmF0b3J9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57U2VwYXJhdG9yfTsKCSRDb25maWd7Q2FjaGVUVEx9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57Q2FjaGVUVEx9OwogICAgfQoKICAgIHJldHVybiAkU2VsZi0+X1Nob3dTY3JlZW4oCiAgICAgICAgJVBhcmFtLAogICAgICAgICVHZXRQYXJhbSwKICAgICAgICAlJHtEeW5hbWljRmllbGREYXRhfSwKICAgICAgICAlQ29uZmlnLAogICAgICAgIElEICAgICAgICAgICAgID0+ICRGaWVsZElELAogICAgICAgIE1vZGUgICAgICAgICAgID0+ICdDaGFuZ2UnLAogICAgICAgIE9iamVjdFR5cGVOYW1lID0+ICRPYmplY3RUeXBlTmFtZSwKICAgICAgICBGaWVsZFR5cGVOYW1lICA9PiAkRmllbGRUeXBlTmFtZSwKICAgICk7Cn0KCnN1YiBfQ2hhbmdlQWN0aW9uIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJUVycm9yczsKICAgIG15ICVHZXRQYXJhbTsKCiAgICBmb3IgbXkgJE5lZWRlZCAocXcoTmFtZSBMYWJlbCBGaWVsZE9yZGVyKSkgewogICAgICAgICRHZXRQYXJhbXskTmVlZGVkfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJE5lZWRlZCApOwogICAgICAgIGlmICggISRHZXRQYXJhbXskTmVlZGVkfSApIHsKICAgICAgICAgICAgJEVycm9yc3sgJE5lZWRlZCAuICdTZXJ2ZXJFcnJvcicgfSAgICAgICAgPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3JzeyAkTmVlZGVkIC4gJ1NlcnZlckVycm9yTWVzc2FnZScgfSA9ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLic7CiAgICAgICAgfQogICAgfQoKICAgIG15ICRGaWVsZElEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnSUQnICk7CiAgICBpZiAoICEkRmllbGRJRCApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCBJRCIsCiAgICAgICAgKTsKICAgIH0KCiAgICBpZiAoICRHZXRQYXJhbXtOYW1lfSApIHsKCiAgICAgICAgIyBjaGVjayBpZiBuYW1lIGlzIGxvd2VyY2FzZQogICAgICAgIGlmICggJEdldFBhcmFte05hbWV9ICF+IG17XEEgKCA/OiBbYS16QS1aXSB8IFxkICkrIFx6fXhtcyApIHsKCiAgICAgICAgICAgICMgYWRkIHNlcnZlciBlcnJvciBlcnJvciBjbGFzcwogICAgICAgICAgICAkRXJyb3Jze05hbWVTZXJ2ZXJFcnJvcn0gPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3Jze05hbWVTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0KICAgICAgICAgICAgICAgICdUaGUgZmllbGQgZG9lcyBub3QgY29udGFpbiBvbmx5IEFTQ0lJIGxldHRlcnMgYW5kIG51bWJlcnMuJzsKICAgICAgICB9CgogICAgICAgICMgY2hlY2sgaWYgbmFtZSBpcyBkdXBsaWNhdGVkCiAgICAgICAgbXkgJUR5bmFtaWNGaWVsZHNMaXN0ID0gJXsKICAgICAgICAgICAgJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRMaXN0KAogICAgICAgICAgICAgICAgVmFsaWQgICAgICA9PiAwLAogICAgICAgICAgICAgICAgUmVzdWx0VHlwZSA9PiAnSEFTSCcsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIH07CgogICAgICAgICVEeW5hbWljRmllbGRzTGlzdCA9IHJldmVyc2UgJUR5bmFtaWNGaWVsZHNMaXN0OwoKICAgICAgICBpZiAoCiAgICAgICAgICAgICREeW5hbWljRmllbGRzTGlzdHsgJEdldFBhcmFte05hbWV9IH0gJiYKICAgICAgICAgICAgJER5bmFtaWNGaWVsZHNMaXN0eyAkR2V0UGFyYW17TmFtZX0gfSBuZSAkRmllbGRJRAogICAgICAgICAgICApCiAgICAgICAgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yfSAgICAgICAgPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3Jze05hbWVTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0gJ1RoZXJlIGlzIGFub3RoZXIgZmllbGQgd2l0aCB0aGUgc2FtZSBuYW1lLic7CiAgICAgICAgfQogICAgfQoKICAgIGlmICggJEdldFBhcmFte0ZpZWxkT3JkZXJ9ICkgewoKICAgICAgICAjIGNoZWNrIGlmIGZpZWxkIG9yZGVyIGlzIG51bWVyaWMgYW5kIHBvc2l0aXZlCiAgICAgICAgaWYgKCAkR2V0UGFyYW17RmllbGRPcmRlcn0gIX4gbXtcQSAoID86IFxkICkrIFx6fXhtcyApIHsKCiAgICAgICAgICAgICMgYWRkIHNlcnZlciBlcnJvciBlcnJvciBjbGFzcwogICAgICAgICAgICAkRXJyb3Jze0ZpZWxkT3JkZXJTZXJ2ZXJFcnJvcn0gICAgICAgID0gJ1NlcnZlckVycm9yJzsKICAgICAgICAgICAgJEVycm9yc3tGaWVsZE9yZGVyU2VydmVyRXJyb3JNZXNzYWdlfSA9ICdUaGUgZmllbGQgbXVzdCBiZSBudW1lcmljLic7CiAgICAgICAgfQogICAgfQoKICAgIGZvciBteSAkQ29uZmlnUGFyYW0gKAogICAgICAgIHF3KAogICAgICAgIE9iamVjdFR5cGUgT2JqZWN0VHlwZU5hbWUgRmllbGRUeXBlIEZpZWxkVHlwZU5hbWUgRGVmYXVsdFZhbHVlIFBvc3NpYmxlTm9uZQogICAgICAgIFRyYW5zbGF0YWJsZVZhbHVlcyBWYWxpZElEIExpbmsgUXVlcnkgVmlzdWFsUXVlcnkgUGFyYW1ldGVycyBEQklzdHJpbmcgREJJdXNlciBEQklwYXNzIFNlcGFyYXRvciBDYWNoZVRUTAogICAgICAgICkKICAgICAgICApCiAgICB7CiAgICAgICAgJEdldFBhcmFteyRDb25maWdQYXJhbX0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICRDb25maWdQYXJhbSApOwogICAgfQoKICAgICMgdW5jb3JyZWN0YWJsZSBlcnJvcnMKICAgIGlmICggISRHZXRQYXJhbXtWYWxpZElEfSApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCBWYWxpZElEIiwKICAgICAgICApOwogICAgfQoKICAgICMgZ2V0IGR5bmFtaWMgZmllbGQgZGF0YQogICAgbXkgJER5bmFtaWNGaWVsZERhdGEgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZEdldCgKICAgICAgICBJRCA9PiAkRmllbGRJRCwKICAgICk7CgogICAgIyBjaGVjayBmb3IgdmFsaWQgZHluYW1pYyBmaWVsZCBjb25maWd1cmF0aW9uCiAgICBpZiAoICFJc0hhc2hSZWZXaXRoRGF0YSgkRHluYW1pY0ZpZWxkRGF0YSkgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIkNvdWxkIG5vdCBnZXQgZGF0YSBmb3IgZHluYW1pYyBmaWVsZCAkRmllbGRJRCIsCiAgICAgICAgKTsKICAgIH0KCiAgICBteSAkUG9zc2libGVWYWx1ZXMgPSAkU2VsZi0+X0dldFBvc3NpYmxlVmFsdWVzKCk7CgogICAgIyByZXR1cm4gdG8gY2hhbmdlIHNjcmVlbiBpZiBlcnJvcnMKICAgIGlmICglRXJyb3JzKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT5fU2hvd1NjcmVlbigKICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAlRXJyb3JzLAogICAgICAgICAgICAlR2V0UGFyYW0sCiAgICAgICAgICAgIFBvc3NpYmxlVmFsdWVzID0+ICRQb3NzaWJsZVZhbHVlcywKICAgICAgICAgICAgSUQgICAgICAgICAgICAgPT4gJEZpZWxkSUQsCiAgICAgICAgICAgIE1vZGUgICAgICAgICAgID0+ICdDaGFuZ2UnLAogICAgICAgICk7CiAgICB9CgogICAgIyBzZXQgc3BlY2lmaWMgY29uZmlnCiAgICBteSAkRmllbGRDb25maWcgPSB7CiAgICAgICAgUG9zc2libGVWYWx1ZXMgICAgID0+ICRQb3NzaWJsZVZhbHVlcywKICAgICAgICBEZWZhdWx0VmFsdWUgICAgICAgPT4gJEdldFBhcmFte0RlZmF1bHRWYWx1ZX0sCiAgICAgICAgUG9zc2libGVOb25lICAgICAgID0+ICRHZXRQYXJhbXtQb3NzaWJsZU5vbmV9LAogICAgICAgIFRyYW5zbGF0YWJsZVZhbHVlcyA9PiAkR2V0UGFyYW17VHJhbnNsYXRhYmxlVmFsdWVzfSwKICAgICAgICBMaW5rICAgICAgICAgICAgICAgPT4gJEdldFBhcmFte0xpbmt9LAoJUXVlcnkJCSAgID0+ICRHZXRQYXJhbXtRdWVyeX0sCglWaXN1YWxRdWVyeQkgICA9PiAkR2V0UGFyYW17VmlzdWFsUXVlcnl9LAoJUGFyYW1ldGVycwkgICA9PiAkR2V0UGFyYW17UGFyYW1ldGVyc30sCglEQklzdHJpbmcJICAgPT4gJEdldFBhcmFte0RCSXN0cmluZ30sCglEQkl1c2VyCQkgICA9PiAkR2V0UGFyYW17REJJdXNlcn0sCglEQklwYXNzCQkgICA9PiAkR2V0UGFyYW17REJJcGFzc30sCglTZXBhcmF0b3IJICAgPT4gJEdldFBhcmFte1NlcGFyYXRvcn0sCglDYWNoZVRUTAkgICA9PiAkR2V0UGFyYW17Q2FjaGVUVEx9LAogICAgfTsKCiAgICAjIHVwZGF0ZSBkeW5hbWljIGZpZWxkIChGaWVsZFR5cGUgYW5kIE9iamVjdFR5cGUgY2Fubm90IGJlIGNoYW5nZWQ7IHVzZSBvbGQgdmFsdWVzKQogICAgbXkgJFVwZGF0ZVN1Y2Nlc3MgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZFVwZGF0ZSgKICAgICAgICBJRCAgICAgICAgID0+ICRGaWVsZElELAogICAgICAgIE5hbWUgICAgICAgPT4gJEdldFBhcmFte05hbWV9LAogICAgICAgIExhYmVsICAgICAgPT4gJEdldFBhcmFte0xhYmVsfSwKICAgICAgICBGaWVsZE9yZGVyID0+ICRHZXRQYXJhbXtGaWVsZE9yZGVyfSwKICAgICAgICBGaWVsZFR5cGUgID0+ICREeW5hbWljRmllbGREYXRhLT57RmllbGRUeXBlfSwKICAgICAgICBPYmplY3RUeXBlID0+ICREeW5hbWljRmllbGREYXRhLT57T2JqZWN0VHlwZX0sCiAgICAgICAgQ29uZmlnICAgICA9PiAkRmllbGRDb25maWcsCiAgICAgICAgVmFsaWRJRCAgICA9PiAkR2V0UGFyYW17VmFsaWRJRH0sCiAgICAgICAgVXNlcklEICAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICApOwoKICAgIGlmICggISRVcGRhdGVTdWNjZXNzICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJDb3VsZCBub3QgdXBkYXRlIHRoZSBmaWVsZCAkR2V0UGFyYW17TmFtZX0iLAogICAgICAgICk7CiAgICB9CgogICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoCiAgICAgICAgT1AgPT4gIkFjdGlvbj1BZG1pbkR5bmFtaWNGaWVsZCIsCiAgICApOwp9CgpzdWIgX1Nob3dTY3JlZW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAkUGFyYW17RGlzcGxheUZpZWxkTmFtZX0gPSAnTmV3JzsKCiAgICBpZiAoICRQYXJhbXtNb2RlfSBlcSAnQ2hhbmdlJyApIHsKICAgICAgICAkUGFyYW17U2hvd1dhcm5pbmd9ICAgICAgPSAnU2hvd1dhcm5pbmcnOwogICAgICAgICRQYXJhbXtEaXNwbGF5RmllbGROYW1lfSA9ICRQYXJhbXtOYW1lfTsKICAgIH0KCiAgICAkUGFyYW17RGVsZXRlZFN0cmluZ30gPSAkU2VsZi0+e0RlbGV0ZWRTdHJpbmd9OwoKICAgICMgaGVhZGVyCiAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsKICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5OYXZpZ2F0aW9uQmFyKCk7CgogICAgIyBnZXQgYWxsIGZpZWxkcwogICAgbXkgJER5bmFtaWNGaWVsZExpc3QgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZExpc3RHZXQoCiAgICAgICAgVmFsaWQgPT4gMCwKICAgICk7CgogICAgIyBnZXQgdGhlIGxpc3Qgb2Ygb3JkZXIgbnVtYmVycyAoaXMgYWxyZWFkeSBzb3J0ZWQpLgogICAgbXkgQER5bmFtaWNmaWVsZE9yZGVyTGlzdDsKICAgIGZvciBteSAkRHluYW1pY2ZpZWxkICggQHskRHluYW1pY0ZpZWxkTGlzdH0gKSB7CiAgICAgICAgcHVzaCBARHluYW1pY2ZpZWxkT3JkZXJMaXN0LCAkRHluYW1pY2ZpZWxkLT57RmllbGRPcmRlcn07CiAgICB9CgogICAgIyB3aGVuIGFkZGluZyB3ZSBuZWVkIHRvIGNyZWF0ZSBhbiBleHRyYSBvcmRlciBudW1iZXIgZm9yIHRoZSBuZXcgZmllbGQKICAgIGlmICggJFBhcmFte01vZGV9IGVxICdBZGQnICkgewoKICAgICAgICAjIGdldCB0aGUgbGFzdCBlbGVtZW50IGZvcm0gdGhlIG9yZGVyIGxpc3QgYW5kIGFkZCAxCiAgICAgICAgbXkgJExhc3RPcmRlck51bWJlciA9ICREeW5hbWljZmllbGRPcmRlckxpc3RbLTFdOwogICAgICAgICRMYXN0T3JkZXJOdW1iZXIrKzsKCiAgICAgICAgIyBhZGQgdGhpcyBuZXcgb3JkZXIgbnVtYmVyIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QKICAgICAgICBwdXNoIEBEeW5hbWljZmllbGRPcmRlckxpc3QsICRMYXN0T3JkZXJOdW1iZXI7CiAgICB9CgogICAgbXkgJER5bmFtaWNGaWVsZE9yZGVyU3J0ZyA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiAgICAgICAgRGF0YSAgICAgICAgICA9PiBcQER5bmFtaWNmaWVsZE9yZGVyTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgID0+ICdGaWVsZE9yZGVyJywKICAgICAgICBTZWxlY3RlZFZhbHVlID0+ICRQYXJhbXtGaWVsZE9yZGVyfSB8fCAxLAogICAgICAgIFBvc3NpYmxlTm9uZSAgPT4gMCwKICAgICAgICBDbGFzcyAgICAgICAgID0+ICdXNTBwYyBWYWxpZGF0ZV9OdW1iZXInLAogICAgKTsKCiAgICBteSAlVmFsaWRMaXN0ID0gJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkTGlzdCgpOwoKICAgICMgY3JlYXRlIHRoZSBWYWxpZGl0eSBzZWxlY3QKICAgIG15ICRWYWxpZGl0eVN0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJVZhbGlkTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ1ZhbGlkSUQnLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17VmFsaWRJRH0gfHwgMSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMCwKICAgICAgICBUcmFuc2xhdGlvbiAgPT4gMSwKICAgICAgICBDbGFzcyAgICAgICAgPT4gJ1c1MHBjJywKICAgICk7CgogICAgIyBkZWZpbmUgYXMgMCB0byBnZXQgdGhlIHJlYWwgdmFsdWUgaW4gdGhlIEhUTUwKICAgIG15ICRWYWx1ZUNvdW50ZXIgPSAwOwoKICAgICMgc2V0IFBvc3NpYmxlVmFsdWVzCiAgICBteSAlUG9zc2libGVWYWx1ZXM7CiAgICBpZiAoIElzSGFzaFJlZldpdGhEYXRhKCAkUGFyYW17UG9zc2libGVWYWx1ZXN9ICkgKSB7CiAgICAgICAgJVBvc3NpYmxlVmFsdWVzID0gJXsgJFBhcmFte1Bvc3NpYmxlVmFsdWVzfSB9OwogICAgfQoKCiAgICAjIGNyZWF0ZSB0aGUgcG9zc2libGUgdmFsdWVzIHRlbXBsYXRlCiAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgIE5hbWUgPT4gJ1ZhbHVlVGVtcGxhdGUnLAogICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgfSwKICAgICk7CgogICAjS2VybmVsL1N5c3RlbS9UaWNrZXQvT1RSU1RpY2tldE1hc2tFeHRlbnNpb25zLnBtIApldmFsCnsKICByZXF1aXJlIEtlcm5lbDo6U3lzdGVtOjpUaWNrZXQ6Ok9UUlNUaWNrZXRNYXNrRXh0ZW5zaW9uczsKfTsKCnVubGVzcyghICRAKQp7CiAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgIE5hbWUgPT4gJ1RpY2tldE1hc2tFeHRlbnNpb25EaXNhYmxlZCcsCiAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICB9LAogICAgKTsKCn0KIAojaWYgKCEgZXZhbCAidXNlIEtlcm5lbDo6U3lzdGVtOjpUaWNrZXQ6Ok9UUlNUaWNrZXRNYXNrRXh0ZW5zaW9ucyIpIHsKI3VzZSBLZXJuZWw6OlN5c3RlbTo6VGlja2V0OjpPVFJTVGlja2V0TWFza0V4dGVuc2lvbnM7CiN9CgoKICAgICMgY2hlY2sgYW5kIGJ1aWxkIHRoZSBEZWZhdWx0IFZhbHVlIGxpc3QgYmFzZWQgb24gUG9zc2libGUgVmFsdWVzCiMgICAgbXkgJURlZmF1bHRWYWx1ZXNMaXN0OwojICAgIFBPU1NJQkxFVkFMVUU6CiMgICAgZm9yIG15ICRWYWx1ZUl0ZW0gKCBrZXlzICVQb3NzaWJsZVZhbHVlcyApIHsKIyAgICAgICAgbmV4dCBQT1NTSUJMRVZBTFVFIGlmICFkZWZpbmVkICRWYWx1ZUl0ZW07CiMgICAgICAgIG5leHQgUE9TU0lCTEVWQUxVRSBpZiAhZGVmaW5lZCAkUG9zc2libGVWYWx1ZXN7JFZhbHVlSXRlbX07CiMgICAgICAgICREZWZhdWx0VmFsdWVzTGlzdHskVmFsdWVJdGVtfSA9ICRQb3NzaWJsZVZhbHVlc3skVmFsdWVJdGVtfQojICAgIH0KIwojICAgIG15ICREZWZhdWx0VmFsdWUgPSAoIGRlZmluZWQgJFBhcmFte0RlZmF1bHRWYWx1ZX0gPyAkUGFyYW17RGVmYXVsdFZhbHVlfSA6ICcnICk7CiMKIyAgICAjIGNyZWF0ZSB0aGUgZGVmYXVsdCB2YWx1ZSBzZWxlY3QKIyAgICBteSAkRGVmYXVsdFZhbHVlU3RyZyA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiMgICAgICAgIERhdGEgICAgICAgICA9PiBcJURlZmF1bHRWYWx1ZXNMaXN0LAojICAgICAgICBOYW1lICAgICAgICAgPT4gJ0RlZmF1bHRWYWx1ZScsCiMgICAgICAgIFNlbGVjdGVkSUQgICA9PiAkRGVmYXVsdFZhbHVlLAojICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKIwojICAgICAgICAjIERvbid0IG1ha2UgaXMgdHJhbnNsYXRhYmxlIGJlY2F1c2UgdGhpcyB3aWxsIGNvbmZ1c2UgdGhlIHVzZXIgKGFsc28gY3VycmVudCBKUwojICAgICAgICAjIGlzIG5vdCBwcmVwYXJlZCkKIyAgICAgICAgVHJhbnNsYXRpb24gPT4gMCwKIwojICAgICAgICAjIE11bHRpcGxlIHNlbGVjdGlvbnMgYXJlIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkCiMgICAgICAgIE11bHRpcGxlID0+IDAsCiMgICAgICAgIENsYXNzICAgID0+ICdXNTBwYycsCiMgICAgKTsKCiAgICBteSAkUG9zc2libGVOb25lID0gJFBhcmFte1Bvc3NpYmxlTm9uZX0gfHwgJzAnOwoKICAgICMgY3JlYXRlIHRyYW5zbGF0YWJsZSB2YWx1ZXMgb3B0aW9uIGxpc3QKICAgIG15ICRQb3NzaWJsZU5vbmVTdHJnID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgMCA9PiAnTm8nLAogICAgICAgICAgICAxID0+ICdZZXMnLAogICAgICAgIH0sCiAgICAgICAgTmFtZSAgICAgICA9PiAnUG9zc2libGVOb25lJywKICAgICAgICBTZWxlY3RlZElEID0+ICRQb3NzaWJsZU5vbmUsCiAgICAgICAgQ2xhc3MgICAgICA9PiAnVzUwcGMnLAogICAgKTsKCiAgICBteSAkVHJhbnNsYXRhYmxlVmFsdWVzID0gJFBhcmFte1RyYW5zbGF0YWJsZVZhbHVlc30gfHwgJzAnOwoKICAgICMgY3JlYXRlIHRyYW5zbGF0YWJsZSB2YWx1ZXMgb3B0aW9uIGxpc3QKICAgIG15ICRUcmFuc2xhdGFibGVWYWx1ZXNTdHJnID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgMCA9PiAnTm8nLAogICAgICAgICAgICAxID0+ICdZZXMnLAogICAgICAgIH0sCiAgICAgICAgTmFtZSAgICAgICA9PiAnVHJhbnNsYXRhYmxlVmFsdWVzJywKICAgICAgICBTZWxlY3RlZElEID0+ICRUcmFuc2xhdGFibGVWYWx1ZXMsCiAgICAgICAgQ2xhc3MgICAgICA9PiAnVzUwcGMnLAogICAgKTsKCiAgICBteSAkTGluayA9ICRQYXJhbXtMaW5rfSB8fCAnJzsKICAgIG15ICRRdWVyeSA9ICRQYXJhbXtRdWVyeX0gfHwgJyc7CiAgICBteSAkVmlzdWFsUXVlcnkgPSAkUGFyYW17VmlzdWFsUXVlcnl9IHx8ICcnOwogICAgbXkgJFBhcmFtZXRlcnMgPSAkUGFyYW17UGFyYW1ldGVyc30gfHwgJyc7CiAgICBteSAkREJJc3RyaW5nID0gJFBhcmFte0RCSXN0cmluZ30gfHwgJyc7CiAgICBteSAkREJJdXNlciA9ICRQYXJhbXtEQkl1c2VyfSB8fCAnJzsKICAgIG15ICREQklwYXNzID0gJFBhcmFte0RCSXBhc3N9IHx8ICcnOwogICAgbXkgJFNlcGFyYXRvciA9ICRQYXJhbXtTZXBhcmF0b3J9IHx8ICcsJzsKICAgIG15ICRDYWNoZVRUTCA9ICRQYXJhbXtDYWNoZVRUTH0gfHwgJzM2MCc7CgogICAgIyBnZW5lcmF0ZSBvdXRwdXQKICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5PdXRwdXQoCiAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdBZG1pbkR5bmFtaWNGaWVsZERyb3Bkb3duRnJvbURCJywKICAgICAgICBEYXRhICAgICAgICAgPT4gewogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgIFZhbGlkaXR5U3RyZyAgICAgICAgICAgPT4gJFZhbGlkaXR5U3RyZywKICAgICAgICAgICAgRHluYW1pY0ZpZWxkT3JkZXJTcnRnICA9PiAkRHluYW1pY0ZpZWxkT3JkZXJTcnRnLAojICAgICAgICAgICAgVmFsdWVDb3VudGVyICAgICAgICAgICA9PiAkVmFsdWVDb3VudGVyLAojICAgICAgICAgICAgRGVmYXVsdFZhbHVlU3RyZyAgICAgICA9PiAkRGVmYXVsdFZhbHVlU3RyZywKICAgICAgICAgICAgUG9zc2libGVOb25lU3RyZyAgICAgICA9PiAkUG9zc2libGVOb25lU3RyZywKICAgICAgICAgICAgVHJhbnNsYXRhYmxlVmFsdWVzU3RyZyA9PiAkVHJhbnNsYXRhYmxlVmFsdWVzU3RyZywKICAgICAgICAgICAgTGluayAgICAgICAgICAgICAgICAgICA9PiAkTGluaywKCSAgICBRdWVyeQkJICAgPT4gJFF1ZXJ5LAoJICAgIFZpc3VhbFF1ZXJ5CQkgICA9PiAkVmlzdWFsUXVlcnksCgkgICAgUGFyYW1ldGVycwkJICAgPT4gJFBhcmFtZXRlcnMsCgkgICAgREJJc3RyaW5nCQkgICA9PiAkREJJc3RyaW5nLAoJICAgIERCSXVzZXIJCSAgID0+ICREQkl1c2VyLAoJICAgIERCSXBhc3MJCSAgID0+ICREQklwYXNzLAoJICAgIFNlcGFyYXRvcgkJICAgPT4gJFNlcGFyYXRvciwKCSAgICBDYWNoZVRUTAkJICAgPT4gJENhY2hlVFRMLAogICAgICAgICAgICB9CiAgICApOwoKICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Gb290ZXIoKTsKCiAgICByZXR1cm4gJE91dHB1dDsKfQoKc3ViIF9HZXRQb3NzaWJsZVZhbHVlcyB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwojCiAgICBteSAkUG9zc2libGVWYWx1ZUNvbmZpZzsKIwojICAgICMgZ2V0IHBhcmFtZXRlcnMgZnJvbSB3ZWIgYnJvd3NlcgojICAgICMgZ2V0IFZhbHVlQ291bnRlcnMKIyAgICBteSAkVmFsdWVDb3VudGVyICAgICAgICAgID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnVmFsdWVDb3VudGVyJyApIHx8IDA7CiMgICAgbXkgJEVtcHR5VmFsdWVDb3VudGVyICAgICA9IDA7CiMgICAgbXkgJER1cGxpY2F0ZVZhbHVlQ291bnRlciA9IDA7CiMKIyAgICAjIGdldCBwb3NzaWJsZSB2YWx1ZXMKIyAgICBteSAkVmFsdWVzOwojICAgIFZBTFVFSU5ERVg6CiMgICAgZm9yIG15ICRWYWx1ZUluZGV4ICggMSAuLiAkVmFsdWVDb3VudGVyICkgewojICAgICAgICBteSAkS2V5ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnS2V5JyAuICdfJyAuICRWYWx1ZUluZGV4ICk7CiMgICAgICAgICRLZXkgPSAoIGRlZmluZWQgJEtleSA/ICRLZXkgOiAnJyApOwojCiMgICAgICAgICMgY2hlY2sgaWYga2V5IHdhcyBkZWxldGVkIGJ5IHRoZSB1c2VyIGFuZCBza2lwIGl0CiMgICAgICAgIG5leHQgVkFMVUVJTkRFWCBpZiAkS2V5IGVxICRTZWxmLT57RGVsZXRlZFN0cmluZ307CiMKIyAgICAgICAgIyBjaGVjayBpZiB0aGUgb3JpZ2luYWwgdmFsdWUgaXMgZW1wdHkKIyAgICAgICAgaWYgKCAkS2V5IGVxICcnICkgewojCiMgICAgICAgICAgICAjIGNoYW5nZSB0aGUgZW1wdHkgdmFsdWUgdG8gYSBwcmVkZWZpbmVkIHN0cmluZwojICAgICAgICAgICAgJEtleSA9ICRTZWxmLT57RW1wdHlTdHJpbmd9IC4gaW50ICRFbXB0eVZhbHVlQ291bnRlcjsKIyAgICAgICAgICAgICRFbXB0eVZhbHVlQ291bnRlcisrOwojICAgICAgICB9CiMKIyAgICAgICAgIyBvdGhlcndpc2UgY2hlY2sgZm9yIGR1cGxpY2F0ZQojICAgICAgICBlbHNpZiAoIGV4aXN0cyAkUG9zc2libGVWYWx1ZUNvbmZpZy0+eyRLZXl9ICkgewojCiMgICAgICAgICAgICAjIGFwcGVuZCBhIHByZWRlZmluZWQgdW5pcXVlIHN0cmluZyB0byBtYWtlIHRoaXMgdmFsdWUgdW5pcXVlCiMgICAgICAgICAgICAkS2V5IC49ICctJyAuICRTZWxmLT57RHVwbGljYXRlU3RyaW5nfSAuICREdXBsaWNhdGVWYWx1ZUNvdW50ZXI7CiMgICAgICAgICAgICAkRHVwbGljYXRlVmFsdWVDb3VudGVyKys7CiMgICAgICAgIH0KIwojICAgICAgICBteSAkVmFsdWUgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdWYWx1ZScgLiAnXycgLiAkVmFsdWVJbmRleCApOwojICAgICAgICAkVmFsdWUgPSAoIGRlZmluZWQgJFZhbHVlID8gJFZhbHVlIDogJycgKTsKIyAgICAgICAgJFBvc3NpYmxlVmFsdWVDb25maWctPnskS2V5fSA9ICRWYWx1ZTsKIyAgICB9CgojICAgICRQb3NzaWJsZVZhbHVlQ29uZmlnLT57J2R1bW15a2V5J30gPSAnZHVtbXl2YWx1ZSc7CgogICAgcmV0dXJuICRQb3NzaWJsZVZhbHVlQ29uZmlnOwp9CgoxOwo=</File>
        <File Location="Custom/Kernel/Modules/AdminDynamicFieldTextAreaFromDB.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9Nb2R1bGVzL0FkbWluRHluYW1pY0ZpZWxkRHJvcGRvd24ucG0gLSBwcm92aWRlcyBhIGR5bmFtaWMgZmllbGRzIHRleHQgY29uZmlnIHZpZXcgZm9yIGFkbWlucwojIENvcHlyaWdodCAoQykgMjAwMS0yMDEyIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8KIyAtLQojICRJZDogQWRtaW5EeW5hbWljRmllbGREcm9wZG93bi5wbSx2IDEuMTUgMjAxMi8wNC8xOCAxOTozODowMSBjciBFeHAgJAojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Ok1vZHVsZXM6OkFkbWluRHluYW1pY0ZpZWxkVGV4dEFyZWFGcm9tREI7Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7Cgp1c2UgS2VybmVsOjpTeXN0ZW06OlZhcmlhYmxlQ2hlY2sgcXcoOmFsbCk7CnVzZSBLZXJuZWw6OlN5c3RlbTo6VmFsaWQ7CnVzZSBLZXJuZWw6OlN5c3RlbTo6Q2hlY2tJdGVtOwp1c2UgS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDsKCnVzZSB2YXJzIHF3KCRWRVJTSU9OKTsKJFZFUlNJT04gPSBxdygkUmV2aXNpb246IDEuMTUgJCkgWzFdOwoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRTZWxmID0geyVQYXJhbX07CiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7CgogICAgZm9yIChxdyhQYXJhbU9iamVjdCBMYXlvdXRPYmplY3QgTG9nT2JqZWN0IENvbmZpZ09iamVjdCkpIHsKICAgICAgICBpZiAoICEkU2VsZi0+eyRffSApIHsKICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5GYXRhbEVycm9yKCBNZXNzYWdlID0+ICJHb3Qgbm8gJF8hIiApOwogICAgICAgIH0KICAgIH0KCiAgICAjIGNyZWF0ZSBhZGRpdGlvbmFsIG9iamVjdHMKICAgICRTZWxmLT57VmFsaWRPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OlZhbGlkLT5uZXcoICV7JFNlbGZ9ICk7CgogICAgJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZC0+bmV3KCAleyRTZWxmfSApOwoKICAgICMgZ2V0IGNvbmZpZ3VyZWQgb2JqZWN0IHR5cGVzCiAgICAkU2VsZi0+e09iamVjdFR5cGVDb25maWd9ID0gJFNlbGYtPntDb25maWdPYmplY3R9LT5HZXQoJ0R5bmFtaWNGaWVsZHM6Ok9iamVjdFR5cGUnKTsKCiAgICAjIGdldCB0aGUgZmllbGRzIGNvbmZpZwogICAgJFNlbGYtPntGaWVsZFR5cGVDb25maWd9ID0gJFNlbGYtPntDb25maWdPYmplY3R9LT5HZXQoJ0R5bmFtaWNGaWVsZHM6OkJhY2tlbmQnKSB8fCB7fTsKCiAgICAjIHNldCBwb3NzaWJsZSB2YWx1ZXMgaGFuZGxpbmcgc3RyaW5ncwogICAgJFNlbGYtPntFbXB0eVN0cmluZ30gICAgID0gJ19EeW5hbWljRmllbGRzX0VtcHR5U3RyaW5nX0RvbnRfVXNlX0l0X1N0cmluZ19QbGVhc2UnOwogICAgJFNlbGYtPntEdXBsaWNhdGVTdHJpbmd9ID0gJ19EeW5hbWljRmllbGRzX0R1cGxpY2F0ZWRTdHJpbmdfRG9udF9Vc2VfSXRfU3RyaW5nX1BsZWFzZSc7CiAgICAkU2VsZi0+e0RlbGV0ZWRTdHJpbmd9ICAgPSAnX0R5bmFtaWNGaWVsZHNfRGVsZXRlZFN0cmluZ19Eb250X1VzZV9JdF9TdHJpbmdfUGxlYXNlJzsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBSdW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQWRkJyApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPl9BZGQoCiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICApOwogICAgfQogICAgZWxzaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0FkZEFjdGlvbicgKSB7CgogICAgICAgICMgY2hhbGxlbmdlIHRva2VuIGNoZWNrIGZvciB3cml0ZSBhY3Rpb24KICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkNoYWxsZW5nZVRva2VuQ2hlY2soKTsKCiAgICAgICAgcmV0dXJuICRTZWxmLT5fQWRkQWN0aW9uKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgKTsKICAgIH0KICAgIGlmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdDaGFuZ2UnICkgewogICAgICAgIHJldHVybiAkU2VsZi0+X0NoYW5nZSgKICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICk7CiAgICB9CiAgICBlbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQ2hhbmdlQWN0aW9uJyApIHsKCiAgICAgICAgIyBjaGFsbGVuZ2UgdG9rZW4gY2hlY2sgZm9yIHdyaXRlIGFjdGlvbgogICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Q2hhbGxlbmdlVG9rZW5DaGVjaygpOwoKICAgICAgICByZXR1cm4gJFNlbGYtPl9DaGFuZ2VBY3Rpb24oCiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICApOwogICAgfQogICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgTWVzc2FnZSA9PiAiVW5kZWZpbmVkIHN1YmFjdGlvbi4iLAogICAgKTsKfQoKc3ViIF9BZGQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAlR2V0UGFyYW07CiAgICBmb3IgbXkgJE5lZWRlZCAocXcoT2JqZWN0VHlwZSBGaWVsZFR5cGUgRmllbGRPcmRlcikpIHsKICAgICAgICAkR2V0UGFyYW17JE5lZWRlZH0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICROZWVkZWQgKTsKICAgICAgICBpZiAoICEkTmVlZGVkICkgewogICAgICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgICAgIE1lc3NhZ2UgPT4gIk5lZWQgJE5lZWRlZCIsCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgICMgZ2V0IHRoZSBvYmplY3QgdHlwZSBhbmQgZmllbGQgdHlwZSBkaXNwbGF5IG5hbWUKICAgIG15ICRPYmplY3RUeXBlTmFtZSA9ICRTZWxmLT57T2JqZWN0VHlwZUNvbmZpZ30tPnsgJEdldFBhcmFte09iamVjdFR5cGV9IH0tPntEaXNwbGF5TmFtZX0gfHwgJyc7CiAgICBteSAkRmllbGRUeXBlTmFtZSAgPSAkU2VsZi0+e0ZpZWxkVHlwZUNvbmZpZ30tPnsgJEdldFBhcmFte0ZpZWxkVHlwZX0gfS0+e0Rpc3BsYXlOYW1lfSAgIHx8ICcnOwoKICAgIHJldHVybiAkU2VsZi0+X1Nob3dTY3JlZW4oCiAgICAgICAgJVBhcmFtLAogICAgICAgICVHZXRQYXJhbSwKICAgICAgICBNb2RlICAgICAgICAgICA9PiAnQWRkJywKICAgICAgICBPYmplY3RUeXBlTmFtZSA9PiAkT2JqZWN0VHlwZU5hbWUsCiAgICAgICAgRmllbGRUeXBlTmFtZSAgPT4gJEZpZWxkVHlwZU5hbWUsCiAgICApOwp9CgpzdWIgX0FkZEFjdGlvbiB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICVFcnJvcnM7CiAgICBteSAlR2V0UGFyYW07CgogICAgZm9yIG15ICROZWVkZWQgKHF3KE5hbWUgTGFiZWwgRmllbGRPcmRlcikpIHsKICAgICAgICAkR2V0UGFyYW17JE5lZWRlZH0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICROZWVkZWQgKTsKICAgICAgICBpZiAoICEkR2V0UGFyYW17JE5lZWRlZH0gKSB7CiAgICAgICAgICAgICRFcnJvcnN7ICROZWVkZWQgLiAnU2VydmVyRXJyb3InIH0gICAgICAgID0gJ1NlcnZlckVycm9yJzsKICAgICAgICAgICAgJEVycm9yc3sgJE5lZWRlZCAuICdTZXJ2ZXJFcnJvck1lc3NhZ2UnIH0gPSAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4nOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAoICRHZXRQYXJhbXtOYW1lfSApIHsKCiAgICAgICAgIyBjaGVjayBpZiBuYW1lIGlzIGFscGhhbnVtZXJpYwogICAgICAgIGlmICggJEdldFBhcmFte05hbWV9ICF+IG17XEEgKCA/OiBbYS16QS1aXSB8IFxkICkrIFx6fXhtcyApIHsKCiAgICAgICAgICAgICMgYWRkIHNlcnZlciBlcnJvciBlcnJvciBjbGFzcwogICAgICAgICAgICAkRXJyb3Jze05hbWVTZXJ2ZXJFcnJvcn0gPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3Jze05hbWVTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0KICAgICAgICAgICAgICAgICdUaGUgZmllbGQgZG9lcyBub3QgY29udGFpbiBvbmx5IEFTQ0lJIGxldHRlcnMgYW5kIG51bWJlcnMuJzsKICAgICAgICB9CgogICAgICAgICMgY2hlY2sgaWYgbmFtZSBpcyBkdXBsaWNhdGVkCiAgICAgICAgbXkgJUR5bmFtaWNGaWVsZHNMaXN0ID0gJXsKICAgICAgICAgICAgJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRMaXN0KAogICAgICAgICAgICAgICAgVmFsaWQgICAgICA9PiAwLAogICAgICAgICAgICAgICAgUmVzdWx0VHlwZSA9PiAnSEFTSCcsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIH07CgogICAgICAgICVEeW5hbWljRmllbGRzTGlzdCA9IHJldmVyc2UgJUR5bmFtaWNGaWVsZHNMaXN0OwoKICAgICAgICBpZiAoICREeW5hbWljRmllbGRzTGlzdHsgJEdldFBhcmFte05hbWV9IH0gKSB7CgogICAgICAgICAgICAjIGFkZCBzZXJ2ZXIgZXJyb3IgZXJyb3IgY2xhc3MKICAgICAgICAgICAgJEVycm9yc3tOYW1lU2VydmVyRXJyb3J9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yTWVzc2FnZX0gPSAnVGhlcmUgaXMgYW5vdGhlciBmaWVsZCB3aXRoIHRoZSBzYW1lIG5hbWUuJzsKICAgICAgICB9CiAgICB9CgogICAgaWYgKCAkR2V0UGFyYW17RmllbGRPcmRlcn0gKSB7CgogICAgICAgICMgY2hlY2sgaWYgZmllbGQgb3JkZXIgaXMgbnVtZXJpYyBhbmQgcG9zaXRpdmUKICAgICAgICBpZiAoICRHZXRQYXJhbXtGaWVsZE9yZGVyfSAhfiBte1xBICggPzogXGQgKSsgXHp9eG1zICkgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7RmllbGRPcmRlclNlcnZlckVycm9yfSAgICAgICAgPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3Jze0ZpZWxkT3JkZXJTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0gJ1RoZSBmaWVsZCBtdXN0IGJlIG51bWVyaWMuJzsKICAgICAgICB9CiAgICB9CgogICAgZm9yIG15ICRDb25maWdQYXJhbSAoCiAgICAgICAgcXcoCiAgICAgICAgT2JqZWN0VHlwZSBPYmplY3RUeXBlTmFtZSBGaWVsZFR5cGUgRmllbGRUeXBlTmFtZSBEZWZhdWx0VmFsdWUgUG9zc2libGVOb25lCiAgICAgICAgVHJhbnNsYXRhYmxlVmFsdWVzIFZhbGlkSUQgTGluayBRdWVyeSBQYXJhbWV0ZXJzIERCSXN0cmluZyBEQkl1c2VyIERCSXBhc3MgQ2FjaGVUVEwKICAgICAgICApCiAgICAgICAgKQogICAgewogICAgICAgICRHZXRQYXJhbXskQ29uZmlnUGFyYW19ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkQ29uZmlnUGFyYW0gKTsKICAgIH0KCiAgICAjIHVuY29ycmVjdGFibGUgZXJyb3JzCiAgICBpZiAoICEkR2V0UGFyYW17VmFsaWRJRH0gKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIk5lZWQgVmFsaWRJRCIsCiAgICAgICAgKTsKICAgIH0KCiMgICAgbXkgJFBvc3NpYmxlVmFsdWVzID0gJFNlbGYtPl9HZXRQb3NzaWJsZVZhbHVlcygpOwojCiMgICAgIyBzZXQgZXJyb3JzIGZvciBwb3NzaWJsZSB2YWx1ZXMgZW50cmllcwojICAgIEtFWToKIyAgICBmb3IgbXkgJEtleSAoIGtleXMgJXskUG9zc2libGVWYWx1ZXN9ICkgewojCiMgICAgICAgICMgY2hlY2sgZm9yIGVtcHR5IG9yaWdpbmFsIHZhbHVlcwojICAgICAgICBpZiAoICRLZXkgPX4gbXtcQSAkU2VsZi0+e0VtcHR5U3RyaW5nfSAoPzogXGQrKX1zbXggKSB7CiMKIyAgICAgICAgICAgICMgc2V0IGEgdHJ1ZSBlbnRyeSBpbiBLZXlFbXB0eUVycm9yCiMgICAgICAgICAgICAkRXJyb3JzeydQb3NzaWJsZVZhbHVlRXJyb3JzJ30tPnsnS2V5RW1wdHlFcnJvcid9LT57JEtleX0gPSAxOwojICAgICAgICB9CiMKIyAgICAgICAgIyBvdGhlcndpc2UgY2hlY2sgZm9yIGR1cGxpY2F0ZSBvcmlnaW5hbCB2YWx1ZXMKIyAgICAgICAgZWxzaWYgKCAkS2V5ID1+IG17XEEgKC4rKSAtICRTZWxmLT57RHVwbGljYXRlU3RyaW5nfSAoPzogXGQrKX1zbXggKSB7CiMKIyAgICAgICAgICAgICMgc2V0IGFuIGVudHJ5IGluIE9yaWdWYWx1ZUR1cGxpY2F0ZUVycm9yIHdpdGggdGhlIGR1cGxpY2F0ZSBrZXkgYXMgdmFsdWUKIyAgICAgICAgICAgICRFcnJvcnN7J1Bvc3NpYmxlVmFsdWVFcnJvcnMnfS0+eydLZXlEdXBsaWNhdGVFcnJvcid9LT57JEtleX0gPSAkMTsKIyAgICAgICAgfQojCiMgICAgICAgICMgY2hlY2sgZm9yIGVtcHR5IG5ldyB2YWx1ZXMKIyAgICAgICAgaWYgKCAhZGVmaW5lZCAkUG9zc2libGVWYWx1ZXMtPnskS2V5fSApIHsKIwojICAgICAgICAgICAgIyBzZXQgYSB0cnVlIGVudHJ5IGluIE5ld1ZhbHVlRW1wdHlFcnJvcgojICAgICAgICAgICAgJEVycm9yc3snUG9zc2libGVWYWx1ZUVycm9ycyd9LT57J1ZhbHVlRW1wdHlFcnJvcid9LT57JEtleX0gPSAxOwojICAgICAgICB9CiMgICAgfQoKICAgICMgcmV0dXJuIHRvIGFkZCBzY3JlZW4gaWYgZXJyb3JzCiAgICBpZiAoJUVycm9ycykgewogICAgICAgIHJldHVybiAkU2VsZi0+X1Nob3dTY3JlZW4oCiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgJUVycm9ycywKICAgICAgICAgICAgJUdldFBhcmFtLAojICAgICAgICAgICAgUG9zc2libGVWYWx1ZXMgPT4gJFBvc3NpYmxlVmFsdWVzLAogICAgICAgICAgICBNb2RlICAgICAgICAgICA9PiAnQWRkJywKICAgICAgICApOwogICAgfQoKICAgICMgc2V0IHNwZWNpZmljIGNvbmZpZwogICAgbXkgJEZpZWxkQ29uZmlnID0gewojICAgICAgICBQb3NzaWJsZVZhbHVlcyAgICAgPT4gJFBvc3NpYmxlVmFsdWVzLAogICAgICAgIERlZmF1bHRWYWx1ZSAgICAgICA9PiAkR2V0UGFyYW17RGVmYXVsdFZhbHVlfSwKICAgICAgICBQb3NzaWJsZU5vbmUgICAgICAgPT4gJEdldFBhcmFte1Bvc3NpYmxlTm9uZX0sCiAgICAgICAgVHJhbnNsYXRhYmxlVmFsdWVzID0+ICRHZXRQYXJhbXtUcmFuc2xhdGFibGVWYWx1ZXN9LAogICAgICAgIExpbmsgICAgICAgICAgICAgICA9PiAkR2V0UGFyYW17TGlua30sCglRdWVyeQkJICAgPT4gJEdldFBhcmFte1F1ZXJ5fSwKCVBhcmFtZXRlcnMJICAgPT4gJEdldFBhcmFte1BhcmFtZXRlcnN9LAoJREJJc3RyaW5nCSAgID0+ICRHZXRQYXJhbXtEQklzdHJpbmd9LAoJREJJdXNlcgkJICAgPT4gJEdldFBhcmFte0RCSXVzZXJ9LAoJREJJcGFzcwkJICAgPT4gJEdldFBhcmFte0RCSXBhc3N9LAoJQ2FjaGVUVEwJICAgPT4gJEdldFBhcmFte0NhY2hlVFRMfSwKICAgIH07CgogICAgIyBjcmVhdGUgYSBuZXcgZmllbGQKICAgIG15ICRGaWVsZElEID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRBZGQoCiAgICAgICAgTmFtZSAgICAgICA9PiAkR2V0UGFyYW17TmFtZX0sCiAgICAgICAgTGFiZWwgICAgICA9PiAkR2V0UGFyYW17TGFiZWx9LAogICAgICAgIEZpZWxkT3JkZXIgPT4gJEdldFBhcmFte0ZpZWxkT3JkZXJ9LAogICAgICAgIEZpZWxkVHlwZSAgPT4gJEdldFBhcmFte0ZpZWxkVHlwZX0sCiAgICAgICAgT2JqZWN0VHlwZSA9PiAkR2V0UGFyYW17T2JqZWN0VHlwZX0sCiAgICAgICAgQ29uZmlnICAgICA9PiAkRmllbGRDb25maWcsCiAgICAgICAgVmFsaWRJRCAgICA9PiAkR2V0UGFyYW17VmFsaWRJRH0sCiAgICAgICAgVXNlcklEICAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICApOwoKICAgIGlmICggISRGaWVsZElEICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJDb3VsZCBub3QgY3JlYXRlIHRoZSBuZXcgZmllbGQiLAogICAgICAgICk7CiAgICB9CgogICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoCiAgICAgICAgT1AgPT4gIkFjdGlvbj1BZG1pbkR5bmFtaWNGaWVsZCIsCiAgICApOwp9CgpzdWIgX0NoYW5nZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICVHZXRQYXJhbTsKICAgIGZvciBteSAkTmVlZGVkIChxdyhPYmplY3RUeXBlIEZpZWxkVHlwZSkpIHsKICAgICAgICAkR2V0UGFyYW17JE5lZWRlZH0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICROZWVkZWQgKTsKICAgICAgICBpZiAoICEkTmVlZGVkICkgewogICAgICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgICAgIE1lc3NhZ2UgPT4gIk5lZWQgJE5lZWRlZCIsCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgICMgZ2V0IHRoZSBvYmplY3QgdHlwZSBhbmQgZmllbGQgdHlwZSBkaXNwbGF5IG5hbWUKICAgIG15ICRPYmplY3RUeXBlTmFtZSA9ICRTZWxmLT57T2JqZWN0VHlwZUNvbmZpZ30tPnsgJEdldFBhcmFte09iamVjdFR5cGV9IH0tPntEaXNwbGF5TmFtZX0gfHwgJyc7CiAgICBteSAkRmllbGRUeXBlTmFtZSAgPSAkU2VsZi0+e0ZpZWxkVHlwZUNvbmZpZ30tPnsgJEdldFBhcmFte0ZpZWxkVHlwZX0gfS0+e0Rpc3BsYXlOYW1lfSAgIHx8ICcnOwoKICAgIG15ICRGaWVsZElEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnSUQnICk7CgogICAgaWYgKCAhJEZpZWxkSUQgKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIk5lZWQgSUQiLAogICAgICAgICk7CiAgICB9CgogICAgIyBnZXQgZHluYW1pYyBmaWVsZCBkYXRhCiAgICBteSAkRHluYW1pY0ZpZWxkRGF0YSA9ICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fS0+RHluYW1pY0ZpZWxkR2V0KAogICAgICAgIElEID0+ICRGaWVsZElELAogICAgKTsKCiAgICAjIGNoZWNrIGZvciB2YWxpZCBkeW5hbWljIGZpZWxkIGNvbmZpZ3VyYXRpb24KICAgIGlmICggIUlzSGFzaFJlZldpdGhEYXRhKCREeW5hbWljRmllbGREYXRhKSApIHsKICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAiQ291bGQgbm90IGdldCBkYXRhIGZvciBkeW5hbWljIGZpZWxkICRGaWVsZElEIiwKICAgICAgICApOwogICAgfQoKICAgIG15ICVDb25maWcgPSAoKTsKCiAgICAjIGV4dHJhY3QgY29uZmlndXJhdGlvbgogICAgaWYgKCBJc0hhc2hSZWZXaXRoRGF0YSggJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9ICkgKSB7CgojICAgICAgICAjIHNldCBQb3NzaWJsZVZhbHVlcwojICAgICAgICAkQ29uZmlne1Bvc3NpYmxlVmFsdWVzfSA9IHt9OwojICAgICAgICBpZiAoIElzSGFzaFJlZldpdGhEYXRhKCAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntQb3NzaWJsZVZhbHVlc30gKSApIHsKIyAgICAgICAgICAgICRDb25maWd7UG9zc2libGVWYWx1ZXN9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57UG9zc2libGVWYWx1ZXN9OwojICAgICAgICB9CgogICAgICAgICMgc2V0IERlZmF1bHRWYWx1ZQogICAgICAgICRDb25maWd7RGVmYXVsdFZhbHVlfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e0RlZmF1bHRWYWx1ZX07CgogICAgICAgICMgc2V0IFBvc3NpYmxlTm9uZQogICAgICAgICRDb25maWd7UG9zc2libGVOb25lfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e1Bvc3NpYmxlTm9uZX07CgogICAgICAgICMgc2V0IFRyYW5zbGF0YWxiZVZhbHVlcwogICAgICAgICRDb25maWd7VHJhbnNsYXRhYmxlVmFsdWVzfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e1RyYW5zbGF0YWJsZVZhbHVlc307CgogICAgICAgICMgc2V0IExpbmsKICAgICAgICAkQ29uZmlne0xpbmt9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57TGlua307CgkkQ29uZmlne1F1ZXJ5fSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e1F1ZXJ5fSB8fCAnaW5zZXJ0IHF1ZXJ5IGhlcmUnOwoJJENvbmZpZ3tQYXJhbWV0ZXJzfSA9ICREeW5hbWljRmllbGREYXRhLT57Q29uZmlnfS0+e1BhcmFtZXRlcnN9OwoJJENvbmZpZ3tEQklzdHJpbmd9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57REJJc3RyaW5nfTsKCSRDb25maWd7REJJdXNlcn0gPSAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntEQkl1c2VyfTsKCSRDb25maWd7REJJcGFzc30gPSAkRHluYW1pY0ZpZWxkRGF0YS0+e0NvbmZpZ30tPntEQklwYXNzfTsKCSRDb25maWd7Q2FjaGVUVEx9ID0gJER5bmFtaWNGaWVsZERhdGEtPntDb25maWd9LT57Q2FjaGVUVEx9OwogICAgfQoKICAgIHJldHVybiAkU2VsZi0+X1Nob3dTY3JlZW4oCiAgICAgICAgJVBhcmFtLAogICAgICAgICVHZXRQYXJhbSwKICAgICAgICAlJHtEeW5hbWljRmllbGREYXRhfSwKICAgICAgICAlQ29uZmlnLAogICAgICAgIElEICAgICAgICAgICAgID0+ICRGaWVsZElELAogICAgICAgIE1vZGUgICAgICAgICAgID0+ICdDaGFuZ2UnLAogICAgICAgIE9iamVjdFR5cGVOYW1lID0+ICRPYmplY3RUeXBlTmFtZSwKICAgICAgICBGaWVsZFR5cGVOYW1lICA9PiAkRmllbGRUeXBlTmFtZSwKICAgICk7Cn0KCnN1YiBfQ2hhbmdlQWN0aW9uIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87Cgp1c2UgRGF0YTo6RHVtcGVyOwpvcGVuIEVSUkxPRywgJz4+L3RtcC9RdWVyeS5sb2cnOwpwcmludCBFUlJMT0cgRHVtcGVyKFwlUGFyYW0pOwpjbG9zZSBFUlJMT0c7CgojCgoKCiAgICBteSAlRXJyb3JzOwogICAgbXkgJUdldFBhcmFtOwoKICAgIGZvciBteSAkTmVlZGVkIChxdyhOYW1lIExhYmVsIEZpZWxkT3JkZXIpKSB7CiAgICAgICAgJEdldFBhcmFteyROZWVkZWR9ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkTmVlZGVkICk7CiAgICAgICAgaWYgKCAhJEdldFBhcmFteyROZWVkZWR9ICkgewogICAgICAgICAgICAkRXJyb3JzeyAkTmVlZGVkIC4gJ1NlcnZlckVycm9yJyB9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7ICROZWVkZWQgLiAnU2VydmVyRXJyb3JNZXNzYWdlJyB9ID0gJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJzsKICAgICAgICB9CiAgICB9CgogICAgbXkgJEZpZWxkSUQgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdJRCcgKTsKICAgIGlmICggISRGaWVsZElEICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJOZWVkIElEIiwKICAgICAgICApOwogICAgfQoKICAgIGlmICggJEdldFBhcmFte05hbWV9ICkgewoKICAgICAgICAjIGNoZWNrIGlmIG5hbWUgaXMgbG93ZXJjYXNlCiAgICAgICAgaWYgKCAkR2V0UGFyYW17TmFtZX0gIX4gbXtcQSAoID86IFthLXpBLVpdIHwgXGQgKSsgXHp9eG1zICkgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yfSA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yTWVzc2FnZX0gPQogICAgICAgICAgICAgICAgJ1RoZSBmaWVsZCBkb2VzIG5vdCBjb250YWluIG9ubHkgQVNDSUkgbGV0dGVycyBhbmQgbnVtYmVycy4nOwogICAgICAgIH0KCiAgICAgICAgIyBjaGVjayBpZiBuYW1lIGlzIGR1cGxpY2F0ZWQKICAgICAgICBteSAlRHluYW1pY0ZpZWxkc0xpc3QgPSAlewogICAgICAgICAgICAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZExpc3QoCiAgICAgICAgICAgICAgICBWYWxpZCAgICAgID0+IDAsCiAgICAgICAgICAgICAgICBSZXN1bHRUeXBlID0+ICdIQVNIJywKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfTsKCiAgICAgICAgJUR5bmFtaWNGaWVsZHNMaXN0ID0gcmV2ZXJzZSAlRHluYW1pY0ZpZWxkc0xpc3Q7CgogICAgICAgIGlmICgKICAgICAgICAgICAgJER5bmFtaWNGaWVsZHNMaXN0eyAkR2V0UGFyYW17TmFtZX0gfSAmJgogICAgICAgICAgICAkRHluYW1pY0ZpZWxkc0xpc3R7ICRHZXRQYXJhbXtOYW1lfSB9IG5lICRGaWVsZElECiAgICAgICAgICAgICkKICAgICAgICB7CgogICAgICAgICAgICAjIGFkZCBzZXJ2ZXIgZXJyb3IgY2xhc3MKICAgICAgICAgICAgJEVycm9yc3tOYW1lU2VydmVyRXJyb3J9ICAgICAgICA9ICdTZXJ2ZXJFcnJvcic7CiAgICAgICAgICAgICRFcnJvcnN7TmFtZVNlcnZlckVycm9yTWVzc2FnZX0gPSAnVGhlcmUgaXMgYW5vdGhlciBmaWVsZCB3aXRoIHRoZSBzYW1lIG5hbWUuJzsKICAgICAgICB9CiAgICB9CgogICAgaWYgKCAkR2V0UGFyYW17RmllbGRPcmRlcn0gKSB7CgogICAgICAgICMgY2hlY2sgaWYgZmllbGQgb3JkZXIgaXMgbnVtZXJpYyBhbmQgcG9zaXRpdmUKICAgICAgICBpZiAoICRHZXRQYXJhbXtGaWVsZE9yZGVyfSAhfiBte1xBICggPzogXGQgKSsgXHp9eG1zICkgewoKICAgICAgICAgICAgIyBhZGQgc2VydmVyIGVycm9yIGVycm9yIGNsYXNzCiAgICAgICAgICAgICRFcnJvcnN7RmllbGRPcmRlclNlcnZlckVycm9yfSAgICAgICAgPSAnU2VydmVyRXJyb3InOwogICAgICAgICAgICAkRXJyb3Jze0ZpZWxkT3JkZXJTZXJ2ZXJFcnJvck1lc3NhZ2V9ID0gJ1RoZSBmaWVsZCBtdXN0IGJlIG51bWVyaWMuJzsKICAgICAgICB9CiAgICB9CgogICAgZm9yIG15ICRDb25maWdQYXJhbSAoCiAgICAgICAgcXcoCiAgICAgICAgT2JqZWN0VHlwZSBPYmplY3RUeXBlTmFtZSBGaWVsZFR5cGUgRmllbGRUeXBlTmFtZSBEZWZhdWx0VmFsdWUgUG9zc2libGVOb25lCiAgICAgICAgVHJhbnNsYXRhYmxlVmFsdWVzIFZhbGlkSUQgTGluayBRdWVyeSBQYXJhbWV0ZXJzIERCSXN0cmluZyBEQkl1c2VyIERCSXBhc3MgQ2FjaGVUVEwKICAgICAgICApCiAgICAgICAgKQogICAgewogICAgICAgICRHZXRQYXJhbXskQ29uZmlnUGFyYW19ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkQ29uZmlnUGFyYW0gKTsKICAgIH0KCiAgICAjIHVuY29ycmVjdGFibGUgZXJyb3JzCiAgICBpZiAoICEkR2V0UGFyYW17VmFsaWRJRH0gKSB7CiAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gIk5lZWQgVmFsaWRJRCIsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGdldCBkeW5hbWljIGZpZWxkIGRhdGEKICAgIG15ICREeW5hbWljRmllbGREYXRhID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRHZXQoCiAgICAgICAgSUQgPT4gJEZpZWxkSUQsCiAgICApOwoKICAgICMgY2hlY2sgZm9yIHZhbGlkIGR5bmFtaWMgZmllbGQgY29uZmlndXJhdGlvbgogICAgaWYgKCAhSXNIYXNoUmVmV2l0aERhdGEoJER5bmFtaWNGaWVsZERhdGEpICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJDb3VsZCBub3QgZ2V0IGRhdGEgZm9yIGR5bmFtaWMgZmllbGQgJEZpZWxkSUQiLAogICAgICAgICk7CiAgICB9CgojICAgIG15ICRQb3NzaWJsZVZhbHVlcyA9ICRTZWxmLT5fR2V0UG9zc2libGVWYWx1ZXMoKTsKIwojICAgICMgc2V0IGVycm9ycyBmb3IgcG9zc2libGUgdmFsdWVzIGVudHJpZXMKIyAgICBLRVk6CiMgICAgZm9yIG15ICRLZXkgKCBrZXlzICV7JFBvc3NpYmxlVmFsdWVzfSApIHsKIwojICAgICAgICAjIGNoZWNrIGZvciBlbXB0eSBvcmlnaW5hbCB2YWx1ZXMKIyAgICAgICAgaWYgKCAkS2V5ID1+IG17XEEgJFNlbGYtPntFbXB0eVN0cmluZ30gKD86IFxkKyl9c214ICkgewojCiMgICAgICAgICAgICAjIHNldCBhIHRydWUgZW50cnkgaW4gS2V5RW1wdHlFcnJvcgojICAgICAgICAgICAgJEVycm9yc3snUG9zc2libGVWYWx1ZUVycm9ycyd9LT57J0tleUVtcHR5RXJyb3InfS0+eyRLZXl9ID0gMTsKIyAgICAgICAgfQojCiMgICAgICAgICMgb3RoZXJ3aXNlIGNoZWNrIGZvciBkdXBsaWNhdGUgb3JpZ2luYWwgdmFsdWVzCiMgICAgICAgIGVsc2lmICggJEtleSA9fiBte1xBICguKykgLSAkU2VsZi0+e0R1cGxpY2F0ZVN0cmluZ30gKD86IFxkKyl9c214ICkgewojCiMgICAgICAgICAgICAjIHNldCBhbiBlbnRyeSBpbiBPcmlnVmFsdWVEdXBsaWNhdGVFcnJvciB3aXRoIHRoZSBkdXBsaWNhdGUga2V5IGFzIHZhbHVlCiMgICAgICAgICAgICAkRXJyb3JzeydQb3NzaWJsZVZhbHVlRXJyb3JzJ30tPnsnS2V5RHVwbGljYXRlRXJyb3InfS0+eyRLZXl9ID0gJDE7CiMgICAgICAgIH0KIwojICAgICAgICAjIGNoZWNrIGZvciBlbXB0eSBuZXcgdmFsdWVzCiMgICAgICAgIGlmICggIWRlZmluZWQgJFBvc3NpYmxlVmFsdWVzLT57JEtleX0gKSB7CiMKIyAgICAgICAgICAgICMgc2V0IGEgdHJ1ZSBlbnRyeSBpbiBOZXdWYWx1ZUVtcHR5RXJyb3IKIyAgICAgICAgICAgICRFcnJvcnN7J1Bvc3NpYmxlVmFsdWVFcnJvcnMnfS0+eydWYWx1ZUVtcHR5RXJyb3InfS0+eyRLZXl9ID0gMTsKIyAgICAgICAgfQojICAgIH0KCiAgICAjIHJldHVybiB0byBjaGFuZ2Ugc2NyZWVuIGlmIGVycm9ycwogICAgaWYgKCVFcnJvcnMpIHsKICAgICAgICByZXR1cm4gJFNlbGYtPl9TaG93U2NyZWVuKAogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICVFcnJvcnMsCiAgICAgICAgICAgICVHZXRQYXJhbSwKIyAgICAgICAgICAgIFBvc3NpYmxlVmFsdWVzID0+ICRQb3NzaWJsZVZhbHVlcywKICAgICAgICAgICAgSUQgICAgICAgICAgICAgPT4gJEZpZWxkSUQsCiAgICAgICAgICAgIE1vZGUgICAgICAgICAgID0+ICdDaGFuZ2UnLAogICAgICAgICk7CiAgICB9CgogICAgIyBzZXQgc3BlY2lmaWMgY29uZmlnCiAgICBteSAkRmllbGRDb25maWcgPSB7CiMgICAgICAgIFBvc3NpYmxlVmFsdWVzICAgICA9PiAkUG9zc2libGVWYWx1ZXMsCiAgICAgICAgRGVmYXVsdFZhbHVlICAgICAgID0+ICRHZXRQYXJhbXtEZWZhdWx0VmFsdWV9LAogICAgICAgIFBvc3NpYmxlTm9uZSAgICAgICA9PiAkR2V0UGFyYW17UG9zc2libGVOb25lfSwKICAgICAgICBUcmFuc2xhdGFibGVWYWx1ZXMgPT4gJEdldFBhcmFte1RyYW5zbGF0YWJsZVZhbHVlc30sCiAgICAgICAgTGluayAgICAgICAgICAgICAgID0+ICRHZXRQYXJhbXtMaW5rfSwKCVF1ZXJ5CQkgICA9PiAkR2V0UGFyYW17UXVlcnl9LAoJUGFyYW1ldGVycwkgICA9PiAkR2V0UGFyYW17UGFyYW1ldGVyc30sCglEQklzdHJpbmcJICAgPT4gJEdldFBhcmFte0RCSXN0cmluZ30sCglEQkl1c2VyCQkgICA9PiAkR2V0UGFyYW17REJJdXNlcn0sCglEQklwYXNzCQkgICA9PiAkR2V0UGFyYW17REJJcGFzc30sCglDYWNoZVRUTAkgICA9PiAkR2V0UGFyYW17Q2FjaGVUVEx9LAogICAgfTsKCiAgICAjIHVwZGF0ZSBkeW5hbWljIGZpZWxkIChGaWVsZFR5cGUgYW5kIE9iamVjdFR5cGUgY2Fubm90IGJlIGNoYW5nZWQ7IHVzZSBvbGQgdmFsdWVzKQogICAgbXkgJFVwZGF0ZVN1Y2Nlc3MgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZFVwZGF0ZSgKICAgICAgICBJRCAgICAgICAgID0+ICRGaWVsZElELAogICAgICAgIE5hbWUgICAgICAgPT4gJEdldFBhcmFte05hbWV9LAogICAgICAgIExhYmVsICAgICAgPT4gJEdldFBhcmFte0xhYmVsfSwKICAgICAgICBGaWVsZE9yZGVyID0+ICRHZXRQYXJhbXtGaWVsZE9yZGVyfSwKICAgICAgICBGaWVsZFR5cGUgID0+ICREeW5hbWljRmllbGREYXRhLT57RmllbGRUeXBlfSwKICAgICAgICBPYmplY3RUeXBlID0+ICREeW5hbWljRmllbGREYXRhLT57T2JqZWN0VHlwZX0sCiAgICAgICAgQ29uZmlnICAgICA9PiAkRmllbGRDb25maWcsCiAgICAgICAgVmFsaWRJRCAgICA9PiAkR2V0UGFyYW17VmFsaWRJRH0sCiAgICAgICAgVXNlcklEICAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICApOwoKICAgIGlmICggISRVcGRhdGVTdWNjZXNzICkgewogICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICJDb3VsZCBub3QgdXBkYXRlIHRoZSBmaWVsZCAkR2V0UGFyYW17TmFtZX0iLAogICAgICAgICk7CiAgICB9CgogICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoCiAgICAgICAgT1AgPT4gIkFjdGlvbj1BZG1pbkR5bmFtaWNGaWVsZCIsCiAgICApOwp9CgpzdWIgX1Nob3dTY3JlZW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAkUGFyYW17RGlzcGxheUZpZWxkTmFtZX0gPSAnTmV3JzsKCiAgICBpZiAoICRQYXJhbXtNb2RlfSBlcSAnQ2hhbmdlJyApIHsKICAgICAgICAkUGFyYW17U2hvd1dhcm5pbmd9ICAgICAgPSAnU2hvd1dhcm5pbmcnOwogICAgICAgICRQYXJhbXtEaXNwbGF5RmllbGROYW1lfSA9ICRQYXJhbXtOYW1lfTsKICAgIH0KCiAgICAkUGFyYW17RGVsZXRlZFN0cmluZ30gPSAkU2VsZi0+e0RlbGV0ZWRTdHJpbmd9OwoKICAgICMgaGVhZGVyCiAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsKICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5OYXZpZ2F0aW9uQmFyKCk7CgogICAgIyBnZXQgYWxsIGZpZWxkcwogICAgbXkgJER5bmFtaWNGaWVsZExpc3QgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZExpc3RHZXQoCiAgICAgICAgVmFsaWQgPT4gMCwKICAgICk7CgogICAgIyBnZXQgdGhlIGxpc3Qgb2Ygb3JkZXIgbnVtYmVycyAoaXMgYWxyZWFkeSBzb3J0ZWQpLgogICAgbXkgQER5bmFtaWNmaWVsZE9yZGVyTGlzdDsKICAgIGZvciBteSAkRHluYW1pY2ZpZWxkICggQHskRHluYW1pY0ZpZWxkTGlzdH0gKSB7CiAgICAgICAgcHVzaCBARHluYW1pY2ZpZWxkT3JkZXJMaXN0LCAkRHluYW1pY2ZpZWxkLT57RmllbGRPcmRlcn07CiAgICB9CgogICAgIyB3aGVuIGFkZGluZyB3ZSBuZWVkIHRvIGNyZWF0ZSBhbiBleHRyYSBvcmRlciBudW1iZXIgZm9yIHRoZSBuZXcgZmllbGQKICAgIGlmICggJFBhcmFte01vZGV9IGVxICdBZGQnICkgewoKICAgICAgICAjIGdldCB0aGUgbGFzdCBlbGVtZW50IGZvcm0gdGhlIG9yZGVyIGxpc3QgYW5kIGFkZCAxCiAgICAgICAgbXkgJExhc3RPcmRlck51bWJlciA9ICREeW5hbWljZmllbGRPcmRlckxpc3RbLTFdOwogICAgICAgICRMYXN0T3JkZXJOdW1iZXIrKzsKCiAgICAgICAgIyBhZGQgdGhpcyBuZXcgb3JkZXIgbnVtYmVyIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QKICAgICAgICBwdXNoIEBEeW5hbWljZmllbGRPcmRlckxpc3QsICRMYXN0T3JkZXJOdW1iZXI7CiAgICB9CgogICAgbXkgJER5bmFtaWNGaWVsZE9yZGVyU3J0ZyA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiAgICAgICAgRGF0YSAgICAgICAgICA9PiBcQER5bmFtaWNmaWVsZE9yZGVyTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgID0+ICdGaWVsZE9yZGVyJywKICAgICAgICBTZWxlY3RlZFZhbHVlID0+ICRQYXJhbXtGaWVsZE9yZGVyfSB8fCAxLAogICAgICAgIFBvc3NpYmxlTm9uZSAgPT4gMCwKICAgICAgICBDbGFzcyAgICAgICAgID0+ICdXNTBwYyBWYWxpZGF0ZV9OdW1iZXInLAogICAgKTsKCiAgICBteSAlVmFsaWRMaXN0ID0gJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkTGlzdCgpOwoKICAgICMgY3JlYXRlIHRoZSBWYWxpZGl0eSBzZWxlY3QKICAgIG15ICRWYWxpZGl0eVN0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJVZhbGlkTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ1ZhbGlkSUQnLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17VmFsaWRJRH0gfHwgMSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMCwKICAgICAgICBUcmFuc2xhdGlvbiAgPT4gMSwKICAgICAgICBDbGFzcyAgICAgICAgPT4gJ1c1MHBjJywKICAgICk7CgogICAgIyBkZWZpbmUgYXMgMCB0byBnZXQgdGhlIHJlYWwgdmFsdWUgaW4gdGhlIEhUTUwKICAgIG15ICRWYWx1ZUNvdW50ZXIgPSAwOwoKICAgICMgc2V0IFBvc3NpYmxlVmFsdWVzCiMgICAgbXkgJVBvc3NpYmxlVmFsdWVzOwojICAgIGlmICggSXNIYXNoUmVmV2l0aERhdGEoICRQYXJhbXtQb3NzaWJsZVZhbHVlc30gKSApIHsKIyAgICAgICAgJVBvc3NpYmxlVmFsdWVzID0gJXsgJFBhcmFte1Bvc3NpYmxlVmFsdWVzfSB9OwojICAgIH0KCiMgICAgIyBvdXRwdXQgdGhlIHBvc3NpYmxlIHZhbHVlcyBhbmQgZXJyb3JzIHdpdGhpbiAoaWYgYW55KQojICAgIGZvciBteSAkS2V5ICggc29ydCBrZXlzICVQb3NzaWJsZVZhbHVlcyApIHsKIwojICAgICAgICAkVmFsdWVDb3VudGVyKys7CiMKIyAgICAgICAgIyBuZWVkZWQgZm9yIHNlcnZlciBzaWRlIHZhbGlkYXRpb24KIyAgICAgICAgbXkgJEtleUVycm9yOwojICAgICAgICBteSAkS2V5RXJyb3JTdHJnOwojICAgICAgICBteSAkVmFsdWVFcnJvcjsKIwojICAgICAgICAjIHRvIHNldCB0aGUgY29ycmVjdCBvcmlnaW5hbCB2YWx1ZQojICAgICAgICBteSAkS2V5Q2xvbmUgPSAkS2V5OwojCiMgICAgICAgICMgY2hlY2sgZm9yIGVycm9ycwojICAgICAgICBpZiAoICRQYXJhbXsnUG9zc2libGVWYWx1ZUVycm9ycyd9ICkgewojCiMgICAgICAgICAgICAjIGNoZWNrIGZvciBlcnJvcnMgb24gb3JpZ2luYWwgdmFsdWUgKGVtcHR5KQojICAgICAgICAgICAgaWYgKCAkUGFyYW17J1Bvc3NpYmxlVmFsdWVFcnJvcnMnfS0+eydLZXlFbXB0eUVycm9yJ30tPnskS2V5fSApIHsKIwojICAgICAgICAgICAgICAgICMgaWYgdGhlIG9yaWdpbmFsIHZhbHVlIHdhcyBlbXB0eSBpdCBoYXMgYmVlbiBjaGFuZ2VkIGluIF9HZXRQYXJhbXMgdG8gYSBwcmVkZWZpbmVkCiMgICAgICAgICAgICAgICAgIyBzdHJpbmcgYW5kIG5lZWQgdG8gYmUgc2V0IHRvIGVtcHR5IGFnYWluCiMgICAgICAgICAgICAgICAgJEtleUNsb25lID0gJyc7CiMKIyAgICAgICAgICAgICAgICAjIHNldCB0aGUgZXJyb3IgY2xhc3MKIyAgICAgICAgICAgICAgICAkS2V5RXJyb3IgICAgID0gJ1NlcnZlckVycm9yJzsKIyAgICAgICAgICAgICAgICAkS2V5RXJyb3JTdHJnID0gJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJwojICAgICAgICAgICAgfQojCiMgICAgICAgICAgICAjIGNoZWNrIGZvciBlcnJvcnMgb24gb3JpZ2luYWwgdmFsdWUgKGR1cGxpY2F0ZSkKIyAgICAgICAgICAgIGVsc2lmICggJFBhcmFteydQb3NzaWJsZVZhbHVlRXJyb3JzJ30tPnsnS2V5RHVwbGljYXRlRXJyb3InfS0+eyRLZXl9ICkgewojCiMgICAgICAgICAgICAgICAgIyBpZiB0aGUgb3JpZ2luYWwgdmFsdWUgd2FzIGVtcHR5IGl0IGhhcyBiZWVuIGNoYW5nZWQgaW4gX0dldFBhcmFtcyB0byBhIHByZWRlZmluZWQKIyAgICAgICAgICAgICAgICAjIHN0cmluZyBhbmQgbmVlZCB0byBiZSBzZXQgdG8gdGhlIG9yaWdpbmFsIHZhbHVlIGFnYWluCiMgICAgICAgICAgICAgICAgJEtleUNsb25lCiMgICAgICAgICAgICAgICAgICAgID0gJFBhcmFteydQb3NzaWJsZVZhbHVlRXJyb3JzJ30tPnsnS2V5RHVwbGljYXRlRXJyb3InfS0+eyRLZXl9OwojCiMgICAgICAgICAgICAgICAgIyBzZXQgdGhlIGVycm9yIGNsYXNzCiMgICAgICAgICAgICAgICAgJEtleUVycm9yICAgICA9ICdTZXJ2ZXJFcnJvcic7CiMgICAgICAgICAgICAgICAgJEtleUVycm9yU3RyZyA9ICdUaGlzIGZpZWxkIHZhbHVlIGlzIGR1cGxpY2F0ZWQuJwojICAgICAgICAgICAgfQojCiMgICAgICAgICAgICAjIGNoZWNrIGZvciBlcnJvciBvbiB2YWx1ZQojICAgICAgICAgICAgaWYgKCAkUGFyYW17J1Bvc3NpYmxlVmFsdWVFcnJvcnMnfS0+eydWYWx1ZUVtcHR5RXJyb3InfS0+eyRLZXl9ICkgewojCiMgICAgICAgICAgICAgICAgIyBzZXQgdGhlIGVycm9yIGNsYXNzCiMgICAgICAgICAgICAgICAgJFZhbHVlRXJyb3IgPSAnU2VydmVyRXJyb3InOwojICAgICAgICAgICAgfQojICAgICAgICB9CiMKIyAgICAgICAgIyBjcmVhdGUgYSB2YWx1ZSBtYXAgcm93CiMgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiMgICAgICAgICAgICBOYW1lID0+ICdWYWx1ZVJvdycsCiMgICAgICAgICAgICBEYXRhID0+IHsKIyAgICAgICAgICAgICAgICBLZXlFcnJvciAgICAgPT4gJEtleUVycm9yLAojICAgICAgICAgICAgICAgIEtleUVycm9yU3RyZyA9PiAkS2V5RXJyb3JTdHJnIHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLicsCiMgICAgICAgICAgICAgICAgS2V5ICAgICAgICAgID0+ICRLZXlDbG9uZSwKIyAgICAgICAgICAgICAgICBWYWx1ZUNvdW50ZXIgPT4gJFZhbHVlQ291bnRlciwKIyAgICAgICAgICAgICAgICBWYWx1ZSAgICAgICAgPT4gJFBvc3NpYmxlVmFsdWVzeyRLZXl9LAojICAgICAgICAgICAgICAgIFZhbHVlRXJyb3IgICA9PiAkVmFsdWVFcnJvciwKIyAgICAgICAgICAgIH0sCiMgICAgICAgICk7CiMgICAgfQoKIyAgICAjIGNyZWF0ZSB0aGUgcG9zc2libGUgdmFsdWVzIHRlbXBsYXRlCiMgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKIyAgICAgICAgTmFtZSA9PiAnVmFsdWVUZW1wbGF0ZScsCiMgICAgICAgIERhdGEgPT4gewojICAgICAgICAgICAgJVBhcmFtLAojICAgICAgICB9LAojICAgICk7CgogICAgIyBjaGVjayBhbmQgYnVpbGQgdGhlIERlZmF1bHQgVmFsdWUgbGlzdCBiYXNlZCBvbiBQb3NzaWJsZSBWYWx1ZXMKIyAgICBteSAlRGVmYXVsdFZhbHVlc0xpc3Q7CiMgICAgUE9TU0lCTEVWQUxVRToKIyAgICBmb3IgbXkgJFZhbHVlSXRlbSAoIGtleXMgJVBvc3NpYmxlVmFsdWVzICkgewojICAgICAgICBuZXh0IFBPU1NJQkxFVkFMVUUgaWYgIWRlZmluZWQgJFZhbHVlSXRlbTsKIyAgICAgICAgbmV4dCBQT1NTSUJMRVZBTFVFIGlmICFkZWZpbmVkICRQb3NzaWJsZVZhbHVlc3skVmFsdWVJdGVtfTsKIyAgICAgICAgJERlZmF1bHRWYWx1ZXNMaXN0eyRWYWx1ZUl0ZW19ID0gJFBvc3NpYmxlVmFsdWVzeyRWYWx1ZUl0ZW19CiMgICAgfQojCiMgICAgbXkgJERlZmF1bHRWYWx1ZSA9ICggZGVmaW5lZCAkUGFyYW17RGVmYXVsdFZhbHVlfSA/ICRQYXJhbXtEZWZhdWx0VmFsdWV9IDogJycgKTsKIwojICAgICMgY3JlYXRlIHRoZSBkZWZhdWx0IHZhbHVlIHNlbGVjdAojICAgIG15ICREZWZhdWx0VmFsdWVTdHJnID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKIyAgICAgICAgRGF0YSAgICAgICAgID0+IFwlRGVmYXVsdFZhbHVlc0xpc3QsCiMgICAgICAgIE5hbWUgICAgICAgICA9PiAnRGVmYXVsdFZhbHVlJywKIyAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICREZWZhdWx0VmFsdWUsCiMgICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAojCiMgICAgICAgICMgRG9uJ3QgbWFrZSBpcyB0cmFuc2xhdGFibGUgYmVjYXVzZSB0aGlzIHdpbGwgY29uZnVzZSB0aGUgdXNlciAoYWxzbyBjdXJyZW50IEpTCiMgICAgICAgICMgaXMgbm90IHByZXBhcmVkKQojICAgICAgICBUcmFuc2xhdGlvbiA9PiAwLAojCiMgICAgICAgICMgTXVsdGlwbGUgc2VsZWN0aW9ucyBhcmUgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQKIyAgICAgICAgTXVsdGlwbGUgPT4gMCwKIyAgICAgICAgQ2xhc3MgICAgPT4gJ1c1MHBjJywKIyAgICApOwoKICAgIG15ICRQb3NzaWJsZU5vbmUgPSAkUGFyYW17UG9zc2libGVOb25lfSB8fCAnMCc7CgogICAgIyBjcmVhdGUgdHJhbnNsYXRhYmxlIHZhbHVlcyBvcHRpb24gbGlzdAogICAgbXkgJFBvc3NpYmxlTm9uZVN0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAwID0+ICdObycsCiAgICAgICAgICAgIDEgPT4gJ1llcycsCiAgICAgICAgfSwKICAgICAgICBOYW1lICAgICAgID0+ICdQb3NzaWJsZU5vbmUnLAogICAgICAgIFNlbGVjdGVkSUQgPT4gJFBvc3NpYmxlTm9uZSwKICAgICAgICBDbGFzcyAgICAgID0+ICdXNTBwYycsCiAgICApOwoKICAgIG15ICRUcmFuc2xhdGFibGVWYWx1ZXMgPSAkUGFyYW17VHJhbnNsYXRhYmxlVmFsdWVzfSB8fCAnMCc7CgogICAgIyBjcmVhdGUgdHJhbnNsYXRhYmxlIHZhbHVlcyBvcHRpb24gbGlzdAogICAgbXkgJFRyYW5zbGF0YWJsZVZhbHVlc1N0cmcgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAwID0+ICdObycsCiAgICAgICAgICAgIDEgPT4gJ1llcycsCiAgICAgICAgfSwKICAgICAgICBOYW1lICAgICAgID0+ICdUcmFuc2xhdGFibGVWYWx1ZXMnLAogICAgICAgIFNlbGVjdGVkSUQgPT4gJFRyYW5zbGF0YWJsZVZhbHVlcywKICAgICAgICBDbGFzcyAgICAgID0+ICdXNTBwYycsCiAgICApOwoKICAgIG15ICRMaW5rID0gJFBhcmFte0xpbmt9IHx8ICcnOwogICAgbXkgJFF1ZXJ5ID0gJFBhcmFte1F1ZXJ5fSB8fCAnJzsKICAgIG15ICRQYXJhbWV0ZXJzID0gJFBhcmFte1BhcmFtZXRlcnN9IHx8ICcnOwogICAgbXkgJERCSXN0cmluZyA9ICRQYXJhbXtEQklzdHJpbmd9IHx8ICcnOwogICAgbXkgJERCSXVzZXIgPSAkUGFyYW17REJJdXNlcn0gfHwgJyc7CiAgICBteSAkREJJcGFzcyA9ICRQYXJhbXtEQklwYXNzfSB8fCAnJzsKICAgIG15ICRDYWNoZVRUTCA9ICRQYXJhbXtDYWNoZVRUTH0gfHwgJyc7CgogICAgIyBnZW5lcmF0ZSBvdXRwdXQKICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5PdXRwdXQoCiAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdBZG1pbkR5bmFtaWNGaWVsZFRleHRBcmVhRnJvbURCJywKICAgICAgICBEYXRhICAgICAgICAgPT4gewogICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgIFZhbGlkaXR5U3RyZyAgICAgICAgICAgPT4gJFZhbGlkaXR5U3RyZywKICAgICAgICAgICAgRHluYW1pY0ZpZWxkT3JkZXJTcnRnICA9PiAkRHluYW1pY0ZpZWxkT3JkZXJTcnRnLAojICAgICAgICAgICAgVmFsdWVDb3VudGVyICAgICAgICAgICA9PiAkVmFsdWVDb3VudGVyLAojICAgICAgICAgICAgRGVmYXVsdFZhbHVlU3RyZyAgICAgICA9PiAkRGVmYXVsdFZhbHVlU3RyZywKICAgICAgICAgICAgUG9zc2libGVOb25lU3RyZyAgICAgICA9PiAkUG9zc2libGVOb25lU3RyZywKICAgICAgICAgICAgVHJhbnNsYXRhYmxlVmFsdWVzU3RyZyA9PiAkVHJhbnNsYXRhYmxlVmFsdWVzU3RyZywKICAgICAgICAgICAgTGluayAgICAgICAgICAgICAgICAgICA9PiAkTGluaywKCSAgICBRdWVyeQkJICAgPT4gJFF1ZXJ5LAoJICAgIFBhcmFtZXRlcnMJCSAgID0+ICRQYXJhbWV0ZXJzLAoJICAgIERCSXN0cmluZwkJICAgPT4gJERCSXN0cmluZywKCSAgICBEQkl1c2VyCQkgICA9PiAkREJJdXNlciwKCSAgICBEQklwYXNzCQkgICA9PiAkREJJcGFzcywKCSAgICBDYWNoZVRUTAkJICAgPT4gJENhY2hlVFRMLAogICAgICAgICAgICB9CiAgICApOwoKICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Gb290ZXIoKTsKCiAgICByZXR1cm4gJE91dHB1dDsKfQoKI3N1YiBfR2V0UG9zc2libGVWYWx1ZXMgewojICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CiMKIyAgICBteSAkUG9zc2libGVWYWx1ZUNvbmZpZzsKIwojICAgICMgZ2V0IHBhcmFtZXRlcnMgZnJvbSB3ZWIgYnJvd3NlcgojICAgICMgZ2V0IFZhbHVlQ291bnRlcnMKIyAgICBteSAkVmFsdWVDb3VudGVyICAgICAgICAgID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnVmFsdWVDb3VudGVyJyApIHx8IDA7CiMgICAgbXkgJEVtcHR5VmFsdWVDb3VudGVyICAgICA9IDA7CiMgICAgbXkgJER1cGxpY2F0ZVZhbHVlQ291bnRlciA9IDA7CiMKIyAgICAjIGdldCBwb3NzaWJsZSB2YWx1ZXMKIyAgICBteSAkVmFsdWVzOwojICAgIFZBTFVFSU5ERVg6CiMgICAgZm9yIG15ICRWYWx1ZUluZGV4ICggMSAuLiAkVmFsdWVDb3VudGVyICkgewojICAgICAgICBteSAkS2V5ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnS2V5JyAuICdfJyAuICRWYWx1ZUluZGV4ICk7CiMgICAgICAgICRLZXkgPSAoIGRlZmluZWQgJEtleSA/ICRLZXkgOiAnJyApOwojCiMgICAgICAgICMgY2hlY2sgaWYga2V5IHdhcyBkZWxldGVkIGJ5IHRoZSB1c2VyIGFuZCBza2lwIGl0CiMgICAgICAgIG5leHQgVkFMVUVJTkRFWCBpZiAkS2V5IGVxICRTZWxmLT57RGVsZXRlZFN0cmluZ307CiMKIyAgICAgICAgIyBjaGVjayBpZiB0aGUgb3JpZ2luYWwgdmFsdWUgaXMgZW1wdHkKIyAgICAgICAgaWYgKCAkS2V5IGVxICcnICkgewojCiMgICAgICAgICAgICAjIGNoYW5nZSB0aGUgZW1wdHkgdmFsdWUgdG8gYSBwcmVkZWZpbmVkIHN0cmluZwojICAgICAgICAgICAgJEtleSA9ICRTZWxmLT57RW1wdHlTdHJpbmd9IC4gaW50ICRFbXB0eVZhbHVlQ291bnRlcjsKIyAgICAgICAgICAgICRFbXB0eVZhbHVlQ291bnRlcisrOwojICAgICAgICB9CiMKIyAgICAgICAgIyBvdGhlcndpc2UgY2hlY2sgZm9yIGR1cGxpY2F0ZQojICAgICAgICBlbHNpZiAoIGV4aXN0cyAkUG9zc2libGVWYWx1ZUNvbmZpZy0+eyRLZXl9ICkgewojCiMgICAgICAgICAgICAjIGFwcGVuZCBhIHByZWRlZmluZWQgdW5pcXVlIHN0cmluZyB0byBtYWtlIHRoaXMgdmFsdWUgdW5pcXVlCiMgICAgICAgICAgICAkS2V5IC49ICctJyAuICRTZWxmLT57RHVwbGljYXRlU3RyaW5nfSAuICREdXBsaWNhdGVWYWx1ZUNvdW50ZXI7CiMgICAgICAgICAgICAkRHVwbGljYXRlVmFsdWVDb3VudGVyKys7CiMgICAgICAgIH0KIwojICAgICAgICBteSAkVmFsdWUgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdWYWx1ZScgLiAnXycgLiAkVmFsdWVJbmRleCApOwojICAgICAgICAkVmFsdWUgPSAoIGRlZmluZWQgJFZhbHVlID8gJFZhbHVlIDogJycgKTsKIyAgICAgICAgJFBvc3NpYmxlVmFsdWVDb25maWctPnskS2V5fSA9ICRWYWx1ZTsKIyAgICB9CiMgICAgcmV0dXJuICRQb3NzaWJsZVZhbHVlQ29uZmlnOwojfQoKMTsK</File>
        <File Location="Custom/Kernel/System/DynamicField/Backend/DropdownFromDB.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9TeXN0ZW0vRHluYW1pY0ZpZWxkL0JhY2tlbmQvRHJvcGRvd24ucG0gLSBEZWxlZ2F0ZSBmb3IgRHluYW1pY0ZpZWxkIERyb3Bkb3duIGJhY2tlbmQKIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMiBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0KIyAkSWQ6IERyb3Bkb3duLnBtLHYgMS42MyAyMDEyLzA0LzAyIDExOjQ2OjM1IG1nIEV4cCAkCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgpwYWNrYWdlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQ6OkRyb3Bkb3duRnJvbURCOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwp1c2UgREJJOwoKdXNlIEtlcm5lbDo6U3lzdGVtOjpWYXJpYWJsZUNoZWNrIHF3KDphbGwpOwp1c2UgS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZFZhbHVlOwp1c2UgS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZDo6QmFja2VuZENvbW1vbjsKdXNlIEtlcm5lbDo6U3lzdGVtOjpDYWNoZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpUaWNrZXQ7CiN1c2UgS2VybmVsOjpTeXN0ZW06OkNhY2hlSW50ZXJuYWw7Cgp1c2UgdmFycyBxdygkVkVSU0lPTik7CiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjYzICQpIFsxXTsKCj1oZWFkMSBOQU1FCgpLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOjpEcm9wZG93bgoKPWhlYWQxIFNZTk9QU0lTCgpEeW5hbWljRmllbGRzIERyb3Bkb3duIGJhY2tlbmQgZGVsZWdhdGUKCj1oZWFkMSBQVUJMSUMgSU5URVJGQUNFCgpUaGlzIG1vZHVsZSBpbXBsZW1lbnRzIHRoZSBwdWJsaWMgaW50ZXJmYWNlIG9mIEw8S2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZD4uClBsZWFzZSBsb29rIHRoZXJlIGZvciBhIGRldGFpbGVkIHJlZmVyZW5jZSBvZiB0aGUgZnVuY3Rpb25zLgoKPW92ZXIgNAoKPWl0ZW0gbmV3KCkKCnVzdWFsbHksIHlvdSB3YW50IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzCmJ5IHVzaW5nIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQtPm5ldygpOwoKPWN1dAoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7fTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICAjIGdldCBuZWVkZWQgb2JqZWN0cwogICAgZm9yIG15ICROZWVkZWQgKHF3KENvbmZpZ09iamVjdCBFbmNvZGVPYmplY3QgTG9nT2JqZWN0IE1haW5PYmplY3QgREJPYmplY3QpKSB7CiAgICAgICAgZGllICJHb3Qgbm8gJE5lZWRlZCEiIGlmICEkUGFyYW17JE5lZWRlZH07CgogICAgICAgICRTZWxmLT57JE5lZWRlZH0gPSAkUGFyYW17JE5lZWRlZH07CiAgICB9CgogICAgIyBjcmVhdGUgYWRkaXRpb25hbCBvYmplY3RzCiAgICAkU2VsZi0+e0R5bmFtaWNGaWVsZFZhbHVlT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGRWYWx1ZS0+bmV3KCAleyRTZWxmfSApOwogICAgJFNlbGYtPntCYWNrZW5kQ29tbW9uT2JqZWN0fQogICAgICAgID0gS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZDo6QmFja2VuZENvbW1vbi0+bmV3KCAleyRTZWxmfSApOwoKICAgICRTZWxmLT57Q2FjaGVPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OkNhY2hlLT5uZXcoJVBhcmFtKTsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBWYWx1ZUdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRERlZhbHVlID0gJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0tPlZhbHVlR2V0KAogICAgICAgIEZpZWxkSUQgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57SUR9LAogICAgICAgIE9iamVjdElEID0+ICRQYXJhbXtPYmplY3RJRH0sCiAgICApOwoKICAgIHJldHVybiBpZiAhJERGVmFsdWU7CiAgICByZXR1cm4gaWYgIUlzQXJyYXlSZWZXaXRoRGF0YSgkREZWYWx1ZSk7CiAgICByZXR1cm4gaWYgIUlzSGFzaFJlZldpdGhEYXRhKCAkREZWYWx1ZS0+WzBdICk7CgogICAgcmV0dXJuICRERlZhbHVlLT5bMF0tPntWYWx1ZVRleHR9Owp9CgpzdWIgVmFsdWVTZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiMgICAgIyBjaGVjayBmb3IgdmFsaWQgcG9zc2libGUgdmFsdWVzIGxpc3QKIyAgICBpZiAoICEkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntQb3NzaWJsZVZhbHVlc30gKSB7CiMgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAojICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKIyAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkIFBvc3NpYmxlVmFsdWVzIGluIER5bmFtaWNGaWVsZENvbmZpZyEiLAojICAgICAgICApOwojICAgICAgICByZXR1cm47CiMgICAgfQoKICAgIG15ICRTdWNjZXNzID0gJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0tPlZhbHVlU2V0KAogICAgICAgIEZpZWxkSUQgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57SUR9LAogICAgICAgIE9iamVjdElEID0+ICRQYXJhbXtPYmplY3RJRH0sCiAgICAgICAgVmFsdWUgICAgPT4gWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBWYWx1ZVRleHQgPT4gJFBhcmFte1ZhbHVlfSwKICAgICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIFVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CgogICAgcmV0dXJuICRTdWNjZXNzOwp9CgpzdWIgVmFsdWVEZWxldGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkU3VjY2VzcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5WYWx1ZURlbGV0ZSgKICAgICAgICBGaWVsZElEICA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0lEfSwKICAgICAgICBPYmplY3RJRCA9PiAkUGFyYW17T2JqZWN0SUR9LAogICAgICAgIFVzZXJJRCAgID0+ICRQYXJhbXtVc2VySUR9LAogICAgKTsKCiAgICByZXR1cm4gJFN1Y2Nlc3M7Cn0KCnN1YiBBbGxWYWx1ZXNEZWxldGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkU3VjY2VzcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5BbGxWYWx1ZXNEZWxldGUoCiAgICAgICAgRmllbGRJRCA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0lEfSwKICAgICAgICBVc2VySUQgID0+ICRQYXJhbXtVc2VySUR9LAogICAgKTsKCiAgICByZXR1cm4gJFN1Y2Nlc3M7Cn0KCnN1YiBWYWx1ZVZhbGlkYXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFN1Y2Nlc3MgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZFZhbHVlT2JqZWN0fS0+VmFsdWVWYWxpZGF0ZSgKICAgICAgICBWYWx1ZSA9PiB7CiAgICAgICAgICAgIFZhbHVlVGV4dCA9PiAkUGFyYW17VmFsdWV9LAogICAgICAgIH0sCiAgICAgICAgVXNlcklEID0+ICRQYXJhbXtVc2VySUR9CiAgICApOwoKICAgIHJldHVybiAkU3VjY2VzczsKfQoKc3ViIFNlYXJjaFNRTEdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICVPcGVyYXRvcnMgPSAoCiAgICAgICAgRXF1YWxzICAgICAgICAgICAgPT4gJz0nLAogICAgICAgIEdyZWF0ZXJUaGFuICAgICAgID0+ICc+JywKICAgICAgICBHcmVhdGVyVGhhbkVxdWFscyA9PiAnPj0nLAogICAgICAgIFNtYWxsZXJUaGFuICAgICAgID0+ICc8JywKICAgICAgICBTbWFsbGVyVGhhbkVxdWFscyA9PiAnPD0nLAogICAgKTsKCiAgICBpZiAoICRPcGVyYXRvcnN7ICRQYXJhbXtPcGVyYXRvcn0gfSApIHsKICAgICAgICBteSAkU1FMID0gIiAkUGFyYW17VGFibGVBbGlhc30udmFsdWVfdGV4dCAkT3BlcmF0b3JzeyRQYXJhbXtPcGVyYXRvcn19ICciOwogICAgICAgICRTUUwgLj0gJFNlbGYtPntEQk9iamVjdH0tPlF1b3RlKCAkUGFyYW17U2VhcmNoVGVybX0gKSAuICInICI7CiAgICAgICAgcmV0dXJuICRTUUw7CiAgICB9CgogICAgaWYgKCAkUGFyYW17T3BlcmF0b3J9IGVxICdMaWtlJyApIHsKCiAgICAgICAgbXkgJFNRTCA9ICRTZWxmLT57REJPYmplY3R9LT5RdWVyeUNvbmRpdGlvbigKICAgICAgICAgICAgS2V5ICAgPT4gIiRQYXJhbXtUYWJsZUFsaWFzfS52YWx1ZV90ZXh0IiwKICAgICAgICAgICAgVmFsdWUgPT4gJFBhcmFte1NlYXJjaFRlcm19LAogICAgICAgICk7CgogICAgICAgIHJldHVybiAkU1FMOwogICAgfQoKICAgICRTZWxmLT57J0xvZ09iamVjdCd9LT5Mb2coCiAgICAgICAgJ1ByaW9yaXR5JyA9PiAnZXJyb3InLAogICAgICAgICdNZXNzYWdlJyAgPT4gIlVuc3VwcG9ydGVkIE9wZXJhdG9yICRQYXJhbXtPcGVyYXRvcn0iLAogICAgKTsKCiAgICByZXR1cm47Cn0KCnN1YiBTZWFyY2hTUUxPcmRlckZpZWxkR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuICIkUGFyYW17VGFibGVBbGlhc30udmFsdWVfdGV4dCI7Cn0KCnN1YiBFZGl0RmllbGRSZW5kZXIgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIHRha2UgY29uZmlnIGZyb20gZmllbGQgY29uZmlnCiAgICBteSAkRmllbGRDb25maWcgPSAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ307CiAgICBteSAkRmllbGROYW1lICAgPSAnRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9OwogICAgbXkgJEZpZWxkTGFiZWwgID0gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntMYWJlbH07CgogICAgbXkgJFZhbHVlID0gJyc7CgogICAgIyBzZXQgdGhlIGZpZWxkIHZhbHVlIG9yIGRlZmF1bHQKICAgIGlmICggJFBhcmFte1VzZURlZmF1bHRWYWx1ZX0gKSB7CiAgICAgICAgJFZhbHVlID0gKCBkZWZpbmVkICRGaWVsZENvbmZpZy0+e0RlZmF1bHRWYWx1ZX0gPyAkRmllbGRDb25maWctPntEZWZhdWx0VmFsdWV9IDogJycgKTsKICAgIH0KICAgICRWYWx1ZSA9ICRQYXJhbXtWYWx1ZX0gaWYgZGVmaW5lZCAkUGFyYW17VmFsdWV9OwoKICAgICMgZXh0cmFjdCB0aGUgZHluYW1pYyBmaWVsZCB2YWx1ZSBmb3JtIHRoZSB3ZWIgcmVxdWVzdAogICAgbXkgJEZpZWxkVmFsdWUgPSAkU2VsZi0+RWRpdEZpZWxkVmFsdWVHZXQoCiAgICAgICAgJVBhcmFtLAogICAgKTsKCiAgICAjIHNldCB2YWx1ZXMgZnJvbSBQYXJhbU9iamVjdCBpZiBwcmVzZW50CiAgICBpZiAoIGRlZmluZWQgJEZpZWxkVmFsdWUgKSB7CiAgICAgICAgJFZhbHVlID0gJEZpZWxkVmFsdWU7CiAgICB9CiMjIyMgRk9USCBERUJVRwkKIwl1c2UgRGF0YTo6RHVtcGVyOwojCW9wZW4gRVJSTE9HLCAnPj4vdG1wL0Ryb3Bkb3duRnJvbURCLkVkaXRGaWVsZFZhbHVlR2V0LmxvZyc7CiMJcHJpbnQgRVJSTE9HICRGaWVsZE5hbWUuIiA6IjsKIwlwcmludCBFUlJMT0cgRHVtcGVyKCRQYXJhbXtQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkRmllbGROYW1lICkpOwojCXByaW50IEVSUkxPRyBEdW1wZXIoXCVQYXJhbSk7CiMJcHJpbnQgRVJSTE9HIER1bXBlcigkVmFsdWUpOwojCXByaW50IEVSUkxPRyBEdW1wZXIoJFBhcmFte1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdUaWNrZXRJRCcpKTsKIwljbG9zZSBFUlJMT0c7CgoKICAgICMgY2hlY2sgYW5kIHNldCBjbGFzcyBpZiBuZWNlc3NhcnkKICAgIG15ICRGaWVsZENsYXNzID0gJ0R5bmFtaWNGaWVsZFRleHQnOwogICAgaWYgKCBkZWZpbmVkICRQYXJhbXtDbGFzc30gJiYgJFBhcmFte0NsYXNzfSBuZSAnJyApIHsKICAgICAgICAkRmllbGRDbGFzcyAuPSAnICcgLiAkUGFyYW17Q2xhc3N9OwogICAgfQoKICAgICMgc2V0IGZpZWxkIGFzIG1hbmRhdG9yeQogICAgJEZpZWxkQ2xhc3MgLj0gJyBWYWxpZGF0ZV9SZXF1aXJlZCcgaWYgJFBhcmFte01hbmRhdG9yeX07CgogICAgIyBzZXQgZXJyb3IgY3NzIGNsYXNzCiAgICAkRmllbGRDbGFzcyAuPSAnIFNlcnZlckVycm9yJyBpZiAkUGFyYW17U2VydmVyRXJyb3J9OwoKICAgICMgc2V0IFBvc3NpYmxlVmFsdWVzCiAgICBteSAkU2VsZWN0aW9uRGF0YSA9ICRGaWVsZENvbmZpZy0+e1Bvc3NpYmxlVmFsdWVzfTsKCiAgICAjIyMgRk9USCBwcmVsb2FkIGRhdGEgYXQgY3JlYXRpb24KICAgICRTZWxlY3Rpb25EYXRhID0gJFNlbGYtPkFKQVhQb3NzaWJsZVZhbHVlc0dldCglUGFyYW0sIEZvcmNlUXVlcnkgPT4gMSk7CiAgICAjIyMgRU5EIEZPVEgKCiAgICAjIHVzZSBQb3NzaWJsZVZhbHVlc0ZpbHRlciBpZiBkZWZpbmVkCiAgICAkU2VsZWN0aW9uRGF0YSA9ICRQYXJhbXtQb3NzaWJsZVZhbHVlc0ZpbHRlcn0KICAgICAgICBpZiBkZWZpbmVkICRQYXJhbXtQb3NzaWJsZVZhbHVlc0ZpbHRlcn07CgogICAgIyBzZXQgUG9zc2libGVOb25lIGF0dHJpYnV0ZQogICAgbXkgJEZpZWxkUG9zc2libGVOb25lOwogICAgaWYgKCBkZWZpbmVkICRQYXJhbXtPdmVycmlkZVBvc3NpYmxlTm9uZX0gKSB7CiAgICAgICAgJEZpZWxkUG9zc2libGVOb25lID0gJFBhcmFte092ZXJyaWRlUG9zc2libGVOb25lfTsKICAgIH0KICAgIGVsc2UgewogICAgICAgICRGaWVsZFBvc3NpYmxlTm9uZSA9ICRGaWVsZENvbmZpZy0+e1Bvc3NpYmxlTm9uZX0gfHwgMDsKICAgIH0KCiAgICBteSAkSFRNTFN0cmluZyA9ICRQYXJhbXtMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhID0+ICRTZWxlY3Rpb25EYXRhIHx8IHt9LAogICAgICAgIE5hbWUgPT4gJEZpZWxkTmFtZSwKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFZhbHVlLAogICAgICAgIFRyYW5zbGF0aW9uICA9PiAkRmllbGRDb25maWctPntUcmFuc2xhdGFibGVWYWx1ZXN9IHx8IDAsCiAgICAgICAgUG9zc2libGVOb25lID0+ICRGaWVsZFBvc3NpYmxlTm9uZSwKICAgICAgICBDbGFzcyAgICAgICAgPT4gJEZpZWxkQ2xhc3MsCiAgICAgICAgSFRNTFF1b3RlICAgID0+IDEsCiAgICApOwoKICAgIGlmICggJFBhcmFte01hbmRhdG9yeX0gKSB7CiAgICAgICAgbXkgJERpdklEID0gJEZpZWxkTmFtZSAuICdFcnJvcic7CgogICAgICAgICMgZm9yIGNsaWVudCBzaWRlIHZhbGlkYXRpb24KICAgICAgICAkSFRNTFN0cmluZyAuPSA8PCJFT0YiOwoKICAgIDxkaXYgaWQ9IiREaXZJRCIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPgogICAgICAgIDxwPgogICAgICAgICAgICBcJFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn0KICAgICAgICA8L3A+CiAgICA8L2Rpdj4KRU9GCiAgICB9CgogICAgaWYgKCAkUGFyYW17U2VydmVyRXJyb3J9ICkgewoKICAgICAgICBteSAkRXJyb3JNZXNzYWdlID0gJFBhcmFte0Vycm9yTWVzc2FnZX0gfHwgJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJzsKICAgICAgICBteSAkRGl2SUQgPSAkRmllbGROYW1lIC4gJ1NlcnZlckVycm9yJzsKCiAgICAgICAgIyBmb3Igc2VydmVyIHNpZGUgdmFsaWRhdGlvbgogICAgICAgICRIVE1MU3RyaW5nIC49IDw8IkVPRiI7CiAgICA8ZGl2IGlkPSIkRGl2SUQiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj4KICAgICAgICA8cD4KICAgICAgICAgICAgXCRUZXh0eyIkRXJyb3JNZXNzYWdlIn0KICAgICAgICA8L3A+CiAgICA8L2Rpdj4KRU9GCiAgICB9CgogICAgaWYgKCAkUGFyYW17QUpBWFVwZGF0ZX0gb3IgMSApIHsKCiAgICAgICAgbXkgJEZpZWxkU2VsZWN0b3IgPSAnIycgLiAkRmllbGROYW1lOwoKICAgICAgICBteSAkRmllbGRzVG9VcGRhdGUgPSAnJzsKICAgICAgICBpZiAoIElzQXJyYXlSZWZXaXRoRGF0YSggJFBhcmFte1VwZGF0YWJsZUZpZWxkc30gKSApIHsKICAgICAgICAgICAgbXkgJEZpcnN0SXRlbSA9IDE7CiAgICAgICAgICAgIEZJRUxEOgogICAgICAgICAgICBmb3IgbXkgJEZpZWxkICggQHsgJFBhcmFte1VwZGF0YWJsZUZpZWxkc30gfSApIHsKICAgICAgICAgICAgICAgIG5leHQgRklFTEQgaWYgJEZpZWxkIGVxICRGaWVsZE5hbWU7CiAgICAgICAgICAgICAgICBpZiAoJEZpcnN0SXRlbSkgewogICAgICAgICAgICAgICAgICAgICRGaXJzdEl0ZW0gPSAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJEZpZWxkc1RvVXBkYXRlIC49ICcsICc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkRmllbGRzVG9VcGRhdGUgLj0gIiciIC4gJEZpZWxkIC4gIiciOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAjYWRkIGpzIHRvIGNhbGwgRm9ybVVwZGF0ZSgpCiAgICAgICAgJEhUTUxTdHJpbmcgLj0gPDwiRU9GIjsKPCEtLWR0bDpqc19vbl9kb2N1bWVudF9jb21wbGV0ZS0tPgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+Ly88IVtDREFUQVsKICAgIFwkKCckRmllbGRTZWxlY3RvcicpLmJpbmQoJ2NoYW5nZScsIGZ1bmN0aW9uIChFdmVudCkgewogICAgICAgIENvcmUuQUpBWC5Gb3JtVXBkYXRlKFwkKHRoaXMpLnBhcmVudHMoJ2Zvcm0nKSwgJ0FKQVhVcGRhdGUnLCAnJEZpZWxkTmFtZScsIFsgJEZpZWxkc1RvVXBkYXRlIF0pOwogICAgfSk7Ci8vXV0+PC9zY3JpcHQ+CjwhLS1kdGw6anNfb25fZG9jdW1lbnRfY29tcGxldGUtLT4KRU9GCiAgICB9CgoKICAgIGlmICggJFBhcmFte1N1Ym1pdE9uQ2hhbmdlfSApIHsKCiAgICAgICAgbXkgJEZpZWxkU2VsZWN0b3IgPSAnIycgLiAkRmllbGROYW1lOwoKICAgICAgICAjYWRkIGpzIHRvIGRpc2FibGUgdmFsaWRhdGlvbiBhbmQgZG8gc3VibWl0KCkKICAgICAgICAkSFRNTFN0cmluZyAuPSA8PCJFT0YiOwo8IS0tZHRsOmpzX29uX2RvY3VtZW50X2NvbXBsZXRlLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4vLzwhW0NEQVRBWwogICAgXCQoJyRGaWVsZFNlbGVjdG9yJykuYmluZCgnY2hhbmdlJywgZnVuY3Rpb24gKEV2ZW50KSB7CiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSB0aWNrZXQgaXMgbm90IHlldCBjcmVhdGVkIG9uIHF1ZXVlIGNoYW5nZQogICAgICAgIFwkKCdpbnB1dCNFeHBhbmQnKS52YWwoMSk7CiAgICAgICAgQ29yZS5Gb3JtLlZhbGlkYXRlLkRpc2FibGVWYWxpZGF0aW9uKFwkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0nKSk7CiAgICAgICAgXCQodGhpcykuY2xvc2VzdCgnZm9ybScpLnN1Ym1pdCgpOwogICAgfSk7Ci8vXV0+PC9zY3JpcHQ+CjwhLS1kdGw6anNfb25fZG9jdW1lbnRfY29tcGxldGUtLT4KRU9GCiAgICB9CgojCS9EeW5hbWljRmllbGRDb25maWcKIwkkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntQb3NzaWJsZVZhbHVlc30gPSAkU2VsZi0+QUpBWFBvc3NpYmxlVmFsdWVzR2V0KCVQYXJhbSk7CgogICAgIyBjYWxsIEVkaXRMYWJlbFJlbmRlciBvbiB0aGUgY29tbW9uIGJhY2tlbmQKICAgIG15ICRMYWJlbFN0cmluZyA9ICRTZWxmLT57QmFja2VuZENvbW1vbk9iamVjdH0tPkVkaXRMYWJlbFJlbmRlcigKICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30sCiAgICAgICAgTWFuZGF0b3J5ICAgICAgICAgID0+ICRQYXJhbXtNYW5kYXRvcnl9IHx8ICcwJywKICAgICAgICBGaWVsZE5hbWUgICAgICAgICAgPT4gJEZpZWxkTmFtZSwKICAgICk7CgogICAgbXkgJERhdGEgPSB7CiAgICAgICAgRmllbGQgPT4gJEhUTUxTdHJpbmcsCiAgICAgICAgTGFiZWwgPT4gJExhYmVsU3RyaW5nLAogICAgfTsKCgogICAgcmV0dXJuICREYXRhOwp9CgpzdWIgRWRpdEZpZWxkVmFsdWVHZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkRmllbGROYW1lID0gJ0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfTsKCiAgICBteSAkVmFsdWU7CgogICAgIyBjaGVjayBpZiB0aGVyZSBpcyBhIFRlbXBsYXRlIGFuZCByZXRyZWl2ZSB0aGUgZGluYWxpYyBmaWVsZCB2YWx1ZSBmcm9tIHRoZXJlCiAgICBpZiAoIElzSGFzaFJlZldpdGhEYXRhKCAkUGFyYW17VGVtcGxhdGV9ICkgKSB7CiAgICAgICAgJFZhbHVlID0gJFBhcmFte1RlbXBsYXRlfS0+eyRGaWVsZE5hbWV9OwogICAgfQoKICAgICMgb3RoZXJ3aXNlIGdldCBkeW5hbWljIGZpZWxkIHZhbHVlIGZvcm0gcGFyYW0KICAgIGVsc2UgewogICAgICAgICRWYWx1ZSA9ICRQYXJhbXtQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkRmllbGROYW1lICk7CiAgICB9CgogICAgaWYgKCBkZWZpbmVkICRQYXJhbXtSZXR1cm5UZW1wbGF0ZVN0cnVjdHVyZX0gJiYgJFBhcmFte1JldHVyblRlbXBsYXRlU3RydWN0dXJlfSBlcSAxICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICRGaWVsZE5hbWUgPT4gJFZhbHVlLAogICAgICAgIH07CiAgICB9CgogICAgIyBmb3IgdGhpcyBmaWVsZCB0aGUgbm9ybWFsIHJldHVybiBhbiB0aGUgUmV0dXJuVmFsdWVTdHJ1Y3R1cmUgYXJlIHRoZSBzYW1lCiAgICByZXR1cm4gJFZhbHVlOwp9CgpzdWIgRWRpdEZpZWxkVmFsdWVWYWxpZGF0ZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IHRoZSBmaWVsZCB2YWx1ZSBmcm9tIHRoZSBodHRwIHJlcXVlc3QKICAgIG15ICRWYWx1ZSA9ICRTZWxmLT5FZGl0RmllbGRWYWx1ZUdldCgKICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30sCiAgICAgICAgUGFyYW1PYmplY3QgICAgICAgID0+ICRQYXJhbXtQYXJhbU9iamVjdH0sCgogICAgICAgICMgbm90IG5lY2Vzc2FyeSBmb3IgdGhpcyBiYWNrZW5kIGJ1dCBwbGFjZSBpdCBmb3IgY29uc2lzdGVuY3kgcmVhc29ucwogICAgICAgIFJldHVyblZhbHVlU3RydWN0dXJlID0+IDEsCiAgICApOwoKICAgIG15ICRTZXJ2ZXJFcnJvcjsKICAgIG15ICRFcnJvck1lc3NhZ2U7CgogICAgIyBwZXJmb3JtIG5lY2Vzc2FyeSB2YWxpZGF0aW9ucwogICAgaWYgKCAkUGFyYW17TWFuZGF0b3J5fSAmJiAhJFZhbHVlICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIFNlcnZlckVycm9yID0+IDEsCiAgICAgICAgfTsKICAgIH0KIyAgICBlbHNlIHsKIwojICAgICAgICAjIGdldCBwb3NzaWJsZSB2YWx1ZXMgbGlzdAojICAgICAgICBteSAkUG9zc2libGVWYWx1ZXMgPSAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntQb3NzaWJsZVZhbHVlc307CiMKIyAgICAgICAgIyBvdmVyd3JpdGUgcG9zc2libGUgdmFsdWVzIGlmIFBvc3NpYmxlVmFsdWVzRmlsdGVyCiMgICAgICAgIGlmICggZGVmaW5lZCAkUGFyYW17UG9zc2libGVWYWx1ZXNGaWx0ZXJ9ICkgewojICAgICAgICAgICAgJFBvc3NpYmxlVmFsdWVzID0gJFBhcmFte1Bvc3NpYmxlVmFsdWVzRmlsdGVyfQojICAgICAgICB9CiMKIyAgICAgICAgIyB2YWxpZGF0ZSBpZiB2YWx1ZSBpcyBpbiBwb3NzaWJsZSB2YWx1ZXMgbGlzdCAoYnV0IGxldCBwYXNzIGVtcHR5IHZhbHVlcykKIyAgICAgICAgaWYgKCAkVmFsdWUgJiYgISRQb3NzaWJsZVZhbHVlcy0+eyRWYWx1ZX0gKSB7CiMgICAgICAgICAgICAkU2VydmVyRXJyb3IgID0gMTsKIyAgICAgICAgICAgICRFcnJvck1lc3NhZ2UgPSAnVGhlIGZpZWxkIGNvbnRlbnQgaXMgaW52YWxpZCc7CiMgICAgICAgIH0KIyAgICB9CgogICAgIyBWYWxpZGF0ZSBhbnl0aGluZyAoZm9yIG5vdykKICAgIG15ICRSZXN1bHQgPSB7CiAgICAgICAgU2VydmVyRXJyb3IgID0+ICRTZXJ2ZXJFcnJvciwKICAgICAgICBFcnJvck1lc3NhZ2UgPT4gJEVycm9yTWVzc2FnZSwKICAgIH07CgogICAgcmV0dXJuICRSZXN1bHQ7Cn0KCnN1YiBEaXNwbGF5VmFsdWVSZW5kZXIgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBpZiAoICFkZWZpbmVkICRQYXJhbXtIVE1MT3V0cHV0fSApIHsKICAgICAgICAkUGFyYW17SFRNTE91dHB1dH0gPSAxOwogICAgfQoKICAgICMgZ2V0IHJhdyBWYWx1ZSBzdHJpbmdzIGZyb20gZmllbGQgdmFsdWUKICAgIG15ICRWYWx1ZSA9IGRlZmluZWQgJFBhcmFte1ZhbHVlfSA/ICRQYXJhbXtWYWx1ZX0gOiAnJzsKICAgIG15ICRLZXkgPSAkVmFsdWU7CgoKCiAgICBteSAlUG9zc2libGVWYWx1ZXM7CiMJVHlwZSA9PiAnSGFzaCcsCiMJS2V5ID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e05hbWV9LAojICAgICk7CgojICAgIGlmICggIWRlZmluZWQgJVBvc3NpYmxlVmFsdWVzICkgewoKICAgIG15ICRkYmggPSBEQkktPmNvbm5lY3QoJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57REJJc3RyaW5nfSwgJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57REJJdXNlcn0sICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e0RCSXBhc3N9LAogICAgICAgICAgICAgICAgICAgICAgeyBSYWlzZUVycm9yID0+IDEsIEF1dG9Db21taXQgPT4gMCB9KTsKCiAgICBteSAkc3RoID0gJGRiaC0+cHJlcGFyZSgkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntWaXN1YWxRdWVyeX0pOwoKICAgICRzdGgtPmV4ZWN1dGUoICRLZXkgKTsKCiAgICBteSBAcm93OwoKICAgIHdoaWxlICggQHJvdyA9ICRzdGgtPmZldGNocm93X2FycmF5ICkgewoKCW15ICRsaW5lID0gJyc7Cglmb3IgbXkgJGNvbCAoQHJvdykgewoJICAgICRsaW5lIC49ICRjb2wuJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57U2VwYXJhdG9yfTsKCX0KCSRsaW5lID0gc3Vic3RyKCRsaW5lLCAwLCAtMSAqIGxlbmd0aCgkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntTZXBhcmF0b3J9KSk7CgklUG9zc2libGVWYWx1ZXMgPSAoICVQb3NzaWJsZVZhbHVlcywgJEtleSA9PiAkbGluZSApOwogICAgfSAKCiAgICAkZGJoLT5kaXNjb25uZWN0OwoKICAgICMgZ2V0IHJlYWwgdmFsdWUKICAgIGlmICggJFBvc3NpYmxlVmFsdWVzeyRWYWx1ZX0gKSB7CgogICAgICAgICMgZ2V0IHJlYWRlYWJsZSB2YWx1ZQogICAgICAgICRWYWx1ZSA9ICRQb3NzaWJsZVZhbHVlc3skVmFsdWV9OwogICAgfQogICAKICAgICMgY2hlY2sgaXMgbmVlZGVkIHRvIHRyYW5zbGF0ZSB2YWx1ZXMKICAgIGlmICggJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57VHJhbnNsYXRhYmxlVmFsdWVzfSApIHsKCiAgICAgICAgIyB0cmFuc2xhdGUgdmFsdWUKICAgICAgICAkVmFsdWUgPSAkUGFyYW17TGF5b3V0T2JqZWN0fS0+e0xhbmd1YWdlT2JqZWN0fS0+R2V0KCRWYWx1ZSk7CiAgICB9CgogICAgIyBzZXQgdGl0bGUgYXMgdmFsdWUgYWZ0ZXIgdXBkYXRlIGFuZCBiZWZvcmUgbGltaXQKICAgIG15ICRUaXRsZSA9ICRWYWx1ZTsKCiAgICAjIEhUTUxPdXB1dCB0cmFuc2Zvcm1hdGlvbnMKICAgIGlmICggJFBhcmFte0hUTUxPdXRwdXR9ICkgewogICAgICAgICRWYWx1ZSA9ICRQYXJhbXtMYXlvdXRPYmplY3R9LT5Bc2NpaTJIdG1sKAogICAgICAgICAgICBUZXh0ID0+ICRWYWx1ZSwKICAgICAgICAgICAgTWF4ID0+ICRQYXJhbXtWYWx1ZU1heENoYXJzfSB8fCAnJywKICAgICAgICApOwoKICAgICAgICAkVGl0bGUgPSAkUGFyYW17TGF5b3V0T2JqZWN0fS0+QXNjaWkySHRtbCgKICAgICAgICAgICAgVGV4dCA9PiAkVGl0bGUsCiAgICAgICAgICAgIE1heCA9PiAkUGFyYW17VGl0bGVNYXhDaGFyc30gfHwgJycsCiAgICAgICAgKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIGlmICggJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICYmIGxlbmd0aCgkVmFsdWUpID4gJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICkgewogICAgICAgICAgICAkVmFsdWUgPSBzdWJzdHIoICRWYWx1ZSwgMCwgJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICkgLiAnLi4uJzsKICAgICAgICB9CiAgICAgICAgaWYgKCAkUGFyYW17VGl0bGVNYXhDaGFyc30gJiYgbGVuZ3RoKCRUaXRsZSkgPiAkUGFyYW17VGl0bGVNYXhDaGFyc30gKSB7CiAgICAgICAgICAgICRUaXRsZSA9IHN1YnN0ciggJFRpdGxlLCAwLCAkUGFyYW17VGl0bGVNYXhDaGFyc30gKSAuICcuLi4nOwogICAgICAgIH0KICAgIH0KCiAgICAjIHNldCBmaWVsZCBsaW5rIGZvcm0gY29uZmlnCiAgICBteSAkTGluayA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e0xpbmt9IHx8ICcnOwoKICAgICRMaW5rID1+IHMvJUtFWSUvJEtleS9nOwoKICAgIG15ICRRdWVyeSA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e1F1ZXJ5fSB8fCAnJzsKCiAgICBteSAkRGF0YSA9IHsKICAgICAgICBWYWx1ZSA9PiAkVmFsdWUsCiAgICAgICAgVGl0bGUgPT4gJFRpdGxlLAogICAgICAgIExpbmsgID0+ICRMaW5rLAoJUXVlcnkgPT4gJFF1ZXJ5LAogICAgfTsKCiAgICByZXR1cm4gJERhdGE7Cn0KCnN1YiBJc1NvcnRhYmxlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDE7Cn0KCnN1YiBTZWFyY2hGaWVsZFJlbmRlciB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgdGFrZSBjb25maWcgZnJvbSBmaWVsZCBjb25maWcKICAgIG15ICRGaWVsZENvbmZpZyA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfTsKICAgIG15ICRGaWVsZE5hbWUgICA9ICdTZWFyY2hfRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9OwogICAgbXkgJEZpZWxkTGFiZWwgID0gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntMYWJlbH07CgogICAgbXkgJFZhbHVlOwoKICAgIG15IEBEZWZhdWx0VmFsdWU7CgogICAgaWYgKCBkZWZpbmVkICRQYXJhbXtEZWZhdWx0VmFsdWV9ICkgewogICAgICAgIG15IEBEZWZhdWx0VmFsdWUgPSBzcGxpdCAvOy8sICRQYXJhbXtEZWZhdWx0VmFsdWV9OwogICAgfQoKICAgICMgc2V0IHRoZSBmaWVsZCB2YWx1ZQogICAgaWYgKEBEZWZhdWx0VmFsdWUpIHsKICAgICAgICAkVmFsdWUgPSBcQERlZmF1bHRWYWx1ZTsKICAgIH0KCiAgICAjIGdldCB0aGUgZmllbGQgdmFsdWUsIHRoaXMgZnVjdGlvbiBpcyBhbHdheXMgY2FsbGVkIGFmdGVyIHRoZSBwcm9maWxlIGlzIGxvYWRlZAogICAgbXkgJEZpZWxkVmFsdWVzID0gJFNlbGYtPlNlYXJjaEZpZWxkVmFsdWVHZXQoCiAgICAgICAgJVBhcmFtLAogICAgKTsKCiAgICBpZiAoIGRlZmluZWQgJEZpZWxkVmFsdWVzICkgewogICAgICAgICRWYWx1ZSA9ICRGaWVsZFZhbHVlczsKICAgIH0KCiAgICAjIGNoZWNrIGFuZCBzZXQgY2xhc3MgaWYgbmVjZXNzYXJ5CiAgICBteSAkRmllbGRDbGFzcyA9ICdEeW5hbWljRmllbGRNdWx0aVNlbGVjdCc7CgogICAgIyBzZXQgUG9zc2libGVWYWx1ZXMKICAgIG15ICRTZWxlY3Rpb25EYXRhID0gJEZpZWxkQ29uZmlnLT57UG9zc2libGVWYWx1ZXN9OwoKICAgICMgZ2V0IGhpc3RvcmljYWwgdmFsdWVzIGZyb20gZGF0YWJhc2UKICAgIG15ICRIaXN0b3JpY2FsVmFsdWVzID0gJFNlbGYtPkhpc3RvcmljYWxWYWx1ZXNHZXQoJVBhcmFtKTsKCiAgICAjIGFkZCBoaXN0b3JpYyB2YWx1ZXMgdG8gY3VycmVudCB2YWx1ZXMgKGlmIHRoZXkgZG9uJ3QgZXhpc3QgYW55bW9yZSkKICAgIGlmICggSXNIYXNoUmVmV2l0aERhdGEoJEhpc3RvcmljYWxWYWx1ZXMpICkgewogICAgICAgIGZvciBteSAkS2V5ICgga2V5cyAleyRIaXN0b3JpY2FsVmFsdWVzfSApIHsKICAgICAgICAgICAgaWYgKCAhJFNlbGVjdGlvbkRhdGEtPnskS2V5fSApIHsKICAgICAgICAgICAgICAgICRTZWxlY3Rpb25EYXRhLT57JEtleX0gPSAkSGlzdG9yaWNhbFZhbHVlcy0+eyRLZXl9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgIyB1c2UgUG9zc2libGVWYWx1ZXNGaWx0ZXIgaWYgZGVmaW5lZAogICAgJFNlbGVjdGlvbkRhdGEgPSAkUGFyYW17UG9zc2libGVWYWx1ZXNGaWx0ZXJ9CiAgICAgICAgaWYgZGVmaW5lZCAkUGFyYW17UG9zc2libGVWYWx1ZXNGaWx0ZXJ9OwoKICAgIG15ICRIVE1MU3RyaW5nID0gJFBhcmFte0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiAkU2VsZWN0aW9uRGF0YSwKICAgICAgICBOYW1lICAgICAgICAgPT4gJEZpZWxkTmFtZSwKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFZhbHVlLAogICAgICAgIFRyYW5zbGF0aW9uICA9PiAkRmllbGRDb25maWctPntUcmFuc2xhdGFibGVWYWx1ZXN9IHx8IDAsCiAgICAgICAgUG9zc2libGVOb25lID0+IDAsCiAgICAgICAgQ2xhc3MgICAgICAgID0+ICRGaWVsZENsYXNzLAogICAgICAgIE11bHRpcGxlICAgICA9PiAxLAogICAgICAgIEhUTUxRdW90ZSAgICA9PiAxLAogICAgKTsKCiAgICAjIGNhbGwgRWRpdExhYmVsUmVuZGVyIG9uIHRoZSBjb21tb24gYmFja2VuZAogICAgbXkgJExhYmVsU3RyaW5nID0gJFNlbGYtPntCYWNrZW5kQ29tbW9uT2JqZWN0fS0+RWRpdExhYmVsUmVuZGVyKAogICAgICAgIER5bmFtaWNGaWVsZENvbmZpZyA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfSwKICAgICAgICBGaWVsZE5hbWUgICAgICAgICAgPT4gJEZpZWxkTmFtZSwKICAgICk7CgogICAgbXkgJERhdGEgPSB7CiAgICAgICAgRmllbGQgPT4gJEhUTUxTdHJpbmcsCiAgICAgICAgTGFiZWwgPT4gJExhYmVsU3RyaW5nLAogICAgfTsKCiAgICByZXR1cm4gJERhdGE7Cn0KCnN1YiBTZWFyY2hGaWVsZFZhbHVlR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFZhbHVlOwoKICAgICMgZ2V0IGR5bmFtaWMgZmllbGQgdmFsdWUgZm9ybSBwYXJhbSBvYmplY3QKICAgIGlmICggZGVmaW5lZCAkUGFyYW17UGFyYW1PYmplY3R9ICkgewogICAgICAgIG15IEBGaWVsZFZhbHVlcyA9ICRQYXJhbXtQYXJhbU9iamVjdH0KICAgICAgICAgICAgLT5HZXRBcnJheSggUGFyYW0gPT4gJ1NlYXJjaF9EeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0gKTsKCiAgICAgICAgJFZhbHVlID0gXEBGaWVsZFZhbHVlczsKICAgIH0KCiAgICAjIG90aGVyd2lzZSBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHByb2ZpbGUKICAgIGVsc2lmICggZGVmaW5lZCAkUGFyYW17UHJvZmlsZX0gKSB7CiAgICAgICAgJFZhbHVlID0gJFBhcmFte1Byb2ZpbGV9LT57ICdTZWFyY2hfRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9IH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCBkZWZpbmVkICRQYXJhbXtSZXR1cm5Qcm9maWxlU3RydWN0dXJlfSAmJiAkUGFyYW17UmV0dXJuUHJvZmlsZVN0cnVjdHVyZX0gZXEgMSApIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAnU2VhcmNoX0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfSA9PiAkVmFsdWUsCiAgICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gJFZhbHVlOwoKfQoKc3ViIFNlYXJjaEZpZWxkUGFyYW1ldGVyQnVpbGQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGdldCBmaWVsZCB2YWx1ZQogICAgbXkgJFZhbHVlID0gJFNlbGYtPlNlYXJjaEZpZWxkVmFsdWVHZXQoJVBhcmFtKTsKCiAgICBteSAkRGlzcGxheVZhbHVlOwoKICAgIGlmICgkVmFsdWUpIHsKICAgICAgICBpZiAoIHJlZiAkVmFsdWUgZXEgJ0FSUkFZJyApIHsKCiAgICAgICAgICAgIG15IEBEaXNwbGF5SXRlbUxpc3Q7CiAgICAgICAgICAgIGZvciBteSAkSXRlbSAoIEB7JFZhbHVlfSApIHsKCiAgICAgICAgICAgICAgICAjIHNldCB0aGUgZGlzcGxheSB2YWx1ZQogICAgICAgICAgICAgICAgbXkgJERpc3BsYXlJdGVtID0gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57UG9zc2libGVWYWx1ZXN9LT57JEl0ZW19CiAgICAgICAgICAgICAgICAgICAgfHwgJEl0ZW07CiAgICAgICAgICAgICAgICBpZiAoICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e1RyYW5zbGF0YWJsZVZhbHVlc30gKSB7CgogICAgICAgICAgICAgICAgICAgICMgdHJhbnNsYXRlIHRoZSB2YWx1ZQogICAgICAgICAgICAgICAgICAgICREaXNwbGF5SXRlbSA9ICRQYXJhbXtMYXlvdXRPYmplY3R9LT57TGFuZ3VhZ2VPYmplY3R9LT5HZXQoJERpc3BsYXlWYWx1ZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcHVzaCBARGlzcGxheUl0ZW1MaXN0LCAkRGlzcGxheUl0ZW07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgY29tYmluZSBkaWZmZXJlbnQgdmFsdWVzIGludG8gb25lIHN0cmluZwogICAgICAgICAgICAkRGlzcGxheVZhbHVlID0gam9pbiAnICsgJywgQERpc3BsYXlJdGVtTGlzdDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CgogICAgICAgICAgICAjIHNldCB0aGUgZGlzcGxheSB2YWx1ZQogICAgICAgICAgICAkRGlzcGxheVZhbHVlID0gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntQb3NzaWJsZVZhbHVlc30tPnskVmFsdWV9OwoKICAgICAgICAgICAgaWYgKCAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntUcmFuc2xhdGFibGVWYWx1ZXN9ICkgewoKICAgICAgICAgICAgICAgICMgdHJhbnNsYXRlIHRoZSB2YWx1ZQogICAgICAgICAgICAgICAgJERpc3BsYXlWYWx1ZSA9ICRQYXJhbXtMYXlvdXRPYmplY3R9LT57TGFuZ3VhZ2VPYmplY3R9LT5HZXQoJERpc3BsYXlWYWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgIyByZXR1cm4gc2VhcmNoIHBhcmFtZXRlciBzdHJ1Y3R1cmUKICAgIHJldHVybiB7CiAgICAgICAgUGFyYW1ldGVyID0+IHsKICAgICAgICAgICAgRXF1YWxzID0+ICRWYWx1ZSwKICAgICAgICB9LAogICAgICAgIERpc3BsYXkgPT4gJERpc3BsYXlWYWx1ZSwKICAgIH07Cn0KCnN1YiBTdGF0c0ZpZWxkUGFyYW1ldGVyQnVpbGQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIHNldCBQb3NzaWJsZVZhbHVlcwogICAgbXkgJFZhbHVlcyA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e1Bvc3NpYmxlVmFsdWVzfTsKCiAgICAjIGdldCBoaXN0b3JpY2FsIHZhbHVlcyBmcm9tIGRhdGFiYXNlCiAgICBteSAkSGlzdG9yaWNhbFZhbHVlcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5IaXN0b3JpY2FsVmFsdWVHZXQoCiAgICAgICAgRmllbGRJRCAgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57SUR9LAogICAgICAgIFZhbHVlVHlwZSA9PiAnVGV4dCwnLAogICAgKTsKCiAgICAjIGFkZCBoaXN0b3JpYyB2YWx1ZXMgdG8gY3VycmVudCB2YWx1ZXMgKGlmIHRoZXkgZG9uJ3QgZXhpc3QgYW55bW9yZSkKICAgIGZvciBteSAkS2V5ICgga2V5cyAleyRIaXN0b3JpY2FsVmFsdWVzfSApIHsKICAgICAgICBpZiAoICEkVmFsdWVzLT57JEtleX0gKSB7CiAgICAgICAgICAgICRWYWx1ZXMtPnskS2V5fSA9ICRIaXN0b3JpY2FsVmFsdWVzLT57JEtleX0KICAgICAgICB9CiAgICB9CgogICAgIyB1c2UgUG9zc2libGVWYWx1ZXNGaWx0ZXIgaWYgZGVmaW5lZAogICAgJFZhbHVlcyA9ICRQYXJhbXtQb3NzaWJsZVZhbHVlc0ZpbHRlcn0KICAgICAgICBpZiBkZWZpbmVkICRQYXJhbXtQb3NzaWJsZVZhbHVlc0ZpbHRlcn07CgogICAgcmV0dXJuIHsKICAgICAgICBWYWx1ZXMgICAgICAgICAgICAgPT4gJFZhbHVlcywKICAgICAgICBOYW1lICAgICAgICAgICAgICAgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntMYWJlbH0sCiAgICAgICAgRWxlbWVudCAgICAgICAgICAgID0+ICdEeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0sCiAgICAgICAgVHJhbnNsYXRhYmxlVmFsdWVzID0+ICRQYXJhbXtEeW5hbWljRmllbGRjb25maWd9LT57Q29uZmlnfS0+e1RyYW5zbGF0YWJsZVZhbHVlc30sCiAgICB9Owp9CgpzdWIgQ29tbW9uU2VhcmNoRmllbGRQYXJhbWV0ZXJCdWlsZCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRPcGVyYXRvciA9ICdFcXVhbHMnOwogICAgbXkgJFZhbHVlICAgID0gJFBhcmFte1ZhbHVlfTsKCiAgICByZXR1cm4gewogICAgICAgICRPcGVyYXRvciA9PiAkVmFsdWUsCiAgICB9Owp9CgpzdWIgUmVhZGFibGVWYWx1ZVJlbmRlciB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRWYWx1ZSA9IGRlZmluZWQgJFBhcmFte1ZhbHVlfSA/ICRQYXJhbXtWYWx1ZX0gOiAnJzsKCiAgICAjIHNldCB0aXRsZSBhcyB2YWx1ZSBhZnRlciB1cGRhdGUgYW5kIGJlZm9yZSBsaW1pdAogICAgbXkgJFRpdGxlID0gJFZhbHVlOwoKICAgICMgY3V0IHN0cmluZ3MgaWYgbmVlZGVkCiAgICBpZiAoICRQYXJhbXtWYWx1ZU1heENoYXJzfSAmJiBsZW5ndGgoJFZhbHVlKSA+ICRQYXJhbXtWYWx1ZU1heENoYXJzfSApIHsKICAgICAgICAkVmFsdWUgPSBzdWJzdHIoICRWYWx1ZSwgMCwgJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICkgLiAnLi4uJzsKICAgIH0KICAgIGlmICggJFBhcmFte1RpdGxlTWF4Q2hhcnN9ICYmIGxlbmd0aCgkVGl0bGUpID4gJFBhcmFte1RpdGxlTWF4Q2hhcnN9ICkgewogICAgICAgICRUaXRsZSA9IHN1YnN0ciggJFRpdGxlLCAwLCAkUGFyYW17VGl0bGVNYXhDaGFyc30gKSAuICcuLi4nOwogICAgfQoKICAgIG15ICREYXRhID0gewogICAgICAgIFZhbHVlID0+ICRWYWx1ZSwKICAgICAgICBUaXRsZSA9PiAkVGl0bGUsCiAgICB9OwoKICAgIHJldHVybiAkRGF0YTsKfQoKc3ViIFRlbXBsYXRlVmFsdWVUeXBlR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJEZpZWxkTmFtZSA9ICdEeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX07CgogICAgIyBzZXQgdGhlIGZpZWxkIHR5cGVzCiAgICBteSAkRWRpdFZhbHVlVHlwZSAgID0gJ1NDQUxBUic7CiAgICBteSAkU2VhcmNoVmFsdWVUeXBlID0gJ0FSUkFZJzsKCiAgICAjIHJldHVybiB0aGUgY29ycmVjdCBzdHJ1Y3R1cmUKICAgIGlmICggJFBhcmFte0ZpZWxkVHlwZX0gZXEgJ0VkaXQnICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICRGaWVsZE5hbWUgPT4gJEVkaXRWYWx1ZVR5cGUsCiAgICAgICAgICAgIH0KICAgIH0KICAgIGVsc2lmICggJFBhcmFte0ZpZWxkVHlwZX0gZXEgJ1NlYXJjaCcgKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ1NlYXJjaF8nIC4gJEZpZWxkTmFtZSA9PiAkU2VhcmNoVmFsdWVUeXBlLAogICAgICAgICAgICB9CiAgICB9CiAgICBlbHNlIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAkRmllbGROYW1lICAgICAgICAgICAgID0+ICRFZGl0VmFsdWVUeXBlLAogICAgICAgICAgICAnU2VhcmNoXycgLiAkRmllbGROYW1lID0+ICRTZWFyY2hWYWx1ZVR5cGUsCiAgICAgICAgICAgIH0KICAgIH0KfQoKc3ViIElzQUpBWFVwZGF0ZWFibGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICByZXR1cm4gMTsKfQoKc3ViIFJhbmRvbVZhbHVlU2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFZhbHVlID0gaW50KCByYW5kKDUwMCkgKTsKCiAgICBteSAkU3VjY2VzcyA9ICRTZWxmLT5WYWx1ZVNldCgKICAgICAgICAlUGFyYW0sCiAgICAgICAgVmFsdWUgPT4gJFZhbHVlLAogICAgKTsKCiAgICBpZiAoICEkU3VjY2VzcyApIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBTdWNjZXNzID0+IDAsCiAgICAgICAgfTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgICAgU3VjY2VzcyA9PiAxLAogICAgICAgIFZhbHVlICAgPT4gJFZhbHVlLAogICAgfTsKfQoKc3ViIElzTWF0Y2hhYmxlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDE7Cn0KCnN1YiBPYmplY3RNYXRjaCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRGaWVsZE5hbWUgPSAnRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9OwoKICAgICMgcmV0dXJuIGZhbHNlIGlmIG5vdCBtYXRjaAogICAgaWYgKCAkUGFyYW17T2JqZWN0QXR0cmlidXRlc30tPnskRmllbGROYW1lfSBuZSAkUGFyYW17VmFsdWV9ICkgewogICAgICAgIHJldHVybiAwOwogICAgfQoKICAgIHJldHVybiAxOwp9CgpzdWIgQUpBWFBvc3NpYmxlVmFsdWVzR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyMgRU5BQkxFIEZPUiBERUJVRzogIyMKIyAgICB1c2UgRGF0YTo6RHVtcGVyOwojICAgIG9wZW4gRVJSTE9HLCAnPj4vdG1wL0RGXycuJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfS4nLmxvZyc7CiMgICAgbXkgJERGbiA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0uIjo6IjsKIyAgICBwcmludCBFUlJMT0cgRHVtcGVyKCRQYXJhbXtQYXJhbU9iamVjdH0tPntRdWVyeX0tPntwYXJhbX0pOwoKICAgIG15ICRxdWVyeV9uZWVkZWQgPSAwOwoKICAgIG15ICVQb3NzaWJsZVZhbHVlczsKCiAgICBteSBAU1FMUGFyYW1ldGVyc192YWx1ZXM7CiAgICAjIHNwbGl0IFBhcmFtZXRlcnMgZnJvbSBEeW5hbWljRmllbGRDb25maWcgaW4gYW4gYXJyYXk6CiAgICBteSBAU1FMUGFyYW1ldGVyc19rZXlzID0gc3BsaXQoJywnLCAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntQYXJhbWV0ZXJzfSk7CgogICAgIyBXZSBjcmVhdGUgYSBtYXBwaW5nIGZvciB0aGUgcGFyYW1ldGVyczoKICAgICMgJVNRTFBhcmFtZXRlcnNfaGFzaCA9IHsKICAgICMgICAgUGFyYW0xID0+ICd2YWx1ZTEnLAogICAgIyAgICBQYXJhbTIgPT4gdW5kZWYsCiAgICAjIH0KICAgIG15ICVTUUxQYXJhbWV0ZXJzX2hhc2g7CiAgICBmb3IgbXkgJGtleSAoQFNRTFBhcmFtZXRlcnNfa2V5cykgewogICAgICAgICRTUUxQYXJhbWV0ZXJzX2hhc2h7JGtleX0gPSB1bmRlZjsKICAgIH0KCgogICAgIyMjIyBEaXN0aW5ndWlzaCBiZXR3ZWVuIHJlYWwgYWpheCByZXF1ZXN0IGFuZCAnZmlyc3QgdmlzdWFsaXphdGlvbicKICAgCj1jb21tZW50Cgpjb25zaWRlcmF0aW9uczoKLSB3ZSBjYW4gZGlzdGluZ3Vpc2ggaWYgaXQgaXMgYW4gYWpheCByZXF1ZXN0IG9yIGEgJ2ZpcnN0IGxvYWQnIHdpdGggdGhlIHByZXNlbmNlIG9mICRQYXJhbXtQYXJhbU9iamVjdH0tPntRdWVyeX0tPntwYXJhbX0tPntFbGVtZW50Q2hhbmdlZH0uCi0gd2UgY2FuIGRpc3Rpbmd1aXNoIGlmIGl0IGlzIGEgbmV3IFRpY2tldCBvciBhIFRpY2tldCBlZGl0aW5nIHdpdGggdGhlIHByZXNlbmNlIG9mICRQYXJhbXtQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnVGlja2V0SUQnKQoKb24gdGlja2V0IGVkaXRpbmcsCglvbiAnZmlyc3QgbG9hZCcsIGxvYWQgdGFrZSBhbGwgQFNRTFBhcmFtZXRlcnNfdmFsdWVzIGZyb20gdGhlIHN0b3JlZCB0aWNrZXQgaW5mb3JtYXRpb24sCglvbiAnYWpheCByZXF1ZXN0JywgdGFrZSB2YWx1ZSBmcm9tIGh0dHAgYXJndW1lbnRzLCBpZiBub3QgcHJlc2VudCwgdGFrZSBmcm9tIHRpY2tldCBpbmZvcm1hdGlvbi4Kb24gdGlja2V0IGNyZWF0aW9uLAoJb24gJ2ZpcnN0IGxvYWQnLCB0YWtlIHZhbHVlcyBmcm9tIGh0dHAgYXJndW1lbnRzLAoJb24gJ2FqYXggcmVxdWVzdCcgdGFrZSB2YWx1ZXMgZnJvbSBodHRwIGFyZ3VtZW50cywKCnNvIHdlIGNhbiBzb2x2ZSBlYWNoIHJlcXVpcmVtZW50IHdpdGggZm9sbG93aW5nIGNvZGU6CglpZiAoIHRoZXJlIGlzIHN0b3JlZCB0aWNrZXQgaW5mb3JtYXRpb24gKSBmaWxsIHNxbHBhcmFtZXRlcl92YWx1ZXMgd2l0aCBzdG9yZWQgaW5mb3JtYXRpb24KCWlmICggdGhlcmUgYXJlIGh0dHAgYXJndW1lbnQgdmFsdWVzICkgZmlsbCBzcWxwYXJhbWV0ZXJfdmFsdWVzIHdpdGggaHR0cCBhcmd1bWVudCB2YWx1ZXMgb3ZlcndyaXRpbmcgc3RvcmVkIGluZm9ybWF0aW9uIGlmIHByZXNlbnQKCQlpZiAoIGEgaHR0cCBhcmd1bWVudCB3YXMgY2hhbmdlZCB0aGF0IHRoZSBxdWVyeSBkZXBlbmRzIG9uICkgZm9yY2VfcXVlcnkgPSAxCgoJaWYgKCFmb3JjZV9xdWVyeSkgdGFrZSBmcm9tIGNhY2hlIGlmICggY2FjaGUgcHJlc2VudCApCgo9Y3V0CgogICAgaWYgKCBzY2FsYXIoQFNRTFBhcmFtZXRlcnNfa2V5cykgJiYgJFBhcmFte1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdUaWNrZXRJRCcpICkgewogICAgCW15ICVUaWNrZXRJbmZvOwogICAgCSMgZ2V0IFRpY2tldCBmcm9tIGNhY2hlOgogICAgCWlmICgkUGFyYW17TGF5b3V0T2JqZWN0fS0+e1RpY2tldE9iamVjdH0tPnsnQ2FjaGU6OkdldFRpY2tldCcuJFBhcmFte1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdUaWNrZXRJRCcpfXsnJ317MX0pIHsKICAgIAkJJVRpY2tldEluZm8gPSAleyRQYXJhbXtMYXlvdXRPYmplY3R9LT57VGlja2V0T2JqZWN0fS0+eydDYWNoZTo6R2V0VGlja2V0Jy4kUGFyYW17UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJ1RpY2tldElEJyl9eycnfXsxfX07CiAgICAJfQogICAgCWVsc2UgewogICAgICAgICAgICAgICAgbXkgJEVuY29kZU9iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpFbmNvZGUtPm5ldygKICAgICAgICAgICAgICAgICAgICBDb25maWdPYmplY3QgPT4gJFBhcmFte1BhcmFtT2JqZWN0fS0+e0NvbmZpZ09iamVjdH0sCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgbXkgJFRpbWVPYmplY3QgPSBLZXJuZWw6OlN5c3RlbTo6VGltZS0+bmV3KAogICAgICAgICAgICAgICAgICAgIENvbmZpZ09iamVjdCA9PiAkUGFyYW17UGFyYW1PYmplY3R9LT57Q29uZmlnT2JqZWN0fSwKICAgICAgICAgICAgICAgICAgICBMb2dPYmplY3QgICAgPT4gJFBhcmFte1BhcmFtT2JqZWN0fS0+e0xvZ09iamVjdH0sCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgbXkgJERCT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06OkRCLT5uZXcoCiAgICAgICAgICAgICAgICAgICAgQ29uZmlnT2JqZWN0ID0+ICRQYXJhbXtQYXJhbU9iamVjdH0tPntDb25maWdPYmplY3R9LAogICAgICAgICAgICAgICAgICAgIEVuY29kZU9iamVjdCA9PiAkRW5jb2RlT2JqZWN0LAogICAgICAgICAgICAgICAgICAgIExvZ09iamVjdCAgICA9PiAkUGFyYW17UGFyYW1PYmplY3R9LT57TG9nT2JqZWN0fSwKICAgICAgICAgICAgICAgICAgICBNYWluT2JqZWN0ICAgPT4gJFBhcmFte1BhcmFtT2JqZWN0fS0+e01haW5PYmplY3R9LAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIG15ICRUaWNrZXRPYmplY3QgPSBLZXJuZWw6OlN5c3RlbTo6VGlja2V0LT5uZXcoCiAgICAgICAgICAgICAgICAgICAgQ29uZmlnT2JqZWN0ICAgICAgID0+ICRQYXJhbXtQYXJhbU9iamVjdH0tPntDb25maWdPYmplY3R9LAogICAgICAgICAgICAgICAgICAgIExvZ09iamVjdCAgICAgICAgICA9PiAkUGFyYW17UGFyYW1PYmplY3R9LT57TG9nT2JqZWN0fSwKICAgICAgICAgICAgICAgICAgICBEQk9iamVjdCAgICAgICAgICAgPT4gJERCT2JqZWN0LAogICAgICAgICAgICAgICAgICAgIE1haW5PYmplY3QgICAgICAgICA9PiAkUGFyYW17UGFyYW1PYmplY3R9LT57TWFpbk9iamVjdH0sCiAgICAgICAgICAgICAgICAgICAgVGltZU9iamVjdCAgICAgICAgID0+ICRUaW1lT2JqZWN0LAogICAgICAgICAgICAgICAgICAgIEVuY29kZU9iamVjdCAgICAgICA9PiAkRW5jb2RlT2JqZWN0LAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICVUaWNrZXRJbmZvID0gJFRpY2tldE9iamVjdC0+VGlja2V0R2V0KAogICAgICAgICAgICAgICAgICAgIFRpY2tldElEICAgICAgPT4gJFBhcmFte1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdUaWNrZXRJRCcpLAogICAgICAgICAgICAgICAgICAgIER5bmFtaWNGaWVsZHMgPT4gMSwgICAgICAgICAjIE9wdGlvbmFsLCBkZWZhdWx0IDAuIFRvIGluY2x1ZGUgdGhlIGR5bmFtaWMgZmllbGQgdmFsdWVzIGZvciB0aGlzIHRpY2tldCBvbiB0aGUgcmV0dXJuIHN0cnVjdHVyZS4KICAgICAgICAgICAgICAgICAgICBVc2VySUQgICAgICAgID0+IDAsCiAgICAgICAgICAgICAgICApOwogICAgCX0KCiAgICAJZm9yIG15ICRrZXkgKEBTUUxQYXJhbWV0ZXJzX2tleXMpIHsKICAgIAkJaWYgKCRrZXkgZXEgJ1NlbGVjdGVkQ3VzdG9tZXJVc2VyJykgewogICAgCQkJJFNRTFBhcmFtZXRlcnNfaGFzaHska2V5fSA9ICRUaWNrZXRJbmZve0N1c3RvbWVyVXNlcklEfTsKICAgIAkJfQogICAgCQllbHNlIHsKICAgIAkJCSRTUUxQYXJhbWV0ZXJzX2hhc2h7JGtleX0gPSAkVGlja2V0SW5mb3ska2V5fTsKICAgIAkJfQogICAgCX0KICAgIH0gCiAgICAKICAgIGlmICggJFBhcmFte1BhcmFtT2JqZWN0fS0+e1F1ZXJ5fS0+e3BhcmFtfSApIHsKICAgIAkjIFJFQUwgQUpBWCBSRVFVRVNULCBUQUtFIFBBUkFNUyBGUk9NIEFKQVggUkVRVUVTVAogICAgICAgICAgICAjIGZvciBlYWNoIHBhcmFtZXRlciBleHRyYWN0IHZhbHVlIGZyb20gdGhlIFBhcmFtT2JqZWN0CiAgICAgICAgICAgIGZvciBteSAka2V5IChAU1FMUGFyYW1ldGVyc19rZXlzKSB7CiAgICAgICAgICAgICAgICBpZiAoJFBhcmFte1BhcmFtT2JqZWN0fS0+e1F1ZXJ5fS0+e3BhcmFtfS0+eyRrZXl9ICYmICRQYXJhbXtQYXJhbU9iamVjdH0tPntRdWVyeX0tPntwYXJhbX0tPnska2V5fVswXSkgewogICAgICAgICAgICAgICAgICAgICRTUUxQYXJhbWV0ZXJzX2hhc2h7JGtleX0gPSAkUGFyYW17UGFyYW1PYmplY3R9LT57UXVlcnl9LT57cGFyYW19LT57JGtleX1bMF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAjIGlmIHRoZSBjaGFuZ2VkIEVsZW1lbnQgaXMgaW4gdGhlIHBhcmFtZXRlciBsaXN0LCB1cGRhdGUgZGF0YQogICAgICAgICAgICAgICAgaWYgKCRQYXJhbXtQYXJhbU9iamVjdH0tPntRdWVyeX0tPntwYXJhbX0tPntFbGVtZW50Q2hhbmdlZH0gJiYgJGtleSBlcSAkUGFyYW17UGFyYW1PYmplY3R9LT57UXVlcnl9LT57cGFyYW19LT57RWxlbWVudENoYW5nZWR9WzBdKSB7CiAgICAgICAgICAgICAgICAgICAgJHF1ZXJ5X25lZWRlZCA9IDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgfQogICAgCiAgICAjIGZpbmFsbHkgYnVpbGQgdGhlIG9yaWdpbmFsIGFycmF5IHdpdGggb25seSB2YWx1ZXM6CiAgICBmb3IgbXkgJGtleSAoQFNRTFBhcmFtZXRlcnNfa2V5cykgewogICAgICAgIHB1c2goQFNRTFBhcmFtZXRlcnNfdmFsdWVzLCAkU1FMUGFyYW1ldGVyc19oYXNoeyRrZXl9KTsKICAgICAgICBpZiAoICEgJFNRTFBhcmFtZXRlcnNfaGFzaHska2V5fSApIHsKICAgICAgICAgICAgIyBpZiBvbmUgcGFyYW1ldGVyIGlzIHVuZGVmLCByZXR1cm4gZW1wdHkgUG9zc2libGUgdmFsdWVzOwogICAgICAgICAgICByZXR1cm4gXCVQb3NzaWJsZVZhbHVlczsKICAgICAgICB9CiAgICB9CgogICAgbXkgJFBvc3NpYmxlVmFsdWVzX3JlZiA9ICRTZWxmLT57Q2FjaGVPYmplY3R9LT5HZXQoCiAgICAgICAgVHlwZQk9PiAnSGFzaCcsCiAgICAgICAgS2V5CT0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0gLiBqb2luKCcnLCBAU1FMUGFyYW1ldGVyc192YWx1ZXMpLAogICAgKTsKCiAgICBpZiAoJFBvc3NpYmxlVmFsdWVzX3JlZikgewogICAgICAgICVQb3NzaWJsZVZhbHVlcyA9ICV7ICRQb3NzaWJsZVZhbHVlc19yZWYgfTsKICAgIH0KICAgIGVsc2UgewogICAgI2lmICggISAlUG9zc2libGVWYWx1ZXMgKSB7CiAgICAgICAgbXkgJHNlbGVjdGVkX3BhcmFtZXRlciA9ICRQYXJhbXtQYXJhbU9iamVjdH0tPntRdWVyeX0tPntwYXJhbX0tPnskUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntQYXJhbWV0ZXJzfX1bMF07CiAgICAKICAgICAgICAjIHNldCBub25lIHZhbHVlIGlmIGRlZmluZWQgb24gZmllbGQgY29uZmlnCiAgICAgICAgaWYgKCAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntQb3NzaWJsZU5vbmV9ICkgewogICAgICAgICAgICAlUG9zc2libGVWYWx1ZXMgPSAoICcnID0+ICctJyApOwogICAgICAgIH0KICAgIAkKCWRpZSAiR290IG5vIERCSVNUUklORyEiIGlmICggISRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e0RCSXN0cmluZ30gKTsKCiAgICAgICAgbXkgJGRiaCA9IERCSS0+Y29ubmVjdCgkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntEQklzdHJpbmd9LCAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntEQkl1c2VyfSwgJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57REJJcGFzc30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBSYWlzZUVycm9yID0+IDEsIEF1dG9Db21taXQgPT4gMCB9KTsKICAgIAoJJGRiaC0+eydteXNxbF9lbmFibGVfdXRmOCd9ID0gMTsKCiAgICAgICAgbXkgJHN0aCA9ICRkYmgtPnByZXBhcmUoJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57UXVlcnl9KTsKICAgIAoKICAgICAgICAkc3RoLT5leGVjdXRlKCBAU1FMUGFyYW1ldGVyc192YWx1ZXMgKTsKCiAgICAKICAgICAgICBteSBAcm93OwogICAgCiAgICAgICAgd2hpbGUgKCBAcm93ID0gJHN0aC0+ZmV0Y2hyb3dfYXJyYXkgKSB7CiAgICAgICAgICAgIG15ICRsaW5lID0gJyc7CiAgICAgICAgICAgIG15ICRmaXJzdFJvdyA9IDA7CiAgICAgICAgICAgIGZvciBteSAkY29sIChAcm93KSB7CiAgICAgICAgICAgICAgICBpZiAoIXV0Zjg6OmlzX3V0ZjgoJGNvbCkpIHsKICAgICAgICAgICAgICAgICAgICB1dGY4OjpkZWNvZGUoICRjb2wgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghJGZpcnN0Um93KSB7ICMgc2tpcCBmaXJzdCByb3cgCiAgICAgICAgICAgICAgICAgICAgJGZpcnN0Um93ID0gMTsKICAgICAgICAgICAgCW5leHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkbGluZSAuPSAkY29sLiRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e1NlcGFyYXRvcn07CiAgICAgICAgICAgIH0KCSAgICAkbGluZSA9IHN1YnN0cigkbGluZSwgMCwgLTEgKiBsZW5ndGgoJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57U2VwYXJhdG9yfSkpOwogICAgICAgICAgICAlUG9zc2libGVWYWx1ZXMgPSAoICVQb3NzaWJsZVZhbHVlcywgJHJvd1swXSA9PiAkbGluZSApOwogICAgICAgIH0gCiAgICAKICAgICAgICAkZGJoLT5kaXNjb25uZWN0OwogICAgCiAgICAgICAgIyBwdXQgYWxsIGluIHRoZSBjYWNoZToKCQogICAgICAgICRTZWxmLT57Q2FjaGVPYmplY3R9LT5TZXQoCiAgICAgICAgICAgIFR5cGUJPT4gJ0hhc2gnLAogICAgICAgICAgICBLZXkJCT0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0gLiBqb2luKCcnLCBAU1FMUGFyYW1ldGVyc192YWx1ZXMpLAogICAgICAgICAgICBWYWx1ZQk9PiBcJVBvc3NpYmxlVmFsdWVzLAogICAgICAgICAgICBUVEwJCT0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q2FjaGVUVEx9IHx8IDM2MCwKICAgICAgICApOwogICAgfQogICAgI2Nsb3NlIEVSUkxPRzsKCiAgICAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0NvbmZpZ30tPntQb3NzaWJsZVZhbHVlc30gPSBcJVBvc3NpYmxlVmFsdWVzOwogICAgIyByZXRydW4gdGhlIHBvc3NpYmxlIHZhbHVlcyBoYXNoIGFzIGEgcmVmZXJlbmNlCiAgICByZXR1cm4gXCVQb3NzaWJsZVZhbHVlczsKfQoKc3ViIEhpc3RvcmljYWxWYWx1ZXNHZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGdldCBoaXN0b3JpY2FsIHZhbHVlcyBmcm9tIGRhdGFiYXNlCiAgICBteSAkSGlzdG9yaWNhbFZhbHVlcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5IaXN0b3JpY2FsVmFsdWVHZXQoCiAgICAgICAgRmllbGRJRCAgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57SUR9LAogICAgICAgIFZhbHVlVHlwZSA9PiAnVGV4dCcsCiAgICApOwoKICAgICMgcmV0cnVuIHRoZSBoaXN0b3JpY2FsIHZhbHVlcyBmcm9tIGRhdGFiYXNlCiAgICByZXR1cm4gJEhpc3RvcmljYWxWYWx1ZXM7Cn0KCjE7Cgo9YmFjawoKPWhlYWQxIFRFUk1TIEFORCBDT05ESVRJT05TCgpUaGlzIHNvZnR3YXJlIGlzIHBhcnQgb2YgdGhlIE9UUlMgcHJvamVjdCAoTDxodHRwOi8vb3Rycy5vcmcvPikuCgpUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQp0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CmRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBMPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dD4uCgo9Y3V0Cgo9aGVhZDEgVkVSU0lPTgoKJCQKCj1jdXQK</File>
        <File Location="Custom/Kernel/System/DynamicField/Backend/TextAreaFromDB.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9TeXN0ZW0vRHluYW1pY0ZpZWxkL0JhY2tlbmQvVGV4dEFyZWEucG0gLSBEZWxlZ2F0ZSBmb3IgRHluYW1pY0ZpZWxkIFRleHRBcmVhIGJhY2tlbmQKIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMiBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0KIyAkSWQ6IFRleHRBcmVhLnBtLHYgMS40OC4yLjQgMjAxMi8wNS8wNyAyMTo0MzoxMCBjciBFeHAgJAojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOjpUZXh0QXJlYUZyb21EQjsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OlN5c3RlbTo6VmFyaWFibGVDaGVjayBxdyg6YWxsKTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGRWYWx1ZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQ6OkJhY2tlbmRDb21tb247Cgp1c2UgdmFycyBxdygkVkVSU0lPTik7CiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjQ4LjIuNCAkKSBbMV07Cgo9aGVhZDEgTkFNRQoKS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZDo6VGV4dEFyZWEKCj1oZWFkMSBTWU5PUFNJUwoKRHluYW1pY0ZpZWxkcyBUZXh0QXJlYSBiYWNrZW5kIGRlbGVnYXRlCgo9aGVhZDEgUFVCTElDIElOVEVSRkFDRQoKVGhpcyBtb2R1bGUgaW1wbGVtZW50cyB0aGUgcHVibGljIGludGVyZmFjZSBvZiBMPEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQ+LgpQbGVhc2UgbG9vayB0aGVyZSBmb3IgYSBkZXRhaWxlZCByZWZlcmVuY2Ugb2YgdGhlIGZ1bmN0aW9ucy4KCj1vdmVyIDQKCj1pdGVtIG5ldygpCgp1c3VhbGx5LCB5b3Ugd2FudCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcwpieSB1c2luZyBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kLT5uZXcoKTsKCj1jdXQKCnN1YiBuZXcgewogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGFsbG9jYXRlIG5ldyBoYXNoIGZvciBvYmplY3QKICAgIG15ICRTZWxmID0ge307CiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7CgogICAgIyBnZXQgbmVlZGVkIG9iamVjdHMKICAgIGZvciBteSAkTmVlZGVkIChxdyhDb25maWdPYmplY3QgRW5jb2RlT2JqZWN0IExvZ09iamVjdCBNYWluT2JqZWN0IERCT2JqZWN0KSkgewogICAgICAgIGRpZSAiR290IG5vICROZWVkZWQhIiBpZiAhJFBhcmFteyROZWVkZWR9OwoKICAgICAgICAkU2VsZi0+eyROZWVkZWR9ID0gJFBhcmFteyROZWVkZWR9OwogICAgfQoKICAgICMgY3JlYXRlIGFkZGl0aW9uYWwgb2JqZWN0cwogICAgJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkVmFsdWUtPm5ldyggJXskU2VsZn0gKTsKICAgICRTZWxmLT57QmFja2VuZENvbW1vbk9iamVjdH0KICAgICAgICA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQ6OkJhY2tlbmRDb21tb24tPm5ldyggJXskU2VsZn0gKTsKCiAgICAkU2VsZi0+e0NhY2hlT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpDYWNoZS0+bmV3KCVQYXJhbSk7CgogICAgIyBzZXQgdGhlIG1heGltdW0gbGVuZ2h0IGZvciB0aGUgdGV4dGFyZWEgZmllbGRzIHRvIHN0aWxsIGJlIGEgc2VhcmNoYWJsZSBmaWVsZCBpbiBzb21lCiAgICAjIGRhdGFiYXNlcwogICAgJFNlbGYtPntNYXhMZW5ndGh9ID0gMzgwMDsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBWYWx1ZUdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRERlZhbHVlID0gJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0tPlZhbHVlR2V0KAogICAgICAgIEZpZWxkSUQgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57SUR9LAogICAgICAgIE9iamVjdElEID0+ICRQYXJhbXtPYmplY3RJRH0sCiAgICApOwoKICAgIHJldHVybiBpZiAhJERGVmFsdWU7CiAgICByZXR1cm4gaWYgIUlzQXJyYXlSZWZXaXRoRGF0YSgkREZWYWx1ZSk7CiAgICByZXR1cm4gaWYgIUlzSGFzaFJlZldpdGhEYXRhKCAkREZWYWx1ZS0+WzBdICk7CgogICAgcmV0dXJuICRERlZhbHVlLT5bMF0tPntWYWx1ZVRleHR9Owp9CgpzdWIgVmFsdWVTZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkU3VjY2VzcyA9ICRTZWxmLT57RHluYW1pY0ZpZWxkVmFsdWVPYmplY3R9LT5WYWx1ZVNldCgKICAgICAgICBGaWVsZElEICA9PiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0lEfSwKICAgICAgICBPYmplY3RJRCA9PiAkUGFyYW17T2JqZWN0SUR9LAogICAgICAgIFZhbHVlICAgID0+IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVmFsdWVUZXh0ID0+ICRQYXJhbXtWYWx1ZX0sCiAgICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBVc2VySUQgPT4gJFBhcmFte1VzZXJJRH0sCiAgICApOwoKICAgIHJldHVybiAkU3VjY2VzczsKfQoKc3ViIFZhbHVlRGVsZXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFN1Y2Nlc3MgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZFZhbHVlT2JqZWN0fS0+VmFsdWVEZWxldGUoCiAgICAgICAgRmllbGRJRCAgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntJRH0sCiAgICAgICAgT2JqZWN0SUQgPT4gJFBhcmFte09iamVjdElEfSwKICAgICAgICBVc2VySUQgICA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CgogICAgcmV0dXJuICRTdWNjZXNzOwp9CgpzdWIgQWxsVmFsdWVzRGVsZXRlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFN1Y2Nlc3MgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZFZhbHVlT2JqZWN0fS0+QWxsVmFsdWVzRGVsZXRlKAogICAgICAgIEZpZWxkSUQgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntJRH0sCiAgICAgICAgVXNlcklEICA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CgogICAgcmV0dXJuICRTdWNjZXNzOwp9CgpzdWIgVmFsdWVWYWxpZGF0ZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRTdWNjZXNzID0gJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0tPlZhbHVlVmFsaWRhdGUoCiAgICAgICAgVmFsdWUgPT4gewogICAgICAgICAgICBWYWx1ZVRleHQgPT4gJFBhcmFte1ZhbHVlfSwKICAgICAgICB9LAogICAgICAgIFVzZXJJRCA9PiAkUGFyYW17VXNlcklEfQogICAgKTsKCiAgICByZXR1cm4gJFN1Y2Nlc3M7Cn0KCnN1YiBTZWFyY2hTUUxHZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAlT3BlcmF0b3JzID0gKAogICAgICAgIEVxdWFscyAgICAgICAgICAgID0+ICc9JywKICAgICAgICBHcmVhdGVyVGhhbiAgICAgICA9PiAnPicsCiAgICAgICAgR3JlYXRlclRoYW5FcXVhbHMgPT4gJz49JywKICAgICAgICBTbWFsbGVyVGhhbiAgICAgICA9PiAnPCcsCiAgICAgICAgU21hbGxlclRoYW5FcXVhbHMgPT4gJzw9JywKICAgICk7CgogICAgaWYgKCAkT3BlcmF0b3JzeyAkUGFyYW17T3BlcmF0b3J9IH0gKSB7CiAgICAgICAgbXkgJFNRTCA9ICIgJFBhcmFte1RhYmxlQWxpYXN9LnZhbHVlX3RleHQgJE9wZXJhdG9yc3skUGFyYW17T3BlcmF0b3J9fSAnIjsKICAgICAgICAkU1FMIC49ICRTZWxmLT57REJPYmplY3R9LT5RdW90ZSggJFBhcmFte1NlYXJjaFRlcm19ICkgLiAiJyAiOwogICAgICAgIHJldHVybiAkU1FMOwogICAgfQoKICAgIGlmICggJFBhcmFte09wZXJhdG9yfSBlcSAnTGlrZScgKSB7CgogICAgICAgIG15ICRTUUwgPSAkU2VsZi0+e0RCT2JqZWN0fS0+UXVlcnlDb25kaXRpb24oCiAgICAgICAgICAgIEtleSAgID0+ICIkUGFyYW17VGFibGVBbGlhc30udmFsdWVfdGV4dCIsCiAgICAgICAgICAgIFZhbHVlID0+ICRQYXJhbXtTZWFyY2hUZXJtfSwKICAgICAgICApOwoKICAgICAgICByZXR1cm4gJFNRTDsKICAgIH0KCiAgICAkU2VsZi0+eydMb2dPYmplY3QnfS0+TG9nKAogICAgICAgICdQcmlvcml0eScgPT4gJ2Vycm9yJywKICAgICAgICAnTWVzc2FnZScgID0+ICJVbnN1cHBvcnRlZCBPcGVyYXRvciAkUGFyYW17T3BlcmF0b3J9IiwKICAgICk7CgogICAgcmV0dXJuOwp9CgpzdWIgU2VhcmNoU1FMT3JkZXJGaWVsZEdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIHJldHVybiAiJFBhcmFte1RhYmxlQWxpYXN9LnZhbHVlX3RleHQiOwp9CgpzdWIgRWRpdEZpZWxkUmVuZGVyIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyB0YWtlIGNvbmZpZyBmcm9tIGZpZWxkIGNvbmZpZwogICAgbXkgJEZpZWxkQ29uZmlnID0gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9OwogICAgbXkgJEZpZWxkTmFtZSAgID0gJ0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfTsKICAgIG15ICRGaWVsZExhYmVsICA9ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TGFiZWx9OwoKICAgIG15ICRWYWx1ZSA9ICcnOwoKICAgICMgc2V0IHRoZSBmaWVsZCB2YWx1ZSBvciBkZWZhdWx0CiAgICBpZiAoICRQYXJhbXtVc2VEZWZhdWx0VmFsdWV9ICkgewogICAgICAgICRWYWx1ZSA9ICggZGVmaW5lZCAkRmllbGRDb25maWctPntEZWZhdWx0VmFsdWV9ID8gJEZpZWxkQ29uZmlnLT57RGVmYXVsdFZhbHVlfSA6ICcnICk7CiAgICB9CiAgICAkVmFsdWUgPSAkUGFyYW17VmFsdWV9IGlmIGRlZmluZWQgJFBhcmFte1ZhbHVlfTsKCiAgICAjIGV4dHJhY3QgdGhlIGR5bmFtaWMgZmllbGQgdmFsdWUgZm9ybSB0aGUgd2ViIHJlcXVlc3QKICAgIG15ICRGaWVsZFZhbHVlID0gJFNlbGYtPkVkaXRGaWVsZFZhbHVlR2V0KAogICAgICAgICVQYXJhbSwKICAgICk7CgogICAgIyBzZXQgdmFsdWVzIGZyb20gUGFyYW1PYmplY3QgaWYgcHJlc2VudAogICAgaWYgKCBkZWZpbmVkICRGaWVsZFZhbHVlICkgewogICAgICAgICRWYWx1ZSA9ICRGaWVsZFZhbHVlOwogICAgfQoKICAgICMgc2V0IHRoZSByb3dzIG51bWJlcgogICAgbXkgJFJvd3NOdW1iZXIKICAgICAgICA9IGRlZmluZWQgJEZpZWxkQ29uZmlnLT57Um93c30gJiYgJEZpZWxkQ29uZmlnLT57Um93c30gPyAkRmllbGRDb25maWctPntSb3dzfSA6ICc3JzsKCiAgICAjIHNldCB0aGUgY29scyBudW1iZXIKICAgIG15ICRDb2xzTnVtYmVyCiAgICAgICAgPSBkZWZpbmVkICRGaWVsZENvbmZpZy0+e0NvbHN9ICYmICRGaWVsZENvbmZpZy0+e0NvbHN9ID8gJEZpZWxkQ29uZmlnLT57Q29sc30gOiAnNDInOwoKICAgICMgY2hlY2sgYW5kIHNldCBjbGFzcyBpZiBuZWNlc3NhcnkKICAgIG15ICRGaWVsZENsYXNzID0gJ0R5bmFtaWNGaWVsZFRleHRBcmVhJzsKICAgIGlmICggZGVmaW5lZCAkUGFyYW17Q2xhc3N9ICYmICRQYXJhbXtDbGFzc30gbmUgJycgKSB7CiAgICAgICAgJEZpZWxkQ2xhc3MgLj0gJyAnIC4gJFBhcmFte0NsYXNzfTsKICAgIH0KCiAgICAjIHNldCBmaWVsZCBhcyBtYW5kYXRvcnkKICAgICRGaWVsZENsYXNzIC49ICcgVmFsaWRhdGVfUmVxdWlyZWQnIGlmICRQYXJhbXtNYW5kYXRvcnl9OwoKICAgICMgc2V0IGVycm9yIGNzcyBjbGFzcwogICAgJEZpZWxkQ2xhc3MgLj0gJyBTZXJ2ZXJFcnJvcicgaWYgJFBhcmFte1NlcnZlckVycm9yfTsKCiAgICAjIHNldCB2YWxpZGF0aW9uIGNsYXNzIGZvciBtYXhpbXVtIGNoYXJhY3RlcnMKICAgICRGaWVsZENsYXNzIC49ICcgVmFsaWRhdGVfTWF4TGVuZ3RoJzsKCiAgICAjJFZhbHVlID0gJ0JMQUJMQUJMQSc7CiAgICAjIGNyZWF0ZSBmaWVsZCBIVE1MCiAgICAjIHRoZSBYSFRNTCBkZWZpbml0aW9uIGRvZXMgbm90IHN1cHBvcnQgbWF4bGVuZ2h0IGF0dHJpYnV0ZSBmb3IgYSB0ZXh0YXJlYSBmaWVsZCwgdGhlcmVmb3JlCiAgICAjIGlzIG5lZGRlZCB0byBiZSBzZXQgYnkgSlMgY29kZSAob3RoZXJ3aXNlIHdjMyB2YWxpZGF0b3Igd2lsbCBjb21wbGFpbnQgYWJvdXQgaXQpCiAgICAjIG5vdGljZSB0aGF0IHNvbWUgYnJvd3NlcnMgY291bnQgbmV3IGxpbmVzIFxuXHIgYXMgb25seSAxIGNoYXJhY3RlciBpbiB0aGlzIGNhc2VzIHRoZQogICAgIyB2YWxpZGF0aW9uIGZyYW1ld29yayBtaWdodCByaXNlIGFuIGVycm9yIHdoaWxlIHRoZSB1c2VyIGlzIHN0aWxsIGNhcGFibGUgdG8gZW50ZXIgdGV4dCBpbiB0aGUKICAgICMgdGV4dGFyZWEsIG90aGVyd2lzZSB0aGUgbWF4bGVuZ2h0IHByb3BlcnR5IHdpbGwgcHJldmVudCB0byBlbnRlciBtb3JlIHRleHQgdGhhbiB0aGUgbWF4aW11bQogICAgbXkgJEhUTUxTdHJpbmcgPSA8PCJFT0YiOwo8dGV4dGFyZWEgY2xhc3M9IiRGaWVsZENsYXNzIiBpZD0iJEZpZWxkTmFtZSIgbmFtZT0iJEZpZWxkTmFtZSIgdGl0bGU9IiRGaWVsZExhYmVsIiByb3dzPSIkUm93c051bWJlciIgY29scz0iJENvbHNOdW1iZXIiID4kVmFsdWU8L3RleHRhcmVhPgo8IS0tZHRsOmpzX29uX2RvY3VtZW50X2NvbXBsZXRlLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4vLzwhW0NEQVRBWwogIFwkKCcjJEZpZWxkTmFtZScpLmF0dHIoJ21heGxlbmd0aCcsJyRTZWxmLT57TWF4TGVuZ3RofScpOwovL11dPjwvc2NyaXB0Pgo8IS0tZHRsOmpzX29uX2RvY3VtZW50X2NvbXBsZXRlLS0+CkVPRgoKICAgICMgZm9yIGNsaWVudCBzaWRlIHZhbGlkYXRpb24KICAgIG15ICREaXZJRCA9ICRGaWVsZE5hbWUgLiAnRXJyb3InOwoKICAgIGlmICggJFBhcmFte01hbmRhdG9yeX0gKSB7CiAgICAgICAgJEhUTUxTdHJpbmcgLj0gPDwiRU9GIjsKICAgIDxkaXYgaWQ9IiREaXZJRCIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPgogICAgICAgIDxwPgogICAgICAgICAgICBcJFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQgb3IgVGhlIGZpZWxkIGNvbnRlbnQgaXMgdG9vIGxvbmchIE1heGltdW0gc2l6ZSBpcyAkU2VsZi0+e01heExlbmd0aH0gY2hhcmFjdGVycy4ifQogICAgICAgIDwvcD4KICAgIDwvZGl2PgpFT0YKICAgIH0KICAgIGVsc2UgewogICAgICAgICRIVE1MU3RyaW5nIC49IDw8IkVPRiI7CiAgICA8ZGl2IGlkPSIkRGl2SUQiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj4KICAgICAgICA8cD4KICAgICAgICAgICAgXCRUZXh0eyJUaGUgZmllbGQgY29udGVudCBpcyB0b28gbG9uZyEgTWF4aW11bSBzaXplIGlzICRTZWxmLT57TWF4TGVuZ3RofSBjaGFyYWN0ZXJzLiJ9CiAgICAgICAgPC9wPgogICAgPC9kaXY+CkVPRgogICAgfQoKICAgIGlmICggJFBhcmFte1NlcnZlckVycm9yfSApIHsKCiAgICAgICAgbXkgJEVycm9yTWVzc2FnZSA9ICRQYXJhbXtFcnJvck1lc3NhZ2V9IHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLic7CiAgICAgICAgbXkgJERpdklEID0gJEZpZWxkTmFtZSAuICdTZXJ2ZXJFcnJvcic7CgogICAgICAgICMgZm9yIHNlcnZlciBzaWRlIHZhbGlkYXRpb24KICAgICAgICAkSFRNTFN0cmluZyAuPSA8PCJFT0YiOwogICAgPGRpdiBpZD0iJERpdklEIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+CiAgICAgICAgPHA+CiAgICAgICAgICAgIFwkVGV4dHsiJEVycm9yTWVzc2FnZSJ9CiAgICAgICAgPC9wPgogICAgPC9kaXY+CkVPRgogICAgfQoKICAgICMgY2FsbCBFZGl0TGFiZWxSZW5kZXIgb24gdGhlIGNvbW1vbiBiYWNrZW5kCiAgICBteSAkTGFiZWxTdHJpbmcgPSAkU2VsZi0+e0JhY2tlbmRDb21tb25PYmplY3R9LT5FZGl0TGFiZWxSZW5kZXIoCiAgICAgICAgRHluYW1pY0ZpZWxkQ29uZmlnID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LAogICAgICAgIE1hbmRhdG9yeSAgICAgICAgICA9PiAkUGFyYW17TWFuZGF0b3J5fSB8fCAnMCcsCiAgICAgICAgRmllbGROYW1lICAgICAgICAgID0+ICRGaWVsZE5hbWUsCiAgICApOwoKICAgIG15ICREYXRhID0gewogICAgICAgIEZpZWxkID0+ICRIVE1MU3RyaW5nLAogICAgICAgIExhYmVsID0+ICRMYWJlbFN0cmluZywKICAgIH07CgogICAgcmV0dXJuICREYXRhOwp9CgpzdWIgRWRpdEZpZWxkVmFsdWVHZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkRmllbGROYW1lID0gJ0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfTsKCiAgICBteSAkVmFsdWU7CgojICAgICMgY2hlY2sgaWYgdGhlcmUgaXMgYSBUZW1wbGF0ZSBhbmQgcmV0cmVpdmUgdGhlIGRpbmFsaWMgZmllbGQgdmFsdWUgZnJvbSB0aGVyZQojICAgIGlmICggSXNIYXNoUmVmV2l0aERhdGEoICRQYXJhbXtUZW1wbGF0ZX0gKSApIHsKIyAgICAgICAgJFZhbHVlID0gJFBhcmFte1RlbXBsYXRlfS0+eyRGaWVsZE5hbWV9OwojICAgIH0KIwojICAgICMgb3RoZXJ3aXNlIGdldCBkeW5hbWljIGZpZWxkIHZhbHVlIGZvcm0gcGFyYW0KIyAgICBlbHNlIHsKIyAgICAgICAgJFZhbHVlID0gJFBhcmFte1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICRGaWVsZE5hbWUgKTsKIyAgICB9CgojICAgIGlmICggZGVmaW5lZCAkUGFyYW17UmV0dXJuVGVtcGxhdGVTdHJ1Y3R1cmV9ICYmICRQYXJhbXtSZXR1cm5UZW1wbGF0ZVN0cnVjdHVyZX0gZXEgJzEnICkgewojICAgICAgICByZXR1cm4gewojICAgICAgICAgICAgJEZpZWxkTmFtZSA9PiAkVmFsdWUsCiMgICAgICAgIH07CiMgICAgfQoKICAgICMgVVNFIEZPUiBERUJVR0dJTkcgUFVSUE9TRVMKI3VzZSBEYXRhOjpEdW1wZXI7CiNvcGVuIEVSUkxPRywgJz4+L3RtcC9UQV8nLiRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0uJy5sb2cnOwojcHJpbnQgRVJSTE9HIER1bXBlcigkUGFyYW17UGFyYW1PYmplY3R9LT57UXVlcnl9LT57cGFyYW19KTsKI2Nsb3NlIEVSUkxPRzsKCiAgICBteSAkcXVlcnlfbmVlZGVkID0gMDsKCiAgICBteSBAU1FMUGFyYW1ldGVyc192YWx1ZXM7CgogICAgbXkgQFNRTFBhcmFtZXRlcnNfa2V5cyA9IHNwbGl0KCcsJywgJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57UGFyYW1ldGVyc30pOwoKICAgIGZvciBteSAka2V5IChAU1FMUGFyYW1ldGVyc19rZXlzKSB7CiAgICAgICAgcHVzaChAU1FMUGFyYW1ldGVyc192YWx1ZXMsICRQYXJhbXtQYXJhbU9iamVjdH0tPntRdWVyeX0tPntwYXJhbX0tPnska2V5fVswXSk7CiAgICAgICAgIyBpZiB0aGUgY2hhbmdlZCBFbGVtZW50IGlzIGluIHRoZSBwYXJhbWV0ZXIgbGlzdCwgdXBkYXRlIGRhdGEKICAgICAgICBpZiAoJFBhcmFte1BhcmFtT2JqZWN0fS0+e1F1ZXJ5fS0+e3BhcmFtfS0+e0VsZW1lbnRDaGFuZ2VkfSBhbmQgJGtleSBlcSAkUGFyYW17UGFyYW1PYmplY3R9LT57UXVlcnl9LT57cGFyYW19LT57RWxlbWVudENoYW5nZWR9WzBdKSB7CiAgICAgICAgICAgICAgICAkcXVlcnlfbmVlZGVkID0gMTsKIyAgICAgICAgICAgICAgICBwcmludCBFUlJMT0cgJGtleS4iIGVxICIuJFBhcmFte1BhcmFtT2JqZWN0fS0+e1F1ZXJ5fS0+e3BhcmFtfS0+e0VsZW1lbnRDaGFuZ2VkfVswXS4iXG4iOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKIyAgICAgICAgICAgICAgICBwcmludCBFUlJMT0cgJGtleS4iIG5lcSAiLiRQYXJhbXtQYXJhbU9iamVjdH0tPntRdWVyeX0tPntwYXJhbX0tPntFbGVtZW50Q2hhbmdlZH1bMF0uIlxuIjsKICAgICAgICB9CiAgICB9CgojICAgIHByaW50IEVSUkxPRyBEdW1wZXIoJFBhcmFte1BhcmFtT2JqZWN0fSk7CiMgICAgcHJpbnQgRVJSTE9HIFVOSVZFUlNBTDo6aXNhKCRQYXJhbXtQYXJhbU9iamVjdH0sICdIQVNIJykuIiBGaWVsZE5hbWU6ICRGaWVsZE5hbWVcbiI7CiMgICAgY2xvc2UgRVJSTE9HOwoKICAgIGlmICgkUGFyYW17UGFyYW1PYmplY3R9LT57UXVlcnl9LT57cGFyYW19LT57JEZpZWxkTmFtZX0gJiYgJFBhcmFte1BhcmFtT2JqZWN0fS0+e1F1ZXJ5fS0+e3BhcmFtfS0+eyRGaWVsZE5hbWV9WzBdKSB7CiAgICAgICAgJFZhbHVlID0gJFBhcmFte1BhcmFtT2JqZWN0fS0+e1F1ZXJ5fS0+e3BhcmFtfS0+eyRGaWVsZE5hbWV9WzBdOwogICAgfQoKICAgIGlmICgkcXVlcnlfbmVlZGVkKSB7CgogICAgICAgICRWYWx1ZSA9ICRTZWxmLT57Q2FjaGVPYmplY3R9LT5HZXQoCiAgICAgICAgICAgIFR5cGUgICAgPT4gJ1N0cmluZycsCiAgICAgICAgICAgIEtleSAgICAgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfSAuIGpvaW4oJycsIEBTUUxQYXJhbWV0ZXJzX3ZhbHVlcyksCiAgICAgICAgKTsKCiAgICAgICAgaWYgKCEkVmFsdWUpIHsKCiAgICAgICAgICAgIG15ICRkYmggPSBEQkktPmNvbm5lY3QoJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57REJJc3RyaW5nfSwgJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57REJJdXNlcn0sICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57Q29uZmlnfS0+e0RCSXBhc3N9LAogICAgICAgICAgICAgICAgeyBSYWlzZUVycm9yID0+IDEsIEF1dG9Db21taXQgPT4gMCB9KTsKICAgICAgICAgICAgbXkgJHN0aCA9ICRkYmgtPnByZXBhcmUoJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9LT57UXVlcnl9KTsKICAgICAgICAgICAgJHN0aC0+ZXhlY3V0ZSggQFNRTFBhcmFtZXRlcnNfdmFsdWVzICk7CgogICAgICAgICAgICBteSBAcm93OwogICAgICAgICAgICBteSAkY291bnRlciA9IDA7CgogICAgICAgICAgICBteSAkbGluZSA9ICcnOwoKICAgICAgICAgICAgd2hpbGUgKCBAcm93ID0gJHN0aC0+ZmV0Y2hyb3dfYXJyYXkgKSB7CgogICAgICAgICAgICAgICAgbXkgQG5hbWVzID0gJHN0aC0+e05BTUV9OwogICAgICAgICAgICAgICAgZm9yIG15ICRjb2wgKEByb3cpIHsKICAgICAgICAgICAgICAgICAgICAkbGluZSAuPSAkbmFtZXNbMF1bJGNvdW50ZXJdLiI6ICIuJGNvbC4iXG4iOwogICAgICAgICAgICAgICAgICAgICRjb3VudGVyICs9IDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRWYWx1ZSA9ICRsaW5lOwoJCiAgICAgICAgICAgICRTZWxmLT57Q2FjaGVPYmplY3R9LT5TZXQoCiAgICAgICAgICAgICAgICBUeXBlICAgICAgICA9PiAnU3RyaW5nJywKICAgICAgICAgICAgICAgIEtleSAgICAgICAgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0gLiBqb2luKCcnLCBAU1FMUGFyYW1ldGVyc192YWx1ZXMpLAogICAgICAgICAgICAgICAgVmFsdWUgICAgICAgPT4gJFZhbHVlLAogICAgICAgICAgICAgICAgVFRMICAgICAgICAgPT4gMzYwLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gJFZhbHVlOwp9CgpzdWIgRWRpdEZpZWxkVmFsdWVWYWxpZGF0ZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IHRoZSBmaWVsZCB2YWx1ZSBmcm9tIHRoZSBodHRwIHJlcXVlc3QKICAgIG15ICRWYWx1ZSA9ICRTZWxmLT5FZGl0RmllbGRWYWx1ZUdldCgKICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30sCiAgICAgICAgUGFyYW1PYmplY3QgICAgICAgID0+ICRQYXJhbXtQYXJhbU9iamVjdH0sCgogICAgICAgICMgbm90IG5lY2Vzc2FyeSBmb3IgdGhpcyBiYWNrZW5kIGJ1dCBwbGFjZSBpdCBmb3IgY29uc2lzdGVuY3kgcmVhc29ucwogICAgICAgIFJldHVyblZhbHVlU3RydWN0dXJlID0+IDEsCiAgICApOwoKICAgIG15ICRTZXJ2ZXJFcnJvcjsKICAgIG15ICRFcnJvck1lc3NhZ2U7CgogICAgIyBwZXJmb3JtIG5lY2Vzc2FyeSB2YWxpZGF0aW9ucwogICAgaWYgKCAkUGFyYW17TWFuZGF0b3J5fSAmJiAkVmFsdWUgZXEgJycgKSB7CiAgICAgICAgJFNlcnZlckVycm9yID0gMTsKICAgIH0KCiAgICBpZiAoIGxlbmd0aCAkVmFsdWUgPiAkU2VsZi0+e01heExlbmd0aH0gKSB7CiAgICAgICAgJFNlcnZlckVycm9yID0gMTsKICAgICAgICAkRXJyb3JNZXNzYWdlCiAgICAgICAgICAgID0gIlRoZSBmaWVsZCBjb250ZW50IGlzIHRvbyBsb25nISBNYXhpbXVtIHNpemUgaXMgJFNlbGYtPntNYXhMZW5ndGh9IGNoYXJhY3RlcnMuIjsKICAgIH0KCiAgICAjIGNyZWF0ZSByZXN1bHRpbmcgc3RydWN0dXJlCiAgICBteSAkUmVzdWx0ID0gewogICAgICAgIFNlcnZlckVycm9yICA9PiAkU2VydmVyRXJyb3IsCiAgICAgICAgRXJyb3JNZXNzYWdlID0+ICRFcnJvck1lc3NhZ2UsCiAgICB9OwoKICAgIHJldHVybiAkUmVzdWx0Owp9CgpzdWIgRGlzcGxheVZhbHVlUmVuZGVyIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBzZXQgSFRNTE91cHV0IGFzIGRlZmF1bHQgaWYgbm90IHNwZWNpZmllZAogICAgaWYgKCAhZGVmaW5lZCAkUGFyYW17SFRNTE91dHB1dH0gKSB7CiAgICAgICAgJFBhcmFte0hUTUxPdXRwdXR9ID0gMTsKICAgIH0KCiAgICAjIGdldCByYXcgVGl0bGUgYW5kIFZhbHVlIHN0cmluZ3MgZnJvbSBmaWVsZCB2YWx1ZQogICAgbXkgJFZhbHVlID0gZGVmaW5lZCAkUGFyYW17VmFsdWV9ID8gJFBhcmFte1ZhbHVlfSA6ICcnOwogICAgbXkgJFRpdGxlID0gJFZhbHVlOwoKICAgICMgSFRNTE91cHV0IHRyYW5zZm9ybWF0aW9ucwogICAgaWYgKCAkUGFyYW17SFRNTE91dHB1dH0gKSB7CgogICAgICAgICRWYWx1ZSA9ICRQYXJhbXtMYXlvdXRPYmplY3R9LT5Bc2NpaTJIdG1sKAogICAgICAgICAgICBUZXh0ICAgICAgICAgICA9PiAkVmFsdWUsCiAgICAgICAgICAgIEhUTUxSZXN1bHRNb2RlID0+IDEsCiAgICAgICAgICAgIE1heCAgICAgICAgICAgID0+ICRQYXJhbXtWYWx1ZU1heENoYXJzfSB8fCAnJywKICAgICAgICApOwoKICAgICAgICAkVGl0bGUgPSAkUGFyYW17TGF5b3V0T2JqZWN0fS0+QXNjaWkySHRtbCgKICAgICAgICAgICAgVGV4dCA9PiAkVGl0bGUsCiAgICAgICAgICAgIE1heCA9PiAkUGFyYW17VGl0bGVNYXhDaGFyc30gfHwgJycsCiAgICAgICAgKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIGlmICggJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICYmIGxlbmd0aCgkVmFsdWUpID4gJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICkgewogICAgICAgICAgICAkVmFsdWUgPSBzdWJzdHIoICRWYWx1ZSwgMCwgJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICkgLiAnLi4uJzsKICAgICAgICB9CiAgICAgICAgaWYgKCAkUGFyYW17VGl0bGVNYXhDaGFyc30gJiYgbGVuZ3RoKCRUaXRsZSkgPiAkUGFyYW17VGl0bGVNYXhDaGFyc30gKSB7CiAgICAgICAgICAgICRUaXRsZSA9IHN1YnN0ciggJFRpdGxlLCAwLCAkUGFyYW17VGl0bGVNYXhDaGFyc30gKSAuICcuLi4nOwogICAgICAgIH0KICAgIH0KCiAgICAjIHRoaXMgZmllbGQgdHlwZSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBMaW5rIEZlYXR1cmUKICAgIG15ICRMaW5rOwoKICAgICMgY3JlYXRlIHJldHVybiBzdHJ1Y3R1cmUKICAgIG15ICREYXRhID0gewogICAgICAgIFZhbHVlID0+ICRWYWx1ZSwKICAgICAgICBUaXRsZSA9PiAkVGl0bGUsCiAgICAgICAgTGluayAgPT4gJExpbmssCiAgICB9OwoKICAgIHJldHVybiAkRGF0YTsKfQoKc3ViIElzU29ydGFibGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICByZXR1cm4gMDsKfQoKc3ViIFNlYXJjaEZpZWxkUmVuZGVyIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyB0YWtlIGNvbmZpZyBmcm9tIGZpZWxkIGNvbmZpZwogICAgbXkgJEZpZWxkQ29uZmlnID0gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntDb25maWd9OwogICAgbXkgJEZpZWxkTmFtZSAgID0gJ1NlYXJjaF9EeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX07CiAgICBteSAkRmllbGRMYWJlbCAgPSAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e0xhYmVsfTsKCiAgICAjIHNldCB0aGUgZmllbGQgdmFsdWUKICAgIG15ICRWYWx1ZSA9ICggZGVmaW5lZCAkUGFyYW17RGVmYXVsdFZhbHVlfSA/ICRQYXJhbXtEZWZhdWx0VmFsdWV9IDogJycgKTsKCiAgICAjIGdldCB0aGUgZmllbGQgdmFsdWUsIHRoaXMgZnVjdGlvbiBpcyBhbHdheXMgY2FsbGVkIGFmdGVyIHRoZSBwcm9maWxlIGlzIGxvYWRlZAogICAgbXkgJEZpZWxkVmFsdWUgPSAkU2VsZi0+U2VhcmNoRmllbGRWYWx1ZUdldCglUGFyYW0pOwoKICAgICMgc2V0IHZhbHVlcyBmcm9tIHByb2ZpbGUgaWYgcHJlc2VudAogICAgaWYgKCBkZWZpbmVkICRGaWVsZFZhbHVlICkgewogICAgICAgICRWYWx1ZSA9ICRGaWVsZFZhbHVlOwogICAgfQoKICAgICMgY2hlY2sgYW5kIHNldCBjbGFzcyBpZiBuZWNlc3NhcnkKICAgIG15ICRGaWVsZENsYXNzID0gJ0R5bmFtaWNGaWVsZFRleHQnOwoKICAgIG15ICRIVE1MU3RyaW5nID0gPDwiRU9GIjsKPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSIkRmllbGRDbGFzcyIgaWQ9IiRGaWVsZE5hbWUiIG5hbWU9IiRGaWVsZE5hbWUiIHRpdGxlPSIkRmllbGRMYWJlbCIgdmFsdWU9IiRWYWx1ZSIgLz4KRU9GCgogICAgIyBjYWxsIEVkaXRMYWJlbFJlbmRlciBvbiB0aGUgY29tbW9uIGJhY2tlbmQKICAgIG15ICRMYWJlbFN0cmluZyA9ICRTZWxmLT57QmFja2VuZENvbW1vbk9iamVjdH0tPkVkaXRMYWJlbFJlbmRlcigKICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30sCiAgICAgICAgRmllbGROYW1lICAgICAgICAgID0+ICRGaWVsZE5hbWUsCiAgICApOwoKICAgIG15ICREYXRhID0gewogICAgICAgIEZpZWxkID0+ICRIVE1MU3RyaW5nLAogICAgICAgIExhYmVsID0+ICRMYWJlbFN0cmluZywKICAgIH07CgogICAgcmV0dXJuICREYXRhOwp9CgpzdWIgU2VhcmNoRmllbGRWYWx1ZUdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRWYWx1ZTsKCiAgICAjIGdldCBkeW5hbWljIGZpZWxkIHZhbHVlIGZvcm0gcGFyYW0gb2JqZWN0CiAgICBpZiAoIGRlZmluZWQgJFBhcmFte1BhcmFtT2JqZWN0fSApIHsKICAgICAgICAkVmFsdWUgPSAkUGFyYW17UGFyYW1PYmplY3R9CiAgICAgICAgICAgIC0+R2V0UGFyYW0oIFBhcmFtID0+ICdTZWFyY2hfRHluYW1pY0ZpZWxkXycgLiAkUGFyYW17RHluYW1pY0ZpZWxkQ29uZmlnfS0+e05hbWV9ICk7CiAgICB9CgogICAgIyBvdGhlcndpc2UgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBwcm9maWxlCiAgICBlbHNpZiAoIGRlZmluZWQgJFBhcmFte1Byb2ZpbGV9ICkgewogICAgICAgICRWYWx1ZSA9ICRQYXJhbXtQcm9maWxlfS0+eyAnU2VhcmNoX0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfSB9OwogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICggZGVmaW5lZCAkUGFyYW17UmV0dXJuUHJvZmlsZVN0cnVjdHVyZX0gJiYgJFBhcmFte1JldHVyblByb2ZpbGVTdHJ1Y3R1cmV9IGVxIDEgKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ1NlYXJjaF9EeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX0gPT4gJFZhbHVlLAogICAgICAgIH07CiAgICB9CgogICAgcmV0dXJuICRWYWx1ZTsKCn0KCnN1YiBTZWFyY2hGaWVsZFBhcmFtZXRlckJ1aWxkIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBnZXQgZmllbGQgdmFsdWUKICAgIG15ICRWYWx1ZSA9ICRTZWxmLT5TZWFyY2hGaWVsZFZhbHVlR2V0KCVQYXJhbSk7CgogICAgaWYgKCAhJFZhbHVlICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIFBhcmFtZXRlciA9PiB7CiAgICAgICAgICAgICAgICAnTGlrZScgPT4gJycsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIERpc3BsYXkgPT4gJycsCiAgICAgICAgICAgIH0KICAgIH0KCiAgICAjIHJldHVybiBzZWFyY2ggcGFyYW1ldGVyIHN0cnVjdHVyZQogICAgcmV0dXJuIHsKICAgICAgICBQYXJhbWV0ZXIgPT4gewogICAgICAgICAgICAnTGlrZScgPT4gJyonIC4gJFZhbHVlIC4gJyonLAogICAgICAgIH0sCiAgICAgICAgRGlzcGxheSA9PiAkVmFsdWUsCiAgICB9Owp9CgpzdWIgU3RhdHNGaWVsZFBhcmFtZXRlckJ1aWxkIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIHsKICAgICAgICBOYW1lICAgID0+ICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TGFiZWx9LAogICAgICAgIEVsZW1lbnQgPT4gJ0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfSwKICAgIH07Cn0KCnN1YiBDb21tb25TZWFyY2hGaWVsZFBhcmFtZXRlckJ1aWxkIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJE9wZXJhdG9yID0gJ0VxdWFscyc7CiAgICBteSAkVmFsdWUgICAgPSAkUGFyYW17VmFsdWV9OwoKICAgIHJldHVybiB7CiAgICAgICAgJE9wZXJhdG9yID0+ICRWYWx1ZSwKICAgIH07Cn0KCnN1YiBSZWFkYWJsZVZhbHVlUmVuZGVyIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFZhbHVlID0gZGVmaW5lZCAkUGFyYW17VmFsdWV9ID8gJFBhcmFte1ZhbHVlfSA6ICcnOwogICAgbXkgJFRpdGxlID0gJFZhbHVlOwoKICAgICMgY3V0IHN0cmluZ3MgaWYgbmVlZGVkCiAgICBpZiAoICRQYXJhbXtWYWx1ZU1heENoYXJzfSAmJiBsZW5ndGgoJFZhbHVlKSA+ICRQYXJhbXtWYWx1ZU1heENoYXJzfSApIHsKICAgICAgICAkVmFsdWUgPSBzdWJzdHIoICRWYWx1ZSwgMCwgJFBhcmFte1ZhbHVlTWF4Q2hhcnN9ICkgLiAnLi4uJzsKICAgIH0KICAgIGlmICggJFBhcmFte1RpdGxlTWF4Q2hhcnN9ICYmIGxlbmd0aCgkVGl0bGUpID4gJFBhcmFte1RpdGxlTWF4Q2hhcnN9ICkgewogICAgICAgICRUaXRsZSA9IHN1YnN0ciggJFRpdGxlLCAwLCAkUGFyYW17VGl0bGVNYXhDaGFyc30gKSAuICcuLi4nOwogICAgfQoKICAgICMgY3JlYXRlIHJldHVybiBzdHJ1Y3R1cmUKICAgIG15ICREYXRhID0gewogICAgICAgIFZhbHVlID0+ICRWYWx1ZSwKICAgICAgICBUaXRsZSA9PiAkVGl0bGUsCiAgICB9OwoKICAgIHJldHVybiAkRGF0YTsKfQoKc3ViIFRlbXBsYXRlVmFsdWVUeXBlR2V0IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJEZpZWxkTmFtZSA9ICdEeW5hbWljRmllbGRfJyAuICRQYXJhbXtEeW5hbWljRmllbGRDb25maWd9LT57TmFtZX07CgogICAgIyBzZXQgdGhlIGZpZWxkIHR5cGVzCiAgICBteSAkRWRpdFZhbHVlVHlwZSAgID0gJ1NDQUxBUic7CiAgICBteSAkU2VhcmNoVmFsdWVUeXBlID0gJ1NDQUxBUic7CgogICAgIyByZXR1cm4gdGhlIGNvcnJlY3Qgc3RydWN0dXJlCiAgICBpZiAoICRQYXJhbXtGaWVsZFR5cGV9IGVxICdFZGl0JyApIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAkRmllbGROYW1lID0+ICRFZGl0VmFsdWVUeXBlLAogICAgICAgICAgICB9CiAgICB9CiAgICBlbHNpZiAoICRQYXJhbXtGaWVsZFR5cGV9IGVxICdTZWFyY2gnICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdTZWFyY2hfJyAuICRGaWVsZE5hbWUgPT4gJFNlYXJjaFZhbHVlVHlwZSwKICAgICAgICAgICAgfQogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJEZpZWxkTmFtZSAgICAgICAgICAgICA9PiAkRWRpdFZhbHVlVHlwZSwKICAgICAgICAgICAgJ1NlYXJjaF8nIC4gJEZpZWxkTmFtZSA9PiAkU2VhcmNoVmFsdWVUeXBlLAogICAgICAgICAgICB9CiAgICB9Cn0KCnN1YiBJc0FKQVhVcGRhdGVhYmxlIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDA7Cn0KCnN1YiBSYW5kb21WYWx1ZVNldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRWYWx1ZSA9IGludCggcmFuZCg1MDApICk7CgogICAgbXkgJFN1Y2Nlc3MgPSAkU2VsZi0+VmFsdWVTZXQoCiAgICAgICAgJVBhcmFtLAogICAgICAgIFZhbHVlID0+ICRWYWx1ZSwKICAgICk7CgogICAgaWYgKCAhJFN1Y2Nlc3MgKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgU3VjY2VzcyA9PiAwLAogICAgICAgIH07CiAgICB9CiAgICByZXR1cm4gewogICAgICAgIFN1Y2Nlc3MgPT4gMSwKICAgICAgICBWYWx1ZSAgID0+ICRWYWx1ZSwKICAgIH07Cn0KCnN1YiBJc01hdGNoYWJsZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIHJldHVybiAxOwp9CgpzdWIgT2JqZWN0TWF0Y2ggewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAkRmllbGROYW1lID0gJ0R5bmFtaWNGaWVsZF8nIC4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntOYW1lfTsKCiAgICAjIHJldHVybiBmYWxzZSBpZiBub3QgbWF0Y2gKICAgIGlmICggJFBhcmFte09iamVjdEF0dHJpYnV0ZXN9LT57JEZpZWxkTmFtZX0gbmUgJFBhcmFte1ZhbHVlfSApIHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICByZXR1cm4gMTsKfQoKc3ViIEFKQVhQb3NzaWJsZVZhbHVlc0dldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgbm90IHN1cHBvcnRlZAogICAgcmV0dXJuOwp9CgpzdWIgSGlzdG9yaWNhbFZhbHVlc0dldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IGhpc3RvcmljYWwgdmFsdWVzIGZyb20gZGF0YWJhc2UKICAgIG15ICRIaXN0b3JpY2FsVmFsdWVzID0gJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0tPkhpc3RvcmljYWxWYWx1ZUdldCgKICAgICAgICBGaWVsZElEICAgPT4gJFBhcmFte0R5bmFtaWNGaWVsZENvbmZpZ30tPntJRH0sCiAgICAgICAgVmFsdWVUeXBlID0+ICdUZXh0JywKICAgICk7CgogICAgIyByZXRydW4gdGhlIGhpc3RvcmljYWwgdmFsdWVzIGZyb20gZGF0YWJhc2UKICAgIHJldHVybiAkSGlzdG9yaWNhbFZhbHVlczsKfQoKMTsKCj1iYWNrCgo9aGVhZDEgVEVSTVMgQU5EIENPTkRJVElPTlMKClRoaXMgc29mdHdhcmUgaXMgcGFydCBvZiB0aGUgT1RSUyBwcm9qZWN0IChMPGh0dHA6Ly9vdHJzLm9yZy8+KS4KClRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCnRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIEw8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Pi4KCj1jdXQKCj1oZWFkMSBWRVJTSU9OCgokJAoKPWN1dAo=</File>
    </Filelist>
</otrs_package>